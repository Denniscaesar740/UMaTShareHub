(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=s(c);fetch(c.href,u)}})();function jw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Md={exports:{}},Rr={};var By;function Sw(){if(By)return Rr;By=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(o,c,u){var d=null;if(u!==void 0&&(d=""+u),c.key!==void 0&&(d=""+c.key),"key"in c){u={};for(var p in c)p!=="key"&&(u[p]=c[p])}else u=c;return c=u.ref,{$$typeof:i,type:o,key:d,ref:c!==void 0?c:null,props:u}}return Rr.Fragment=t,Rr.jsx=s,Rr.jsxs=s,Rr}var Ly;function _w(){return Ly||(Ly=1,Md.exports=Sw()),Md.exports}var r=_w(),Ud={exports:{}},_e={};var Iy;function Tw(){if(Iy)return _e;Iy=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,A={};function C(O,G,ie){this.props=O,this.context=G,this.refs=A,this.updater=ie||j}C.prototype.isReactComponent={},C.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function D(){}D.prototype=C.prototype;function E(O,G,ie){this.props=O,this.context=G,this.refs=A,this.updater=ie||j}var U=E.prototype=new D;U.constructor=E,_(U,C.prototype),U.isPureReactComponent=!0;var L=Array.isArray;function q(){}var F={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function z(O,G,ie){var oe=ie.ref;return{$$typeof:i,type:O,key:G,ref:oe!==void 0?oe:null,props:ie}}function te(O,G){return z(O.type,G,O.props)}function ae(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function ye(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return G[ie]})}var Ce=/\/+/g;function Q(O,G){return typeof O=="object"&&O!==null&&O.key!=null?ye(""+O.key):G.toString(36)}function $(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(q,q):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function N(O,G,ie,oe,Y){var le=typeof O;(le==="undefined"||le==="boolean")&&(O=null);var ue=!1;if(O===null)ue=!0;else switch(le){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(O.$$typeof){case i:case t:ue=!0;break;case y:return ue=O._init,N(ue(O._payload),G,ie,oe,Y)}}if(ue)return Y=Y(O),ue=oe===""?"."+Q(O,0):oe,L(Y)?(ie="",ue!=null&&(ie=ue.replace(Ce,"$&/")+"/"),N(Y,G,ie,"",function(si){return si})):Y!=null&&(ae(Y)&&(Y=te(Y,ie+(Y.key==null||O&&O.key===Y.key?"":(""+Y.key).replace(Ce,"$&/")+"/")+ue)),G.push(Y)),1;ue=0;var we=oe===""?".":oe+":";if(L(O))for(var Me=0;Me<O.length;Me++)oe=O[Me],le=we+Q(oe,Me),ue+=N(oe,G,ie,le,Y);else if(Me=w(O),typeof Me=="function")for(O=Me.call(O),Me=0;!(oe=O.next()).done;)oe=oe.value,le=we+Q(oe,Me++),ue+=N(oe,G,ie,le,Y);else if(le==="object"){if(typeof O.then=="function")return N($(O),G,ie,oe,Y);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ue}function k(O,G,ie){if(O==null)return O;var oe=[],Y=0;return N(O,oe,"","",function(le){return G.call(ie,le,Y++)}),oe}function W(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var re=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},he={map:k,forEach:function(O,G,ie){k(O,function(){G.apply(this,arguments)},ie)},count:function(O){var G=0;return k(O,function(){G++}),G},toArray:function(O){return k(O,function(G){return G})||[]},only:function(O){if(!ae(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return _e.Activity=b,_e.Children=he,_e.Component=C,_e.Fragment=s,_e.Profiler=c,_e.PureComponent=E,_e.StrictMode=o,_e.Suspense=m,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,_e.__COMPILER_RUNTIME={__proto__:null,c:function(O){return F.H.useMemoCache(O)}},_e.cache=function(O){return function(){return O.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(O,G,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=_({},O.props),Y=O.key;if(G!=null)for(le in G.key!==void 0&&(Y=""+G.key),G)!X.call(G,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&G.ref===void 0||(oe[le]=G[le]);var le=arguments.length-2;if(le===1)oe.children=ie;else if(1<le){for(var ue=Array(le),we=0;we<le;we++)ue[we]=arguments[we+2];oe.children=ue}return z(O.type,Y,oe)},_e.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},_e.createElement=function(O,G,ie){var oe,Y={},le=null;if(G!=null)for(oe in G.key!==void 0&&(le=""+G.key),G)X.call(G,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Y[oe]=G[oe]);var ue=arguments.length-2;if(ue===1)Y.children=ie;else if(1<ue){for(var we=Array(ue),Me=0;Me<ue;Me++)we[Me]=arguments[Me+2];Y.children=we}if(O&&O.defaultProps)for(oe in ue=O.defaultProps,ue)Y[oe]===void 0&&(Y[oe]=ue[oe]);return z(O,le,Y)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(O){return{$$typeof:p,render:O}},_e.isValidElement=ae,_e.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:W}},_e.memo=function(O,G){return{$$typeof:g,type:O,compare:G===void 0?null:G}},_e.startTransition=function(O){var G=F.T,ie={};F.T=ie;try{var oe=O(),Y=F.S;Y!==null&&Y(ie,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(q,re)}catch(le){re(le)}finally{G!==null&&ie.types!==null&&(G.types=ie.types),F.T=G}},_e.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},_e.use=function(O){return F.H.use(O)},_e.useActionState=function(O,G,ie){return F.H.useActionState(O,G,ie)},_e.useCallback=function(O,G){return F.H.useCallback(O,G)},_e.useContext=function(O){return F.H.useContext(O)},_e.useDebugValue=function(){},_e.useDeferredValue=function(O,G){return F.H.useDeferredValue(O,G)},_e.useEffect=function(O,G){return F.H.useEffect(O,G)},_e.useEffectEvent=function(O){return F.H.useEffectEvent(O)},_e.useId=function(){return F.H.useId()},_e.useImperativeHandle=function(O,G,ie){return F.H.useImperativeHandle(O,G,ie)},_e.useInsertionEffect=function(O,G){return F.H.useInsertionEffect(O,G)},_e.useLayoutEffect=function(O,G){return F.H.useLayoutEffect(O,G)},_e.useMemo=function(O,G){return F.H.useMemo(O,G)},_e.useOptimistic=function(O,G){return F.H.useOptimistic(O,G)},_e.useReducer=function(O,G,ie){return F.H.useReducer(O,G,ie)},_e.useRef=function(O){return F.H.useRef(O)},_e.useState=function(O){return F.H.useState(O)},_e.useSyncExternalStore=function(O,G,ie){return F.H.useSyncExternalStore(O,G,ie)},_e.useTransition=function(){return F.H.useTransition()},_e.version="19.2.4",_e}var Vy;function Yh(){return Vy||(Vy=1,Ud.exports=Tw()),Ud.exports}var T=Yh();const oc=jw(T);var Bd={exports:{}},Or={},Ld={exports:{}},Id={};var Py;function Aw(){return Py||(Py=1,(function(i){function t(N,k){var W=N.length;N.push(k);e:for(;0<W;){var re=W-1>>>1,he=N[re];if(0<c(he,k))N[re]=k,N[W]=he,W=re;else break e}}function s(N){return N.length===0?null:N[0]}function o(N){if(N.length===0)return null;var k=N[0],W=N.pop();if(W!==k){N[0]=W;e:for(var re=0,he=N.length,O=he>>>1;re<O;){var G=2*(re+1)-1,ie=N[G],oe=G+1,Y=N[oe];if(0>c(ie,W))oe<he&&0>c(Y,ie)?(N[re]=Y,N[oe]=W,re=oe):(N[re]=ie,N[G]=W,re=G);else if(oe<he&&0>c(Y,W))N[re]=Y,N[oe]=W,re=oe;else break e}}return k}function c(N,k){var W=N.sortIndex-k.sortIndex;return W!==0?W:N.id-k.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var m=[],g=[],y=1,b=null,v=3,w=!1,j=!1,_=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function U(N){for(var k=s(g);k!==null;){if(k.callback===null)o(g);else if(k.startTime<=N)o(g),k.sortIndex=k.expirationTime,t(m,k);else break;k=s(g)}}function L(N){if(_=!1,U(N),!j)if(s(m)!==null)j=!0,q||(q=!0,ye());else{var k=s(g);k!==null&&$(L,k.startTime-N)}}var q=!1,F=-1,X=5,z=-1;function te(){return A?!0:!(i.unstable_now()-z<X)}function ae(){if(A=!1,q){var N=i.unstable_now();z=N;var k=!0;try{e:{j=!1,_&&(_=!1,D(F),F=-1),w=!0;var W=v;try{t:{for(U(N),b=s(m);b!==null&&!(b.expirationTime>N&&te());){var re=b.callback;if(typeof re=="function"){b.callback=null,v=b.priorityLevel;var he=re(b.expirationTime<=N);if(N=i.unstable_now(),typeof he=="function"){b.callback=he,U(N),k=!0;break t}b===s(m)&&o(m),U(N)}else o(m);b=s(m)}if(b!==null)k=!0;else{var O=s(g);O!==null&&$(L,O.startTime-N),k=!1}}break e}finally{b=null,v=W,w=!1}k=void 0}}finally{k?ye():q=!1}}}var ye;if(typeof E=="function")ye=function(){E(ae)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Q=Ce.port2;Ce.port1.onmessage=ae,ye=function(){Q.postMessage(null)}}else ye=function(){C(ae,0)};function $(N,k){F=C(function(){N(i.unstable_now())},k)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(N){N.callback=null},i.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<N?Math.floor(1e3/N):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(N){switch(v){case 1:case 2:case 3:var k=3;break;default:k=v}var W=v;v=k;try{return N()}finally{v=W}},i.unstable_requestPaint=function(){A=!0},i.unstable_runWithPriority=function(N,k){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var W=v;v=N;try{return k()}finally{v=W}},i.unstable_scheduleCallback=function(N,k,W){var re=i.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,N){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=W+he,N={id:y++,callback:k,priorityLevel:N,startTime:W,expirationTime:he,sortIndex:-1},W>re?(N.sortIndex=W,t(g,N),s(m)===null&&N===s(g)&&(_?(D(F),F=-1):_=!0,$(L,W-re))):(N.sortIndex=he,t(m,N),j||w||(j=!0,q||(q=!0,ye()))),N},i.unstable_shouldYield=te,i.unstable_wrapCallback=function(N){var k=v;return function(){var W=v;v=k;try{return N.apply(this,arguments)}finally{v=W}}}})(Id)),Id}var qy;function Cw(){return qy||(qy=1,Ld.exports=Aw()),Ld.exports}var Vd={exports:{}},Tt={};var $y;function kw(){if($y)return Tt;$y=1;var i=Yh();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(m,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:m,containerInfo:g,implementation:y}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Tt.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,y)},Tt.flushSync=function(m){var g=d.T,y=o.p;try{if(d.T=null,o.p=2,m)return m()}finally{d.T=g,o.p=y,o.d.f()}},Tt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(m,g))},Tt.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},Tt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,b=p(y,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?o.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:w}):y==="script"&&o.d.X(m,{crossOrigin:b,integrity:v,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Tt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=p(g.as,g.crossOrigin);o.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(m)},Tt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=p(y,g.crossOrigin);o.d.L(m,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Tt.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=p(g.as,g.crossOrigin);o.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(m)},Tt.requestFormReset=function(m){o.d.r(m)},Tt.unstable_batchedUpdates=function(m,g){return m(g)},Tt.useFormState=function(m,g,y){return d.H.useFormState(m,g,y)},Tt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Tt.version="19.2.4",Tt}var Hy;function Ew(){if(Hy)return Vd.exports;Hy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Vd.exports=kw(),Vd.exports}var Fy;function zw(){if(Fy)return Or;Fy=1;var i=Cw(),t=Yh(),s=Ew();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(o(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(o(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),e;if(f===l)return m(h),n;f=f.sibling}throw Error(o(188))}if(a.return!==l.return)a=h,l=f;else{for(var x=!1,S=h.child;S;){if(S===a){x=!0,a=h,l=f;break}if(S===l){x=!0,l=h,a=f;break}S=S.sibling}if(!x){for(S=f.child;S;){if(S===a){x=!0,a=f,l=h;break}if(S===l){x=!0,l=f,a=h;break}S=S.sibling}if(!x)throw Error(o(189))}}if(a.alternate!==l)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),E=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ye(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Symbol.for("react.client.reference");function Q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case L:return"Suspense";case q:return"SuspenseList";case z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case E:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case U:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return n=e.displayName||null,n!==null?n:Q(e.type)||"Memo";case X:n=e._payload,e=e._init;try{return Q(e(n))}catch{}}return null}var $=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},re=[],he=-1;function O(e){return{current:e}}function G(e){0>he||(e.current=re[he],re[he]=null,he--)}function ie(e,n){he++,re[he]=e.current,e.current=n}var oe=O(null),Y=O(null),le=O(null),ue=O(null);function we(e,n){switch(ie(le,n),ie(Y,e),ie(oe,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ry(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ry(n),e=oy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(oe),ie(oe,e)}function Me(){G(oe),G(Y),G(le)}function si(e){e.memoizedState!==null&&ie(ue,e);var n=oe.current,a=oy(n,e.type);n!==a&&(ie(Y,e),ie(oe,a))}function Ii(e){Y.current===e&&(G(oe),G(Y)),ue.current===e&&(G(ue),Cr._currentValue=W)}var Ma,uo;function _n(e){if(Ma===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ma=n&&n[1]||"",uo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+e+uo}var Ua=!1;function Ba(e,n){if(!e||Ua)return"";Ua=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var P=H}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(H){P=H}e.call(Z.prototype)}}else{try{throw Error()}catch(H){P=H}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&P&&typeof H.stack=="string")return[H.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),x=f[0],S=f[1];if(x&&S){var R=x.split(`
`),V=S.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===V.length)for(l=R.length-1,h=V.length-1;1<=l&&0<=h&&R[l]!==V[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==V[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==V[h]){var K=`
`+R[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{Ua=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?_n(a):""}function wc(e,n){switch(e.tag){case 26:case 27:case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return e.child!==n&&n!==null?_n("Suspense Fallback"):_n("Suspense");case 19:return _n("SuspenseList");case 0:case 15:return Ba(e.type,!1);case 11:return Ba(e.type.render,!1);case 1:return Ba(e.type,!0);case 31:return _n("Activity");default:return""}}function ho(e){try{var n="",a=null;do n+=wc(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var La=Object.prototype.hasOwnProperty,Ia=i.unstable_scheduleCallback,ne=i.unstable_cancelCallback,je=i.unstable_shouldYield,Be=i.unstable_requestPaint,Se=i.unstable_now,ht=i.unstable_getCurrentPriorityLevel,ft=i.unstable_ImmediatePriority,_t=i.unstable_UserBlockingPriority,Tn=i.unstable_NormalPriority,ai=i.unstable_LowPriority,Ss=i.unstable_IdlePriority,fo=i.log,jc=i.unstable_setDisableYieldValue,An=null,It=null;function ri(e){if(typeof fo=="function"&&jc(e),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(An,e)}catch{}}var Vt=Math.clz32?Math.clz32:lb,rb=Math.log,ob=Math.LN2;function lb(e){return e>>>=0,e===0?32:31-(rb(e)/ob|0)|0}var po=256,mo=262144,go=4194304;function Vi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yo(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?h=Vi(l):(x&=S,x!==0?h=Vi(x):a||(a=S&~e,a!==0&&(h=Vi(a))))):(S=l&~f,S!==0?h=Vi(S):x!==0?h=Vi(x):a||(a=l&~e,a!==0&&(h=Vi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Va(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function cb(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pf(){var e=go;return go<<=1,(go&62914560)===0&&(go=4194304),e}function Sc(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Pa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ub(e,n,a,l,h,f){var x=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,R=e.expirationTimes,V=e.hiddenUpdates;for(a=x&~a;0<a;){var K=31-Vt(a),Z=1<<K;S[K]=0,R[K]=-1;var P=V[K];if(P!==null)for(V[K]=null,K=0;K<P.length;K++){var H=P[K];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&qf(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(x&~n))}function qf(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Vt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function $f(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-Vt(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function Hf(e,n){var a=n&-n;return a=(a&42)!==0?1:_c(a),(a&(e.suspendedLanes|n))!==0?0:a}function _c(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ff(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:zy(e.type))}function Gf(e,n){var a=k.p;try{return k.p=e,n()}finally{k.p=a}}var oi=Math.random().toString(36).slice(2),gt="__reactFiber$"+oi,Ot="__reactProps$"+oi,_s="__reactContainer$"+oi,Ac="__reactEvents$"+oi,db="__reactListeners$"+oi,hb="__reactHandles$"+oi,Wf="__reactResources$"+oi,qa="__reactMarker$"+oi;function Cc(e){delete e[gt],delete e[Ot],delete e[Ac],delete e[db],delete e[hb]}function Ts(e){var n=e[gt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[_s]||a[gt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=py(e);e!==null;){if(a=e[gt])return a;e=py(e)}return n}e=a,a=e.parentNode}return null}function As(e){if(e=e[gt]||e[_s]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function $a(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Cs(e){var n=e[Wf];return n||(n=e[Wf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pt(e){e[qa]=!0}var Yf=new Set,Kf={};function Pi(e,n){ks(e,n),ks(e+"Capture",n)}function ks(e,n){for(Kf[e]=n,e=0;e<n.length;e++)Yf.add(n[e])}var fb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xf={},Qf={};function pb(e){return La.call(Qf,e)?!0:La.call(Xf,e)?!1:fb.test(e)?Qf[e]=!0:(Xf[e]=!0,!1)}function xo(e,n,a){if(pb(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function vo(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Dn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mb(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(x){a=""+x,f.call(this,x)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function kc(e){if(!e._valueTracker){var n=Jf(e)?"checked":"value";e._valueTracker=mb(e,n,""+e[n])}}function Zf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Jf(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gb=/[\n"\\]/g;function Jt(e){return e.replace(gb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ec(e,n,a,l,h,f,x,S){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),n!=null?x==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Qt(n)):e.value!==""+Qt(n)&&(e.value=""+Qt(n)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),n!=null?zc(e,x,Qt(n)):a!=null?zc(e,x,Qt(a)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Qt(S):e.removeAttribute("name")}function ep(e,n,a,l,h,f,x,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){kc(e);return}a=a!=null?""+Qt(a):"",n=n!=null?""+Qt(n):a,S||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),kc(e)}function zc(e,n,a){n==="number"&&bo(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Es(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Qt(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function tp(e,n,a){if(n!=null&&(n=""+Qt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Qt(a):""}function np(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(o(92));if($(l)){if(1<l.length)throw Error(o(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Qt(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),kc(e)}function zs(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var yb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ip(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||yb.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function sp(e,n,a){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&ip(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&ip(e,f,n[f])}function Rc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wo(e){return vb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mn(){}var Oc=null;function Nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,Os=null;function ap(e){var n=As(e);if(n&&(e=n.stateNode)){var a=e[Ot]||null;e:switch(e=n.stateNode,n.type){case"input":if(Ec(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Jt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[Ot]||null;if(!h)throw Error(o(90));Ec(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Zf(l)}break e;case"textarea":tp(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Es(e,!!a.multiple,n,!1)}}}var Dc=!1;function rp(e,n,a){if(Dc)return e(n,a);Dc=!0;try{var l=e(n);return l}finally{if(Dc=!1,(Rs!==null||Os!==null)&&(ll(),Rs&&(n=Rs,e=Os,Os=Rs=null,ap(n),e)))for(n=0;n<e.length;n++)ap(e[n])}}function Ha(e,n){var a=e.stateNode;if(a===null)return null;var l=a[Ot]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mc=!1;if(Un)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){Mc=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{Mc=!1}var li=null,Uc=null,jo=null;function op(){if(jo)return jo;var e,n=Uc,a=n.length,l,h="value"in li?li.value:li.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var x=a-e;for(l=1;l<=x&&n[a-l]===h[f-l];l++);return jo=h.slice(e,1<l?1-l:void 0)}function So(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _o(){return!0}function lp(){return!1}function Nt(e){function n(a,l,h,f,x){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?_o:lp,this.isPropagationStopped=lp,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=Nt(qi),Ga=b({},qi,{view:0,detail:0}),bb=Nt(Ga),Bc,Lc,Wa,Ao=b({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wa&&(Wa&&e.type==="mousemove"?(Bc=e.screenX-Wa.screenX,Lc=e.screenY-Wa.screenY):Lc=Bc=0,Wa=e),Bc)},movementY:function(e){return"movementY"in e?e.movementY:Lc}}),cp=Nt(Ao),wb=b({},Ao,{dataTransfer:0}),jb=Nt(wb),Sb=b({},Ga,{relatedTarget:0}),Ic=Nt(Sb),_b=b({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Tb=Nt(_b),Ab=b({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cb=Nt(Ab),kb=b({},qi,{data:0}),up=Nt(kb),Eb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ob(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Rb[e])?!!n[e]:!1}function Vc(){return Ob}var Nb=b({},Ga,{key:function(e){if(e.key){var n=Eb[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=So(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vc,charCode:function(e){return e.type==="keypress"?So(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?So(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Db=Nt(Nb),Mb=b({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dp=Nt(Mb),Ub=b({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vc}),Bb=Nt(Ub),Lb=b({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ib=Nt(Lb),Vb=b({},Ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pb=Nt(Vb),qb=b({},qi,{newState:0,oldState:0}),$b=Nt(qb),Hb=[9,13,27,32],Pc=Un&&"CompositionEvent"in window,Ya=null;Un&&"documentMode"in document&&(Ya=document.documentMode);var Fb=Un&&"TextEvent"in window&&!Ya,hp=Un&&(!Pc||Ya&&8<Ya&&11>=Ya),fp=" ",pp=!1;function mp(e,n){switch(e){case"keyup":return Hb.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ns=!1;function Gb(e,n){switch(e){case"compositionend":return gp(n);case"keypress":return n.which!==32?null:(pp=!0,fp);case"textInput":return e=n.data,e===fp&&pp?null:e;default:return null}}function Wb(e,n){if(Ns)return e==="compositionend"||!Pc&&mp(e,n)?(e=op(),jo=Uc=li=null,Ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hp&&n.locale!=="ko"?null:n.data;default:return null}}var Yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Yb[e.type]:n==="textarea"}function xp(e,n,a,l){Rs?Os?Os.push(l):Os=[l]:Rs=l,n=ml(n,"onChange"),0<n.length&&(a=new To("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Ka=null,Xa=null;function Kb(e){ey(e,0)}function Co(e){var n=$a(e);if(Zf(n))return e}function vp(e,n){if(e==="change")return n}var bp=!1;if(Un){var qc;if(Un){var $c="oninput"in document;if(!$c){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),$c=typeof wp.oninput=="function"}qc=$c}else qc=!1;bp=qc&&(!document.documentMode||9<document.documentMode)}function jp(){Ka&&(Ka.detachEvent("onpropertychange",Sp),Xa=Ka=null)}function Sp(e){if(e.propertyName==="value"&&Co(Xa)){var n=[];xp(n,Xa,e,Nc(e)),rp(Kb,n)}}function Xb(e,n,a){e==="focusin"?(jp(),Ka=n,Xa=a,Ka.attachEvent("onpropertychange",Sp)):e==="focusout"&&jp()}function Qb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Co(Xa)}function Jb(e,n){if(e==="click")return Co(n)}function Zb(e,n){if(e==="input"||e==="change")return Co(n)}function e2(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Pt=typeof Object.is=="function"?Object.is:e2;function Qa(e,n){if(Pt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!La.call(n,h)||!Pt(e[h],n[h]))return!1}return!0}function _p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tp(e,n){var a=_p(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_p(a)}}function Ap(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ap(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Cp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=bo(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=bo(e.document)}return n}function Hc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var t2=Un&&"documentMode"in document&&11>=document.documentMode,Ds=null,Fc=null,Ja=null,Gc=!1;function kp(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gc||Ds==null||Ds!==bo(l)||(l=Ds,"selectionStart"in l&&Hc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ja&&Qa(Ja,l)||(Ja=l,l=ml(Fc,"onSelect"),0<l.length&&(n=new To("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Ds)))}function $i(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ms={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},Wc={},Ep={};Un&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Hi(e){if(Wc[e])return Wc[e];if(!Ms[e])return e;var n=Ms[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ep)return Wc[e]=n[a];return e}var zp=Hi("animationend"),Rp=Hi("animationiteration"),Op=Hi("animationstart"),n2=Hi("transitionrun"),i2=Hi("transitionstart"),s2=Hi("transitioncancel"),Np=Hi("transitionend"),Dp=new Map,Yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yc.push("scrollEnd");function pn(e,n){Dp.set(e,n),Pi(n,[e])}var ko=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Zt=[],Us=0,Kc=0;function Eo(){for(var e=Us,n=Kc=Us=0;n<e;){var a=Zt[n];Zt[n++]=null;var l=Zt[n];Zt[n++]=null;var h=Zt[n];Zt[n++]=null;var f=Zt[n];if(Zt[n++]=null,l!==null&&h!==null){var x=l.pending;x===null?h.next=h:(h.next=x.next,x.next=h),l.pending=h}f!==0&&Mp(a,h,f)}}function zo(e,n,a,l){Zt[Us++]=e,Zt[Us++]=n,Zt[Us++]=a,Zt[Us++]=l,Kc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Xc(e,n,a,l){return zo(e,n,a,l),Ro(e)}function Fi(e,n){return zo(e,null,null,n),Ro(e)}function Mp(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Vt(a),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Ro(e){if(50<br)throw br=0,ad=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Bs={};function a2(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,n,a,l){return new a2(e,n,a,l)}function Qc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bn(e,n){var a=e.alternate;return a===null?(a=qt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Up(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Oo(e,n,a,l,h,f){var x=0;if(l=e,typeof e=="function")Qc(e)&&(x=1);else if(typeof e=="string")x=uw(e,a,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case z:return e=qt(31,a,n,h),e.elementType=z,e.lanes=f,e;case _:return Gi(a.children,h,f,n);case A:x=8,h|=24;break;case C:return e=qt(12,a,n,h|2),e.elementType=C,e.lanes=f,e;case L:return e=qt(13,a,n,h),e.elementType=L,e.lanes=f,e;case q:return e=qt(19,a,n,h),e.elementType=q,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:x=10;break e;case D:x=9;break e;case U:x=11;break e;case F:x=14;break e;case X:x=16,l=null;break e}x=29,a=Error(o(130,e===null?"null":typeof e,"")),l=null}return n=qt(x,a,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Gi(e,n,a,l){return e=qt(7,e,l,n),e.lanes=a,e}function Jc(e,n,a){return e=qt(6,e,null,n),e.lanes=a,e}function Bp(e){var n=qt(18,null,null,0);return n.stateNode=e,n}function Zc(e,n,a){return n=qt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Lp=new WeakMap;function en(e,n){if(typeof e=="object"&&e!==null){var a=Lp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ho(n)},Lp.set(e,n),n)}return{value:e,source:n,stack:ho(n)}}var Ls=[],Is=0,No=null,Za=0,tn=[],nn=0,ci=null,Cn=1,kn="";function Ln(e,n){Ls[Is++]=Za,Ls[Is++]=No,No=e,Za=n}function Ip(e,n,a){tn[nn++]=Cn,tn[nn++]=kn,tn[nn++]=ci,ci=e;var l=Cn;e=kn;var h=32-Vt(l)-1;l&=~(1<<h),a+=1;var f=32-Vt(n)+h;if(30<f){var x=h-h%5;f=(l&(1<<x)-1).toString(32),l>>=x,h-=x,Cn=1<<32-Vt(n)+h|a<<h|l,kn=f+e}else Cn=1<<f|a<<h|l,kn=e}function eu(e){e.return!==null&&(Ln(e,1),Ip(e,1,0))}function tu(e){for(;e===No;)No=Ls[--Is],Ls[Is]=null,Za=Ls[--Is],Ls[Is]=null;for(;e===ci;)ci=tn[--nn],tn[nn]=null,kn=tn[--nn],tn[nn]=null,Cn=tn[--nn],tn[nn]=null}function Vp(e,n){tn[nn++]=Cn,tn[nn++]=kn,tn[nn++]=ci,Cn=n.id,kn=n.overflow,ci=e}var yt=null,Ge=null,Oe=!1,ui=null,sn=!1,nu=Error(o(519));function di(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw er(en(n,e)),nu}function Pp(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[gt]=e,n[Ot]=l,a){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(a=0;a<jr.length;a++)Ee(jr[a],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Ee("invalid",n),ep(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ee("invalid",n);break;case"textarea":Ee("invalid",n),np(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||sy(n.textContent,a)?(l.popover!=null&&(Ee("beforetoggle",n),Ee("toggle",n)),l.onScroll!=null&&Ee("scroll",n),l.onScrollEnd!=null&&Ee("scrollend",n),l.onClick!=null&&(n.onclick=Mn),n=!0):n=!1,n||di(e,!0)}function qp(e){for(yt=e.return;yt;)switch(yt.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:yt=yt.return}}function Vs(e){if(e!==yt)return!1;if(!Oe)return qp(e),Oe=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bd(e.type,e.memoizedProps)),a=!a),a&&Ge&&di(e),qp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ge=fy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ge=fy(e)}else n===27?(n=Ge,Ti(e.type)?(e=Td,Td=null,Ge=e):Ge=n):Ge=yt?rn(e.stateNode.nextSibling):null;return!0}function Wi(){Ge=yt=null,Oe=!1}function iu(){var e=ui;return e!==null&&(Bt===null?Bt=e:Bt.push.apply(Bt,e),ui=null),e}function er(e){ui===null?ui=[e]:ui.push(e)}var su=O(null),Yi=null,In=null;function hi(e,n,a){ie(su,n._currentValue),n._currentValue=a}function Vn(e){e._currentValue=su.current,G(su)}function au(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function ru(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var x=h.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=h;for(var R=0;R<n.length;R++)if(S.context===n[R]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),au(f.return,a,e),l||(x=null);break e}f=S.next}}else if(h.tag===18){if(x=h.return,x===null)throw Error(o(341));x.lanes|=a,f=x.alternate,f!==null&&(f.lanes|=a),au(x,a,e),x=null}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===e){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}}function Ps(e,n,a,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var x=h.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var S=h.type;Pt(h.pendingProps.value,x.value)||(e!==null?e.push(S):e=[S])}}else if(h===ue.current){if(x=h.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Cr):e=[Cr])}h=h.return}e!==null&&ru(n,e,a,l),n.flags|=262144}function Do(e){for(e=e.firstContext;e!==null;){if(!Pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ki(e){Yi=e,In=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xt(e){return $p(Yi,e)}function Mo(e,n){return Yi===null&&Ki(e),$p(e,n)}function $p(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},In===null){if(e===null)throw Error(o(308));In=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else In=In.next=n;return a}var r2=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},o2=i.unstable_scheduleCallback,l2=i.unstable_NormalPriority,nt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ou(){return{controller:new r2,data:new Map,refCount:0}}function tr(e){e.refCount--,e.refCount===0&&o2(l2,function(){e.controller.abort()})}var nr=null,lu=0,qs=0,$s=null;function c2(e,n){if(nr===null){var a=nr=[];lu=0,qs=dd(),$s={status:"pending",value:void 0,then:function(l){a.push(l)}}}return lu++,n.then(Hp,Hp),n}function Hp(){if(--lu===0&&nr!==null){$s!==null&&($s.status="fulfilled");var e=nr;nr=null,qs=0,$s=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function u2(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Fp=N.S;N.S=function(e,n){kg=Se(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&c2(e,n),Fp!==null&&Fp(e,n)};var Xi=O(null);function cu(){var e=Xi.current;return e!==null?e:$e.pooledCache}function Uo(e,n){n===null?ie(Xi,Xi.current):ie(Xi,n.pool)}function Gp(){var e=cu();return e===null?null:{parent:nt._currentValue,pool:e}}var Hs=Error(o(460)),uu=Error(o(474)),Bo=Error(o(542)),Lo={then:function(){}};function Wp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Mn,Mn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xp(e),e;default:if(typeof n.status=="string")n.then(Mn,Mn);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xp(e),e}throw Ji=n,Hs}}function Qi(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ji=a,Hs):a}}var Ji=null;function Kp(){if(Ji===null)throw Error(o(459));var e=Ji;return Ji=null,e}function Xp(e){if(e===Hs||e===Bo)throw Error(o(483))}var Fs=null,ir=0;function Io(e){var n=ir;return ir+=1,Fs===null&&(Fs=[]),Yp(Fs,e,n)}function sr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vo(e,n){throw n.$$typeof===v?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Qp(e){function n(B,M){if(e){var I=B.deletions;I===null?(B.deletions=[M],B.flags|=16):I.push(M)}}function a(B,M){if(!e)return null;for(;M!==null;)n(B,M),M=M.sibling;return null}function l(B){for(var M=new Map;B!==null;)B.key!==null?M.set(B.key,B):M.set(B.index,B),B=B.sibling;return M}function h(B,M){return B=Bn(B,M),B.index=0,B.sibling=null,B}function f(B,M,I){return B.index=I,e?(I=B.alternate,I!==null?(I=I.index,I<M?(B.flags|=67108866,M):I):(B.flags|=67108866,M)):(B.flags|=1048576,M)}function x(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function S(B,M,I,J){return M===null||M.tag!==6?(M=Jc(I,B.mode,J),M.return=B,M):(M=h(M,I),M.return=B,M)}function R(B,M,I,J){var me=I.type;return me===_?K(B,M,I.props.children,J,I.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===X&&Qi(me)===M.type)?(M=h(M,I.props),sr(M,I),M.return=B,M):(M=Oo(I.type,I.key,I.props,null,B.mode,J),sr(M,I),M.return=B,M)}function V(B,M,I,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==I.containerInfo||M.stateNode.implementation!==I.implementation?(M=Zc(I,B.mode,J),M.return=B,M):(M=h(M,I.children||[]),M.return=B,M)}function K(B,M,I,J,me){return M===null||M.tag!==7?(M=Gi(I,B.mode,J,me),M.return=B,M):(M=h(M,I),M.return=B,M)}function Z(B,M,I){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Jc(""+M,B.mode,I),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return I=Oo(M.type,M.key,M.props,null,B.mode,I),sr(I,M),I.return=B,I;case j:return M=Zc(M,B.mode,I),M.return=B,M;case X:return M=Qi(M),Z(B,M,I)}if($(M)||ye(M))return M=Gi(M,B.mode,I,null),M.return=B,M;if(typeof M.then=="function")return Z(B,Io(M),I);if(M.$$typeof===E)return Z(B,Mo(B,M),I);Vo(B,M)}return null}function P(B,M,I,J){var me=M!==null?M.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return me!==null?null:S(B,M,""+I,J);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return I.key===me?R(B,M,I,J):null;case j:return I.key===me?V(B,M,I,J):null;case X:return I=Qi(I),P(B,M,I,J)}if($(I)||ye(I))return me!==null?null:K(B,M,I,J,null);if(typeof I.then=="function")return P(B,M,Io(I),J);if(I.$$typeof===E)return P(B,M,Mo(B,I),J);Vo(B,I)}return null}function H(B,M,I,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(I)||null,S(M,B,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return B=B.get(J.key===null?I:J.key)||null,R(M,B,J,me);case j:return B=B.get(J.key===null?I:J.key)||null,V(M,B,J,me);case X:return J=Qi(J),H(B,M,I,J,me)}if($(J)||ye(J))return B=B.get(I)||null,K(M,B,J,me,null);if(typeof J.then=="function")return H(B,M,I,Io(J),me);if(J.$$typeof===E)return H(B,M,I,Mo(M,J),me);Vo(M,J)}return null}function ce(B,M,I,J){for(var me=null,Ne=null,fe=M,Ae=M=0,Re=null;fe!==null&&Ae<I.length;Ae++){fe.index>Ae?(Re=fe,fe=null):Re=fe.sibling;var De=P(B,fe,I[Ae],J);if(De===null){fe===null&&(fe=Re);break}e&&fe&&De.alternate===null&&n(B,fe),M=f(De,M,Ae),Ne===null?me=De:Ne.sibling=De,Ne=De,fe=Re}if(Ae===I.length)return a(B,fe),Oe&&Ln(B,Ae),me;if(fe===null){for(;Ae<I.length;Ae++)fe=Z(B,I[Ae],J),fe!==null&&(M=f(fe,M,Ae),Ne===null?me=fe:Ne.sibling=fe,Ne=fe);return Oe&&Ln(B,Ae),me}for(fe=l(fe);Ae<I.length;Ae++)Re=H(fe,B,Ae,I[Ae],J),Re!==null&&(e&&Re.alternate!==null&&fe.delete(Re.key===null?Ae:Re.key),M=f(Re,M,Ae),Ne===null?me=Re:Ne.sibling=Re,Ne=Re);return e&&fe.forEach(function(zi){return n(B,zi)}),Oe&&Ln(B,Ae),me}function xe(B,M,I,J){if(I==null)throw Error(o(151));for(var me=null,Ne=null,fe=M,Ae=M=0,Re=null,De=I.next();fe!==null&&!De.done;Ae++,De=I.next()){fe.index>Ae?(Re=fe,fe=null):Re=fe.sibling;var zi=P(B,fe,De.value,J);if(zi===null){fe===null&&(fe=Re);break}e&&fe&&zi.alternate===null&&n(B,fe),M=f(zi,M,Ae),Ne===null?me=zi:Ne.sibling=zi,Ne=zi,fe=Re}if(De.done)return a(B,fe),Oe&&Ln(B,Ae),me;if(fe===null){for(;!De.done;Ae++,De=I.next())De=Z(B,De.value,J),De!==null&&(M=f(De,M,Ae),Ne===null?me=De:Ne.sibling=De,Ne=De);return Oe&&Ln(B,Ae),me}for(fe=l(fe);!De.done;Ae++,De=I.next())De=H(fe,B,Ae,De.value,J),De!==null&&(e&&De.alternate!==null&&fe.delete(De.key===null?Ae:De.key),M=f(De,M,Ae),Ne===null?me=De:Ne.sibling=De,Ne=De);return e&&fe.forEach(function(ww){return n(B,ww)}),Oe&&Ln(B,Ae),me}function qe(B,M,I,J){if(typeof I=="object"&&I!==null&&I.type===_&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case w:e:{for(var me=I.key;M!==null;){if(M.key===me){if(me=I.type,me===_){if(M.tag===7){a(B,M.sibling),J=h(M,I.props.children),J.return=B,B=J;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===X&&Qi(me)===M.type){a(B,M.sibling),J=h(M,I.props),sr(J,I),J.return=B,B=J;break e}a(B,M);break}else n(B,M);M=M.sibling}I.type===_?(J=Gi(I.props.children,B.mode,J,I.key),J.return=B,B=J):(J=Oo(I.type,I.key,I.props,null,B.mode,J),sr(J,I),J.return=B,B=J)}return x(B);case j:e:{for(me=I.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===I.containerInfo&&M.stateNode.implementation===I.implementation){a(B,M.sibling),J=h(M,I.children||[]),J.return=B,B=J;break e}else{a(B,M);break}else n(B,M);M=M.sibling}J=Zc(I,B.mode,J),J.return=B,B=J}return x(B);case X:return I=Qi(I),qe(B,M,I,J)}if($(I))return ce(B,M,I,J);if(ye(I)){if(me=ye(I),typeof me!="function")throw Error(o(150));return I=me.call(I),xe(B,M,I,J)}if(typeof I.then=="function")return qe(B,M,Io(I),J);if(I.$$typeof===E)return qe(B,M,Mo(B,I),J);Vo(B,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,M!==null&&M.tag===6?(a(B,M.sibling),J=h(M,I),J.return=B,B=J):(a(B,M),J=Jc(I,B.mode,J),J.return=B,B=J),x(B)):a(B,M)}return function(B,M,I,J){try{ir=0;var me=qe(B,M,I,J);return Fs=null,me}catch(fe){if(fe===Hs||fe===Bo)throw fe;var Ne=qt(29,fe,null,B.mode);return Ne.lanes=J,Ne.return=B,Ne}}}var Zi=Qp(!0),Jp=Qp(!1),fi=!1;function du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function mi(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ue&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ro(e),Mp(e,null,a),n}return zo(e,l,n,a),Ro(e)}function ar(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,$f(e,a)}}function fu(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=x:f=f.next=x,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var pu=!1;function rr(){if(pu){var e=$s;if(e!==null)throw e}}function or(e,n,a,l){pu=!1;var h=e.updateQueue;fi=!1;var f=h.firstBaseUpdate,x=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var R=S,V=R.next;R.next=null,x===null?f=V:x.next=V,x=R;var K=e.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==x&&(S===null?K.firstBaseUpdate=V:S.next=V,K.lastBaseUpdate=R))}if(f!==null){var Z=h.baseState;x=0,K=V=R=null,S=f;do{var P=S.lane&-536870913,H=P!==S.lane;if(H?(ze&P)===P:(l&P)===P){P!==0&&P===qs&&(pu=!0),K!==null&&(K=K.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=e,xe=S;P=n;var qe=a;switch(xe.tag){case 1:if(ce=xe.payload,typeof ce=="function"){Z=ce.call(qe,Z,P);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=xe.payload,P=typeof ce=="function"?ce.call(qe,Z,P):ce,P==null)break e;Z=b({},Z,P);break e;case 2:fi=!0}}P=S.callback,P!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[P]:H.push(P))}else H={lane:P,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(V=K=H,R=Z):K=K.next=H,x|=P;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;H=S,S=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=V,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),bi|=x,e.lanes=x,e.memoizedState=Z}}function Zp(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function em(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Zp(a[e],n)}var Gs=O(null),Po=O(0);function tm(e,n){e=Kn,ie(Po,e),ie(Gs,n),Kn=e|n.baseLanes}function mu(){ie(Po,Kn),ie(Gs,Gs.current)}function gu(){Kn=Po.current,G(Gs),G(Po)}var $t=O(null),an=null;function gi(e){var n=e.alternate;ie(et,et.current&1),ie($t,e),an===null&&(n===null||Gs.current!==null||n.memoizedState!==null)&&(an=e)}function yu(e){ie(et,et.current),ie($t,e),an===null&&(an=e)}function nm(e){e.tag===22?(ie(et,et.current),ie($t,e),an===null&&(an=e)):yi()}function yi(){ie(et,et.current),ie($t,$t.current)}function Ht(e){G($t),an===e&&(an=null),G(et)}var et=O(0);function qo(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sd(a)||_d(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pn=0,Te=null,Ve=null,it=null,$o=!1,Ws=!1,es=!1,Ho=0,lr=0,Ys=null,d2=0;function Xe(){throw Error(o(321))}function xu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Pt(e[a],n[a]))return!1;return!0}function vu(e,n,a,l,h,f){return Pn=f,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,N.H=e===null||e.memoizedState===null?Im:Du,es=!1,f=a(l,h),es=!1,Ws&&(f=sm(n,a,l,h)),im(e),f}function im(e){N.H=dr;var n=Ve!==null&&Ve.next!==null;if(Pn=0,it=Ve=Te=null,$o=!1,lr=0,Ys=null,n)throw Error(o(300));e===null||st||(e=e.dependencies,e!==null&&Do(e)&&(st=!0))}function sm(e,n,a,l){Te=e;var h=0;do{if(Ws&&(Ys=null),lr=0,Ws=!1,25<=h)throw Error(o(301));if(h+=1,it=Ve=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}N.H=Vm,f=n(a,l)}while(Ws);return f}function h2(){var e=N.H,n=e.useState()[0];return n=typeof n.then=="function"?cr(n):n,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(Te.flags|=1024),n}function bu(){var e=Ho!==0;return Ho=0,e}function wu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function ju(e){if($o){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}$o=!1}Pn=0,it=Ve=Te=null,Ws=!1,lr=Ho=0,Ys=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Te.memoizedState=it=e:it=it.next=e,it}function tt(){if(Ve===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var n=it===null?Te.memoizedState:it.next;if(n!==null)it=n,Ve=e;else{if(e===null)throw Te.alternate===null?Error(o(467)):Error(o(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},it===null?Te.memoizedState=it=e:it=it.next=e}return it}function Fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cr(e){var n=lr;return lr+=1,Ys===null&&(Ys=[]),e=Yp(Ys,e,n),n=Te,(it===null?n.memoizedState:it.next)===null&&(n=n.alternate,N.H=n===null||n.memoizedState===null?Im:Du),e}function Go(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cr(e);if(e.$$typeof===E)return xt(e)}throw Error(o(438,String(e)))}function Su(e){var n=null,a=Te.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fo(),Te.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=te;return n.index++,a}function qn(e,n){return typeof n=="function"?n(e):n}function Wo(e){var n=tt();return _u(n,Ve,e)}function _u(e,n,a){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=a;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var x=h.next;h.next=f.next,f.next=x}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var S=x=null,R=null,V=n,K=!1;do{var Z=V.lane&-536870913;if(Z!==V.lane?(ze&Z)===Z:(Pn&Z)===Z){var P=V.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),Z===qs&&(K=!0);else if((Pn&P)===P){V=V.next,P===qs&&(K=!0);continue}else Z={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(S=R=Z,x=f):R=R.next=Z,Te.lanes|=P,bi|=P;Z=V.action,es&&a(f,Z),f=V.hasEagerState?V.eagerState:a(f,Z)}else P={lane:Z,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(S=R=P,x=f):R=R.next=P,Te.lanes|=Z,bi|=Z;V=V.next}while(V!==null&&V!==n);if(R===null?x=f:R.next=S,!Pt(f,e.memoizedState)&&(st=!0,K&&(a=$s,a!==null)))throw a;e.memoizedState=f,e.baseState=x,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Tu(e){var n=tt(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var x=h=h.next;do f=e(f,x.action),x=x.next;while(x!==h);Pt(f,n.memoizedState)||(st=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function am(e,n,a){var l=Te,h=tt(),f=Oe;if(f){if(a===void 0)throw Error(o(407));a=a()}else a=n();var x=!Pt((Ve||h).memoizedState,a);if(x&&(h.memoizedState=a,st=!0),h=h.queue,ku(lm.bind(null,l,h,e),[e]),h.getSnapshot!==n||x||it!==null&&it.memoizedState.tag&1){if(l.flags|=2048,Ks(9,{destroy:void 0},om.bind(null,l,h,a,n),null),$e===null)throw Error(o(349));f||(Pn&127)!==0||rm(l,n,a)}return a}function rm(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Te.updateQueue,n===null?(n=Fo(),Te.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function om(e,n,a,l){n.value=a,n.getSnapshot=l,cm(n)&&um(e)}function lm(e,n,a){return a(function(){cm(n)&&um(e)})}function cm(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Pt(e,a)}catch{return!0}}function um(e){var n=Fi(e,2);n!==null&&Lt(n,e,2)}function Au(e){var n=Et();if(typeof e=="function"){var a=e;if(e=a(),es){ri(!0);try{a()}finally{ri(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:e},n}function dm(e,n,a,l){return e.baseState=a,_u(e,Ve,typeof l=="function"?l:qn)}function f2(e,n,a,l,h){if(Xo(e))throw Error(o(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){f.listeners.push(x)}};N.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,hm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function hm(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=N.T,x={};N.T=x;try{var S=a(h,l),R=N.S;R!==null&&R(x,S),fm(e,n,S)}catch(V){Cu(e,n,V)}finally{f!==null&&x.types!==null&&(f.types=x.types),N.T=f}}else try{f=a(h,l),fm(e,n,f)}catch(V){Cu(e,n,V)}}function fm(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){pm(e,n,l)},function(l){return Cu(e,n,l)}):pm(e,n,a)}function pm(e,n,a){n.status="fulfilled",n.value=a,mm(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,hm(e,a)))}function Cu(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,mm(n),n=n.next;while(n!==l)}e.action=null}function mm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function gm(e,n){return n}function ym(e,n){if(Oe){var a=$e.formState;if(a!==null){e:{var l=Te;if(Oe){if(Ge){t:{for(var h=Ge,f=sn;h.nodeType!==8;){if(!f){h=null;break t}if(h=rn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Ge=rn(h.nextSibling),l=h.data==="F!";break e}}di(l)}l=!1}l&&(n=a[0])}}return a=Et(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gm,lastRenderedState:n},a.queue=l,a=Um.bind(null,Te,l),l.dispatch=a,l=Au(!1),f=Nu.bind(null,Te,!1,l.queue),l=Et(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=f2.bind(null,Te,h,f,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function xm(e){var n=tt();return vm(n,Ve,e)}function vm(e,n,a){if(n=_u(e,n,gm)[0],e=Wo(qn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=cr(n)}catch(x){throw x===Hs?Bo:x}else l=n;n=tt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Te.flags|=2048,Ks(9,{destroy:void 0},p2.bind(null,h,a),null)),[l,f,e]}function p2(e,n){e.action=n}function bm(e){var n=tt(),a=Ve;if(a!==null)return vm(n,a,e);tt(),n=n.memoizedState,a=tt();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Ks(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=Te.updateQueue,n===null&&(n=Fo(),Te.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function wm(){return tt().memoizedState}function Yo(e,n,a,l){var h=Et();Te.flags|=e,h.memoizedState=Ks(1|n,{destroy:void 0},a,l===void 0?null:l)}function Ko(e,n,a,l){var h=tt();l=l===void 0?null:l;var f=h.memoizedState.inst;Ve!==null&&l!==null&&xu(l,Ve.memoizedState.deps)?h.memoizedState=Ks(n,f,a,l):(Te.flags|=e,h.memoizedState=Ks(1|n,f,a,l))}function jm(e,n){Yo(8390656,8,e,n)}function ku(e,n){Ko(2048,8,e,n)}function m2(e){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=Fo(),Te.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Sm(e){var n=tt().memoizedState;return m2({ref:n,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function _m(e,n){return Ko(4,2,e,n)}function Tm(e,n){return Ko(4,4,e,n)}function Am(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Cm(e,n,a){a=a!=null?a.concat([e]):null,Ko(4,4,Am.bind(null,n,e),a)}function Eu(){}function km(e,n){var a=tt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&xu(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Em(e,n){var a=tt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&xu(n,l[1]))return l[0];if(l=e(),es){ri(!0);try{e()}finally{ri(!1)}}return a.memoizedState=[l,n],l}function zu(e,n,a){return a===void 0||(Pn&1073741824)!==0&&(ze&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=zg(),Te.lanes|=e,bi|=e,a)}function zm(e,n,a,l){return Pt(a,n)?a:Gs.current!==null?(e=zu(e,a,l),Pt(e,n)||(st=!0),e):(Pn&42)===0||(Pn&1073741824)!==0&&(ze&261930)===0?(st=!0,e.memoizedState=a):(e=zg(),Te.lanes|=e,bi|=e,n)}function Rm(e,n,a,l,h){var f=k.p;k.p=f!==0&&8>f?f:8;var x=N.T,S={};N.T=S,Nu(e,!1,n,a);try{var R=h(),V=N.S;if(V!==null&&V(S,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=u2(R,l);ur(e,n,K,Wt(e))}else ur(e,n,l,Wt(e))}catch(Z){ur(e,n,{then:function(){},status:"rejected",reason:Z},Wt())}finally{k.p=f,x!==null&&S.types!==null&&(x.types=S.types),N.T=x}}function g2(){}function Ru(e,n,a,l){if(e.tag!==5)throw Error(o(476));var h=Om(e).queue;Rm(e,h,n,W,a===null?g2:function(){return Nm(e),a(l)})}function Om(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:W},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Nm(e){var n=Om(e);n.next===null&&(n=e.alternate.memoizedState),ur(e,n.next.queue,{},Wt())}function Ou(){return xt(Cr)}function Dm(){return tt().memoizedState}function Mm(){return tt().memoizedState}function y2(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Wt();e=pi(a);var l=mi(n,e,a);l!==null&&(Lt(l,n,a),ar(l,n,a)),n={cache:ou()},e.payload=n;return}n=n.return}}function x2(e,n,a){var l=Wt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xo(e)?Bm(n,a):(a=Xc(e,n,a,l),a!==null&&(Lt(a,e,l),Lm(a,n,l)))}function Um(e,n,a){var l=Wt();ur(e,n,a,l)}function ur(e,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Bm(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var x=n.lastRenderedState,S=f(x,a);if(h.hasEagerState=!0,h.eagerState=S,Pt(S,x))return zo(e,n,h,0),$e===null&&Eo(),!1}catch{}if(a=Xc(e,n,h,l),a!==null)return Lt(a,e,l),Lm(a,n,l),!0}return!1}function Nu(e,n,a,l){if(l={lane:2,revertLane:dd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xo(e)){if(n)throw Error(o(479))}else n=Xc(e,a,l,2),n!==null&&Lt(n,e,2)}function Xo(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function Bm(e,n){Ws=$o=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Lm(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,$f(e,a)}}var dr={readContext:xt,use:Go,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};dr.useEffectEvent=Xe;var Im={readContext:xt,use:Go,useCallback:function(e,n){return Et().memoizedState=[e,n===void 0?null:n],e},useContext:xt,useEffect:jm,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Yo(4194308,4,Am.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Yo(4194308,4,e,n)},useInsertionEffect:function(e,n){Yo(4,2,e,n)},useMemo:function(e,n){var a=Et();n=n===void 0?null:n;var l=e();if(es){ri(!0);try{e()}finally{ri(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=Et();if(a!==void 0){var h=a(n);if(es){ri(!0);try{a(n)}finally{ri(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=x2.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var n=Et();return e={current:e},n.memoizedState=e},useState:function(e){e=Au(e);var n=e.queue,a=Um.bind(null,Te,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Eu,useDeferredValue:function(e,n){var a=Et();return zu(a,e,n)},useTransition:function(){var e=Au(!1);return e=Rm.bind(null,Te,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Te,h=Et();if(Oe){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),$e===null)throw Error(o(349));(ze&127)!==0||rm(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,jm(lm.bind(null,l,f,e),[e]),l.flags|=2048,Ks(9,{destroy:void 0},om.bind(null,l,f,a,n),null),a},useId:function(){var e=Et(),n=$e.identifierPrefix;if(Oe){var a=kn,l=Cn;a=(l&~(1<<32-Vt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ho++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=d2++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ou,useFormState:ym,useActionState:ym,useOptimistic:function(e){var n=Et();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Nu.bind(null,Te,!0,a),a.dispatch=n,[e,n]},useMemoCache:Su,useCacheRefresh:function(){return Et().memoizedState=y2.bind(null,Te)},useEffectEvent:function(e){var n=Et(),a={impl:e};return n.memoizedState=a,function(){if((Ue&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Du={readContext:xt,use:Go,useCallback:km,useContext:xt,useEffect:ku,useImperativeHandle:Cm,useInsertionEffect:_m,useLayoutEffect:Tm,useMemo:Em,useReducer:Wo,useRef:wm,useState:function(){return Wo(qn)},useDebugValue:Eu,useDeferredValue:function(e,n){var a=tt();return zm(a,Ve.memoizedState,e,n)},useTransition:function(){var e=Wo(qn)[0],n=tt().memoizedState;return[typeof e=="boolean"?e:cr(e),n]},useSyncExternalStore:am,useId:Dm,useHostTransitionStatus:Ou,useFormState:xm,useActionState:xm,useOptimistic:function(e,n){var a=tt();return dm(a,Ve,e,n)},useMemoCache:Su,useCacheRefresh:Mm};Du.useEffectEvent=Sm;var Vm={readContext:xt,use:Go,useCallback:km,useContext:xt,useEffect:ku,useImperativeHandle:Cm,useInsertionEffect:_m,useLayoutEffect:Tm,useMemo:Em,useReducer:Tu,useRef:wm,useState:function(){return Tu(qn)},useDebugValue:Eu,useDeferredValue:function(e,n){var a=tt();return Ve===null?zu(a,e,n):zm(a,Ve.memoizedState,e,n)},useTransition:function(){var e=Tu(qn)[0],n=tt().memoizedState;return[typeof e=="boolean"?e:cr(e),n]},useSyncExternalStore:am,useId:Dm,useHostTransitionStatus:Ou,useFormState:bm,useActionState:bm,useOptimistic:function(e,n){var a=tt();return Ve!==null?dm(a,Ve,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Su,useCacheRefresh:Mm};Vm.useEffectEvent=Sm;function Mu(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uu={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Wt(),h=pi(l);h.payload=n,a!=null&&(h.callback=a),n=mi(e,h,l),n!==null&&(Lt(n,e,l),ar(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Wt(),h=pi(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=mi(e,h,l),n!==null&&(Lt(n,e,l),ar(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Wt(),l=pi(a);l.tag=2,n!=null&&(l.callback=n),n=mi(e,l,a),n!==null&&(Lt(n,e,a),ar(n,e,a))}};function Pm(e,n,a,l,h,f,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,x):n.prototype&&n.prototype.isPureReactComponent?!Qa(a,l)||!Qa(h,f):!0}function qm(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Uu.enqueueReplaceState(n,n.state,null)}function ts(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function $m(e){ko(e)}function Hm(e){console.error(e)}function Fm(e){ko(e)}function Qo(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gm(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bu(e,n,a){return a=pi(a),a.tag=3,a.payload={element:null},a.callback=function(){Qo(e,n)},a}function Wm(e){return e=pi(e),e.tag=3,e}function Ym(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Gm(n,a,l)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Gm(n,a,l),typeof h!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function v2(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ps(n,a,h,!0),a=$t.current,a!==null){switch(a.tag){case 31:case 13:return an===null?cl():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Lo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ld(e,l,h)),!1;case 22:return a.flags|=65536,l===Lo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ld(e,l,h)),!1}throw Error(o(435,a.tag))}return ld(e,l,h),cl(),!1}if(Oe)return n=$t.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==nu&&(e=Error(o(422),{cause:l}),er(en(e,a)))):(l!==nu&&(n=Error(o(423),{cause:l}),er(en(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=en(l,a),h=Bu(e.stateNode,l,h),fu(e,h),Qe!==4&&(Qe=2)),!1;var f=Error(o(520),{cause:l});if(f=en(f,a),vr===null?vr=[f]:vr.push(f),Qe!==4&&(Qe=2),n===null)return!0;l=en(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Bu(a.stateNode,l,e),fu(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wi===null||!wi.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Wm(h),Ym(h,e,a,l),fu(a,h),!1}a=a.return}while(a!==null);return!1}var Lu=Error(o(461)),st=!1;function vt(e,n,a,l){n.child=e===null?Jp(n,null,a,l):Zi(n,e.child,a,l)}function Km(e,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var x={};for(var S in l)S!=="ref"&&(x[S]=l[S])}else x=l;return Ki(n),l=vu(e,n,a,x,f,h),S=bu(),e!==null&&!st?(wu(e,n,h),$n(e,n,h)):(Oe&&S&&eu(n),n.flags|=1,vt(e,n,l,h),n.child)}function Xm(e,n,a,l,h){if(e===null){var f=a.type;return typeof f=="function"&&!Qc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Qm(e,n,f,l,h)):(e=Oo(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Gu(e,h)){var x=f.memoizedProps;if(a=a.compare,a=a!==null?a:Qa,a(x,l)&&e.ref===n.ref)return $n(e,n,h)}return n.flags|=1,e=Bn(f,l),e.ref=n.ref,e.return=n,n.child=e}function Qm(e,n,a,l,h){if(e!==null){var f=e.memoizedProps;if(Qa(f,l)&&e.ref===n.ref)if(st=!1,n.pendingProps=l=f,Gu(e,h))(e.flags&131072)!==0&&(st=!0);else return n.lanes=e.lanes,$n(e,n,h)}return Iu(e,n,a,l,h)}function Jm(e,n,a,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Zm(e,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uo(n,f!==null?f.cachePool:null),f!==null?tm(n,f):mu(),nm(n);else return l=n.lanes=536870912,Zm(e,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Uo(n,f.cachePool),tm(n,f),yi(),n.memoizedState=null):(e!==null&&Uo(n,null),mu(),yi());return vt(e,n,h,a),n.child}function hr(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zm(e,n,a,l,h){var f=cu();return f=f===null?null:{parent:nt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Uo(n,null),mu(),nm(n),e!==null&&Ps(e,n,l,!0),n.childLanes=h,null}function Jo(e,n){return n=el({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function eg(e,n,a){return Zi(n,e.child,null,a),e=Jo(n,n.pendingProps),e.flags|=2,Ht(n),n.memoizedState=null,e}function b2(e,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Oe){if(l.mode==="hidden")return e=Jo(n,l),n.lanes=536870912,hr(null,e);if(yu(n),(e=Ge)?(e=hy(e,sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ci!==null?{id:Cn,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},a=Bp(e),a.return=n,n.child=a,yt=n,Ge=null)):e=null,e===null)throw di(n);return n.lanes=536870912,null}return Jo(n,l)}var f=e.memoizedState;if(f!==null){var x=f.dehydrated;if(yu(n),h)if(n.flags&256)n.flags&=-257,n=eg(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(st||Ps(e,n,a,!1),h=(a&e.childLanes)!==0,st||h){if(l=$e,l!==null&&(x=Hf(l,a),x!==0&&x!==f.retryLane))throw f.retryLane=x,Fi(e,x),Lt(l,e,x),Lu;cl(),n=eg(e,n,a)}else e=f.treeContext,Ge=rn(x.nextSibling),yt=n,Oe=!0,ui=null,sn=!1,e!==null&&Vp(n,e),n=Jo(n,l),n.flags|=4096;return n}return e=Bn(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Zo(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Iu(e,n,a,l,h){return Ki(n),a=vu(e,n,a,l,void 0,h),l=bu(),e!==null&&!st?(wu(e,n,h),$n(e,n,h)):(Oe&&l&&eu(n),n.flags|=1,vt(e,n,a,h),n.child)}function tg(e,n,a,l,h,f){return Ki(n),n.updateQueue=null,a=sm(n,l,a,h),im(e),l=bu(),e!==null&&!st?(wu(e,n,f),$n(e,n,f)):(Oe&&l&&eu(n),n.flags|=1,vt(e,n,a,f),n.child)}function ng(e,n,a,l,h){if(Ki(n),n.stateNode===null){var f=Bs,x=a.contextType;typeof x=="object"&&x!==null&&(f=xt(x)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uu,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},du(n),x=a.contextType,f.context=typeof x=="object"&&x!==null?xt(x):Bs,f.state=n.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Mu(n,a,x,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(x=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),x!==f.state&&Uu.enqueueReplaceState(f,f.state,null),or(n,l,f,h),rr(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var S=n.memoizedProps,R=ts(a,S);f.props=R;var V=f.context,K=a.contextType;x=Bs,typeof K=="object"&&K!==null&&(x=xt(K));var Z=a.getDerivedStateFromProps;K=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||V!==x)&&qm(n,f,l,x),fi=!1;var P=n.memoizedState;f.state=P,or(n,l,f,h),rr(),V=n.memoizedState,S||P!==V||fi?(typeof Z=="function"&&(Mu(n,a,Z,l),V=n.memoizedState),(R=fi||Pm(n,a,R,l,P,V,x))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=V),f.props=l,f.state=V,f.context=x,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,hu(e,n),x=n.memoizedProps,K=ts(a,x),f.props=K,Z=n.pendingProps,P=f.context,V=a.contextType,R=Bs,typeof V=="object"&&V!==null&&(R=xt(V)),S=a.getDerivedStateFromProps,(V=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x!==Z||P!==R)&&qm(n,f,l,R),fi=!1,P=n.memoizedState,f.state=P,or(n,l,f,h),rr();var H=n.memoizedState;x!==Z||P!==H||fi||e!==null&&e.dependencies!==null&&Do(e.dependencies)?(typeof S=="function"&&(Mu(n,a,S,l),H=n.memoizedState),(K=fi||Pm(n,a,K,l,P,H,R)||e!==null&&e.dependencies!==null&&Do(e.dependencies))?(V||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=R,l=K):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zo(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Zi(n,e.child,null,h),n.child=Zi(n,null,a,h)):vt(e,n,a,h),n.memoizedState=f.state,e=n.child):e=$n(e,n,h),e}function ig(e,n,a,l){return Wi(),n.flags|=256,vt(e,n,a,l),n.child}var Vu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pu(e){return{baseLanes:e,cachePool:Gp()}}function qu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Gt),e}function sg(e,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,x;if((x=f)||(x=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),x&&(h=!0,n.flags&=-129),x=(n.flags&32)!==0,n.flags&=-33,e===null){if(Oe){if(h?gi(n):yi(),(e=Ge)?(e=hy(e,sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ci!==null?{id:Cn,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},a=Bp(e),a.return=n,n.child=a,yt=n,Ge=null)):e=null,e===null)throw di(n);return _d(e)?n.lanes=32:n.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(yi(),h=n.mode,S=el({mode:"hidden",children:S},h),l=Gi(l,h,a,null),S.return=n,l.return=n,S.sibling=l,n.child=S,l=n.child,l.memoizedState=Pu(a),l.childLanes=qu(e,x,a),n.memoizedState=Vu,hr(null,l)):(gi(n),$u(n,S))}var R=e.memoizedState;if(R!==null&&(S=R.dehydrated,S!==null)){if(f)n.flags&256?(gi(n),n.flags&=-257,n=Hu(e,n,a)):n.memoizedState!==null?(yi(),n.child=e.child,n.flags|=128,n=null):(yi(),S=l.fallback,h=n.mode,l=el({mode:"visible",children:l.children},h),S=Gi(S,h,a,null),S.flags|=2,l.return=n,S.return=n,l.sibling=S,n.child=l,Zi(n,e.child,null,a),l=n.child,l.memoizedState=Pu(a),l.childLanes=qu(e,x,a),n.memoizedState=Vu,n=hr(null,l));else if(gi(n),_d(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var V=x.dgst;x=V,l=Error(o(419)),l.stack="",l.digest=x,er({value:l,source:null,stack:null}),n=Hu(e,n,a)}else if(st||Ps(e,n,a,!1),x=(a&e.childLanes)!==0,st||x){if(x=$e,x!==null&&(l=Hf(x,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Fi(e,l),Lt(x,e,l),Lu;Sd(S)||cl(),n=Hu(e,n,a)}else Sd(S)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,Ge=rn(S.nextSibling),yt=n,Oe=!0,ui=null,sn=!1,e!==null&&Vp(n,e),n=$u(n,l.children),n.flags|=4096);return n}return h?(yi(),S=l.fallback,h=n.mode,R=e.child,V=R.sibling,l=Bn(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,V!==null?S=Bn(V,S):(S=Gi(S,h,a,null),S.flags|=2),S.return=n,l.return=n,l.sibling=S,n.child=l,hr(null,l),l=n.child,S=e.child.memoizedState,S===null?S=Pu(a):(h=S.cachePool,h!==null?(R=nt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Gp(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=qu(e,x,a),n.memoizedState=Vu,hr(e.child,l)):(gi(n),a=e.child,e=a.sibling,a=Bn(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(x=n.deletions,x===null?(n.deletions=[e],n.flags|=16):x.push(e)),n.child=a,n.memoizedState=null,a)}function $u(e,n){return n=el({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function el(e,n){return e=qt(22,e,null,n),e.lanes=0,e}function Hu(e,n,a){return Zi(n,e.child,null,a),e=$u(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ag(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),au(e.return,n,a)}function Fu(e,n,a,l,h,f){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(x.isBackwards=n,x.rendering=null,x.renderingStartTime=0,x.last=l,x.tail=a,x.tailMode=h,x.treeForkCount=f)}function rg(e,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var x=et.current,S=(x&2)!==0;if(S?(x=x&1|2,n.flags|=128):x&=1,ie(et,x),vt(e,n,l,a),l=Oe?Za:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ag(e,a,n);else if(e.tag===19)ag(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&qo(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Fu(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&qo(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Fu(n,!0,a,null,f,l);break;case"together":Fu(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function $n(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),bi|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ps(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,a=Bn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Bn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Gu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Do(e)))}function w2(e,n,a){switch(n.tag){case 3:we(n,n.stateNode.containerInfo),hi(n,nt,e.memoizedState.cache),Wi();break;case 27:case 5:si(n);break;case 4:we(n,n.stateNode.containerInfo);break;case 10:hi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yu(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(gi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?sg(e,n,a):(gi(n),e=$n(e,n,a),e!==null?e.sibling:null);gi(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ps(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return rg(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(et,et.current),l)break;return null;case 22:return n.lanes=0,Jm(e,n,a,n.pendingProps);case 24:hi(n,nt,e.memoizedState.cache)}return $n(e,n,a)}function og(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)st=!0;else{if(!Gu(e,a)&&(n.flags&128)===0)return st=!1,w2(e,n,a);st=(e.flags&131072)!==0}else st=!1,Oe&&(n.flags&1048576)!==0&&Ip(n,Za,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Qi(n.elementType),n.type=e,typeof e=="function")Qc(e)?(l=ts(e,l),n.tag=1,n=ng(null,n,e,l,a)):(n.tag=0,n=Iu(null,n,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===U){n.tag=11,n=Km(null,n,e,l,a);break e}else if(h===F){n.tag=14,n=Xm(null,n,e,l,a);break e}}throw n=Q(e)||e,Error(o(306,n,""))}}return n;case 0:return Iu(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=ts(l,n.pendingProps),ng(e,n,l,h,a);case 3:e:{if(we(n,n.stateNode.containerInfo),e===null)throw Error(o(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,hu(e,n),or(n,l,null,a);var x=n.memoizedState;if(l=x.cache,hi(n,nt,l),l!==f.cache&&ru(n,[nt],a,!0),rr(),l=x.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:x.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ig(e,n,l,a);break e}else if(l!==h){h=en(Error(o(424)),n),er(h),n=ig(e,n,l,a);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ge=rn(e.firstChild),yt=n,Oe=!0,ui=null,sn=!0,a=Jp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Wi(),l===h){n=$n(e,n,a);break e}vt(e,n,l,a)}n=n.child}return n;case 26:return Zo(e,n),e===null?(a=xy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Oe||(a=n.type,e=n.pendingProps,l=gl(le.current).createElement(a),l[gt]=n,l[Ot]=e,bt(l,a,e),pt(l),n.stateNode=l):n.memoizedState=xy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return si(n),e===null&&Oe&&(l=n.stateNode=my(n.type,n.pendingProps,le.current),yt=n,sn=!0,h=Ge,Ti(n.type)?(Td=h,Ge=rn(l.firstChild)):Ge=h),vt(e,n,n.pendingProps.children,a),Zo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Oe&&((h=l=Ge)&&(l=Q2(l,n.type,n.pendingProps,sn),l!==null?(n.stateNode=l,yt=n,Ge=rn(l.firstChild),sn=!1,h=!0):h=!1),h||di(n)),si(n),h=n.type,f=n.pendingProps,x=e!==null?e.memoizedProps:null,l=f.children,bd(h,f)?l=null:x!==null&&bd(h,x)&&(n.flags|=32),n.memoizedState!==null&&(h=vu(e,n,h2,null,null,a),Cr._currentValue=h),Zo(e,n),vt(e,n,l,a),n.child;case 6:return e===null&&Oe&&((e=a=Ge)&&(a=J2(a,n.pendingProps,sn),a!==null?(n.stateNode=a,yt=n,Ge=null,e=!0):e=!1),e||di(n)),null;case 13:return sg(e,n,a);case 4:return we(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Zi(n,null,l,a):vt(e,n,l,a),n.child;case 11:return Km(e,n,n.type,n.pendingProps,a);case 7:return vt(e,n,n.pendingProps,a),n.child;case 8:return vt(e,n,n.pendingProps.children,a),n.child;case 12:return vt(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,hi(n,n.type,l.value),vt(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ki(n),h=xt(h),l=l(h),n.flags|=1,vt(e,n,l,a),n.child;case 14:return Xm(e,n,n.type,n.pendingProps,a);case 15:return Qm(e,n,n.type,n.pendingProps,a);case 19:return rg(e,n,a);case 31:return b2(e,n,a);case 22:return Jm(e,n,a,n.pendingProps);case 24:return Ki(n),l=xt(nt),e===null?(h=cu(),h===null&&(h=$e,f=ou(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},du(n),hi(n,nt,h)):((e.lanes&a)!==0&&(hu(e,n),or(n,null,null,a),rr()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),hi(n,nt,l)):(l=f.cache,hi(n,nt,l),l!==h.cache&&ru(n,[nt],a,!0))),vt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Hn(e){e.flags|=4}function Wu(e,n,a,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dg())e.flags|=8192;else throw Ji=Lo,uu}else e.flags&=-16777217}function lg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Sy(n))if(Dg())e.flags|=8192;else throw Ji=Lo,uu}function tl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Pf():536870912,e.lanes|=n,Zs|=n)}function fr(e,n){if(!Oe)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function We(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function j2(e,n,a){var l=n.pendingProps;switch(tu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(n),null;case 1:return We(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vn(nt),Me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vs(n)?Hn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,iu())),We(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Hn(n),f!==null?(We(n),lg(n,f)):(We(n),Wu(n,h,null,l,a))):f?f!==e.memoizedState?(Hn(n),We(n),lg(n,f)):(We(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Hn(n),We(n),Wu(n,h,e,l,a)),null;case 27:if(Ii(n),a=le.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Hn(n);else{if(!l){if(n.stateNode===null)throw Error(o(166));return We(n),null}e=oe.current,Vs(n)?Pp(n):(e=my(h,l,a),n.stateNode=e,Hn(n))}return We(n),null;case 5:if(Ii(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Hn(n);else{if(!l){if(n.stateNode===null)throw Error(o(166));return We(n),null}if(f=oe.current,Vs(n))Pp(n);else{var x=gl(le.current);switch(f){case 1:f=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=x.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?x.createElement("select",{is:l.is}):x.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?x.createElement(h,{is:l.is}):x.createElement(h)}}f[gt]=n,f[Ot]=l;e:for(x=n.child;x!==null;){if(x.tag===5||x.tag===6)f.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===n)break e;for(;x.sibling===null;){if(x.return===null||x.return===n)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}n.stateNode=f;e:switch(bt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Hn(n)}}return We(n),Wu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Hn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(o(166));if(e=le.current,Vs(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=yt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[gt]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||sy(e.nodeValue,a)),e||di(n,!0)}else e=gl(e).createTextNode(l),e[gt]=n,n.stateNode=e}return We(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=Vs(n),a!==null){if(e===null){if(!l)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[gt]=n}else Wi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;We(n),e=!1}else a=iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Ht(n),n):(Ht(n),null);if((n.flags&128)!==0)throw Error(o(558))}return We(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Vs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(o(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[gt]=n}else Wi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;We(n),h=!1}else h=iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ht(n),n):(Ht(n),null)}return Ht(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),tl(n,n.updateQueue),We(n),null);case 4:return Me(),e===null&&md(n.stateNode.containerInfo),We(n),null;case 10:return Vn(n.type),We(n),null;case 19:if(G(et),l=n.memoizedState,l===null)return We(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)fr(l,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=qo(e),f!==null){for(n.flags|=128,fr(l,!1),e=f.updateQueue,n.updateQueue=e,tl(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Up(a,e),a=a.sibling;return ie(et,et.current&1|2),Oe&&Ln(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Se()>rl&&(n.flags|=128,h=!0,fr(l,!1),n.lanes=4194304)}else{if(!h)if(e=qo(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,tl(n,e),fr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Oe)return We(n),null}else 2*Se()-l.renderingStartTime>rl&&a!==536870912&&(n.flags|=128,h=!0,fr(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Se(),e.sibling=null,a=et.current,ie(et,h?a&1|2:a&1),Oe&&Ln(n,l.treeForkCount),e):(We(n),null);case 22:case 23:return Ht(n),gu(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(We(n),n.subtreeFlags&6&&(n.flags|=8192)):We(n),a=n.updateQueue,a!==null&&tl(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&G(Xi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vn(nt),We(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function S2(e,n){switch(tu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Vn(nt),Me(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ii(n),null;case 31:if(n.memoizedState!==null){if(Ht(n),n.alternate===null)throw Error(o(340));Wi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ht(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Wi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return G(et),null;case 4:return Me(),null;case 10:return Vn(n.type),null;case 22:case 23:return Ht(n),gu(),e!==null&&G(Xi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Vn(nt),null;case 25:return null;default:return null}}function cg(e,n){switch(tu(n),n.tag){case 3:Vn(nt),Me();break;case 26:case 27:case 5:Ii(n);break;case 4:Me();break;case 31:n.memoizedState!==null&&Ht(n);break;case 13:Ht(n);break;case 19:G(et);break;case 10:Vn(n.type);break;case 22:case 23:Ht(n),gu(),e!==null&&G(Xi);break;case 24:Vn(nt)}}function pr(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var f=a.create,x=a.inst;l=f(),x.destroy=l}a=a.next}while(a!==h)}}catch(S){Ie(n,n.return,S)}}function xi(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var x=l.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,h=n;var R=a,V=S;try{V()}catch(K){Ie(h,R,K)}}}l=l.next}while(l!==f)}}catch(K){Ie(n,n.return,K)}}function ug(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{em(n,a)}catch(l){Ie(e,e.return,l)}}}function dg(e,n,a){a.props=ts(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ie(e,n,l)}}function mr(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Ie(e,n,h)}}function En(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ie(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ie(e,n,h)}else a.current=null}function hg(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ie(e,e.return,h)}}function Yu(e,n,a){try{var l=e.stateNode;F2(l,e.type,a,n),l[Ot]=n}catch(h){Ie(e,e.return,h)}}function fg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ti(e.type)||e.tag===4}function Ku(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ti(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Mn));else if(l!==4&&(l===27&&Ti(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Xu(e,n,a),e=e.sibling;e!==null;)Xu(e,n,a),e=e.sibling}function nl(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&Ti(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(nl(e,n,a),e=e.sibling;e!==null;)nl(e,n,a),e=e.sibling}function pg(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);bt(n,l,a),n[gt]=e,n[Ot]=a}catch(f){Ie(e,e.return,f)}}var Fn=!1,at=!1,Qu=!1,mg=typeof WeakSet=="function"?WeakSet:Set,mt=null;function _2(e,n){if(e=e.containerInfo,xd=Sl,e=Cp(e),Hc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var x=0,S=-1,R=-1,V=0,K=0,Z=e,P=null;t:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(S=x+h),Z!==f||l!==0&&Z.nodeType!==3||(R=x+l),Z.nodeType===3&&(x+=Z.nodeValue.length),(H=Z.firstChild)!==null;)P=Z,Z=H;for(;;){if(Z===e)break t;if(P===a&&++V===h&&(S=x),P===f&&++K===l&&(R=x),(H=Z.nextSibling)!==null)break;Z=P,P=Z.parentNode}Z=H}a=S===-1||R===-1?null:{start:S,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(vd={focusedElem:e,selectionRange:a},Sl=!1,mt=n;mt!==null;)if(n=mt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,mt=e;else for(;mt!==null;){switch(n=mt,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ce=ts(a.type,h);e=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(xe){Ie(a,a.return,xe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)jd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,mt=e;break}mt=n.return}}function gg(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wn(e,a),l&4&&pr(5,a);break;case 1:if(Wn(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(x){Ie(a,a.return,x)}else{var h=ts(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Ie(a,a.return,x)}}l&64&&ug(a),l&512&&mr(a,a.return);break;case 3:if(Wn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{em(e,n)}catch(x){Ie(a,a.return,x)}}break;case 27:n===null&&l&4&&pg(a);case 26:case 5:Wn(e,a),n===null&&l&4&&hg(a),l&512&&mr(a,a.return);break;case 12:Wn(e,a);break;case 31:Wn(e,a),l&4&&vg(e,a);break;case 13:Wn(e,a),l&4&&bg(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=N2.bind(null,a),Z2(e,a))));break;case 22:if(l=a.memoizedState!==null||Fn,!l){n=n!==null&&n.memoizedState!==null||at,h=Fn;var f=at;Fn=l,(at=n)&&!f?Yn(e,a,(a.subtreeFlags&8772)!==0):Wn(e,a),Fn=h,at=f}break;case 30:break;default:Wn(e,a)}}function yg(e){var n=e.alternate;n!==null&&(e.alternate=null,yg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Cc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,Dt=!1;function Gn(e,n,a){for(a=a.child;a!==null;)xg(e,n,a),a=a.sibling}function xg(e,n,a){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(An,a)}catch{}switch(a.tag){case 26:at||En(a,n),Gn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||En(a,n);var l=Ye,h=Dt;Ti(a.type)&&(Ye=a.stateNode,Dt=!1),Gn(e,n,a),_r(a.stateNode),Ye=l,Dt=h;break;case 5:at||En(a,n);case 6:if(l=Ye,h=Dt,Ye=null,Gn(e,n,a),Ye=l,Dt=h,Ye!==null)if(Dt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(f){Ie(a,n,f)}else try{Ye.removeChild(a.stateNode)}catch(f){Ie(a,n,f)}break;case 18:Ye!==null&&(Dt?(e=Ye,uy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),oa(e)):uy(Ye,a.stateNode));break;case 4:l=Ye,h=Dt,Ye=a.stateNode.containerInfo,Dt=!0,Gn(e,n,a),Ye=l,Dt=h;break;case 0:case 11:case 14:case 15:xi(2,a,n),at||xi(4,a,n),Gn(e,n,a);break;case 1:at||(En(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&dg(a,n,l)),Gn(e,n,a);break;case 21:Gn(e,n,a);break;case 22:at=(l=at)||a.memoizedState!==null,Gn(e,n,a),at=l;break;default:Gn(e,n,a)}}function vg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{oa(e)}catch(a){Ie(n,n.return,a)}}}function bg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{oa(e)}catch(a){Ie(n,n.return,a)}}function T2(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new mg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new mg),n;default:throw Error(o(435,e.tag))}}function il(e,n){var a=T2(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=D2.bind(null,e,l);l.then(h,h)}})}function Mt(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=e,x=n,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(Ti(S.type)){Ye=S.stateNode,Dt=!1;break e}break;case 5:Ye=S.stateNode,Dt=!1;break e;case 3:case 4:Ye=S.stateNode.containerInfo,Dt=!0;break e}S=S.return}if(Ye===null)throw Error(o(160));xg(f,x,h),Ye=null,Dt=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)wg(n,e),n=n.sibling}var mn=null;function wg(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mt(n,e),Ut(e),l&4&&(xi(3,e,e.return),pr(3,e),xi(5,e,e.return));break;case 1:Mt(n,e),Ut(e),l&512&&(at||a===null||En(a,a.return)),l&64&&Fn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=mn;if(Mt(n,e),Ut(e),l&512&&(at||a===null||En(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[qa]||f[gt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),bt(f,l,a),f[gt]=e,pt(f),l=f;break e;case"link":var x=wy("link","href",h).get(l+(a.href||""));if(x){for(var S=0;S<x.length;S++)if(f=x[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(S,1);break t}}f=h.createElement(l),bt(f,l,a),h.head.appendChild(f);break;case"meta":if(x=wy("meta","content",h).get(l+(a.content||""))){for(S=0;S<x.length;S++)if(f=x[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(S,1);break t}}f=h.createElement(l),bt(f,l,a),h.head.appendChild(f);break;default:throw Error(o(468,l))}f[gt]=e,pt(f),l=f}e.stateNode=l}else jy(h,e.type,e.stateNode);else e.stateNode=by(h,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?jy(h,e.type,e.stateNode):by(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Yu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Mt(n,e),Ut(e),l&512&&(at||a===null||En(a,a.return)),a!==null&&l&4&&Yu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Mt(n,e),Ut(e),l&512&&(at||a===null||En(a,a.return)),e.flags&32){h=e.stateNode;try{zs(h,"")}catch(ce){Ie(e,e.return,ce)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Yu(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Qu=!0);break;case 6:if(Mt(n,e),Ut(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ce){Ie(e,e.return,ce)}}break;case 3:if(vl=null,h=mn,mn=yl(n.containerInfo),Mt(n,e),mn=h,Ut(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{oa(n.containerInfo)}catch(ce){Ie(e,e.return,ce)}Qu&&(Qu=!1,jg(e));break;case 4:l=mn,mn=yl(e.stateNode.containerInfo),Mt(n,e),Ut(e),mn=l;break;case 12:Mt(n,e),Ut(e);break;case 31:Mt(n,e),Ut(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,il(e,l)));break;case 13:Mt(n,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(al=Se()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,il(e,l)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,V=Fn,K=at;if(Fn=V||h,at=K||R,Mt(n,e),at=K,Fn=V,Ut(e),l&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||Fn||at||ns(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)x=f.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=R.stateNode;var Z=R.memoizedProps.style,P=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ce){Ie(R,R.return,ce)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ce){Ie(R,R.return,ce)}}}else if(n.tag===18){if(a===null){R=n;try{var H=R.stateNode;h?dy(H,!0):dy(R.stateNode,!1)}catch(ce){Ie(R,R.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,il(e,a))));break;case 19:Mt(n,e),Ut(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,il(e,l)));break;case 30:break;case 21:break;default:Mt(n,e),Ut(e)}}function Ut(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(fg(l)){a=l;break}l=l.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var h=a.stateNode,f=Ku(e);nl(e,f,h);break;case 5:var x=a.stateNode;a.flags&32&&(zs(x,""),a.flags&=-33);var S=Ku(e);nl(e,S,x);break;case 3:case 4:var R=a.stateNode.containerInfo,V=Ku(e);Xu(e,V,R);break;default:throw Error(o(161))}}catch(K){Ie(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function jg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;jg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Wn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gg(e,n.alternate,n),n=n.sibling}function ns(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xi(4,n,n.return),ns(n);break;case 1:En(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&dg(n,n.return,a),ns(n);break;case 27:_r(n.stateNode);case 26:case 5:En(n,n.return),ns(n);break;case 22:n.memoizedState===null&&ns(n);break;case 30:ns(n);break;default:ns(n)}e=e.sibling}}function Yn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,x=f.flags;switch(f.tag){case 0:case 11:case 15:Yn(h,f,a),pr(4,f);break;case 1:if(Yn(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(V){Ie(l,l.return,V)}if(l=f,h=l.updateQueue,h!==null){var S=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Zp(R[h],S)}catch(V){Ie(l,l.return,V)}}a&&x&64&&ug(f),mr(f,f.return);break;case 27:pg(f);case 26:case 5:Yn(h,f,a),a&&l===null&&x&4&&hg(f),mr(f,f.return);break;case 12:Yn(h,f,a);break;case 31:Yn(h,f,a),a&&x&4&&vg(h,f);break;case 13:Yn(h,f,a),a&&x&4&&bg(h,f);break;case 22:f.memoizedState===null&&Yn(h,f,a),mr(f,f.return);break;case 30:break;default:Yn(h,f,a)}n=n.sibling}}function Ju(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&tr(a))}function Zu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tr(e))}function gn(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sg(e,n,a,l),n=n.sibling}function Sg(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:gn(e,n,a,l),h&2048&&pr(9,n);break;case 1:gn(e,n,a,l);break;case 3:gn(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tr(e)));break;case 12:if(h&2048){gn(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,x=f.id,S=f.onPostCommit;typeof S=="function"&&S(x,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Ie(n,n.return,R)}}else gn(e,n,a,l);break;case 31:gn(e,n,a,l);break;case 13:gn(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,x=n.alternate,n.memoizedState!==null?f._visibility&2?gn(e,n,a,l):gr(e,n):f._visibility&2?gn(e,n,a,l):(f._visibility|=2,Xs(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ju(x,n);break;case 24:gn(e,n,a,l),h&2048&&Zu(n.alternate,n);break;default:gn(e,n,a,l)}}function Xs(e,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,x=n,S=a,R=l,V=x.flags;switch(x.tag){case 0:case 11:case 15:Xs(f,x,S,R,h),pr(8,x);break;case 23:break;case 22:var K=x.stateNode;x.memoizedState!==null?K._visibility&2?Xs(f,x,S,R,h):gr(f,x):(K._visibility|=2,Xs(f,x,S,R,h)),h&&V&2048&&Ju(x.alternate,x);break;case 24:Xs(f,x,S,R,h),h&&V&2048&&Zu(x.alternate,x);break;default:Xs(f,x,S,R,h)}n=n.sibling}}function gr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:gr(a,l),h&2048&&Ju(l.alternate,l);break;case 24:gr(a,l),h&2048&&Zu(l.alternate,l);break;default:gr(a,l)}n=n.sibling}}var yr=8192;function Qs(e,n,a){if(e.subtreeFlags&yr)for(e=e.child;e!==null;)_g(e,n,a),e=e.sibling}function _g(e,n,a){switch(e.tag){case 26:Qs(e,n,a),e.flags&yr&&e.memoizedState!==null&&dw(a,mn,e.memoizedState,e.memoizedProps);break;case 5:Qs(e,n,a);break;case 3:case 4:var l=mn;mn=yl(e.stateNode.containerInfo),Qs(e,n,a),mn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=yr,yr=16777216,Qs(e,n,a),yr=l):Qs(e,n,a));break;default:Qs(e,n,a)}}function Tg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function xr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];mt=l,Cg(l,e)}Tg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ag(e),e=e.sibling}function Ag(e){switch(e.tag){case 0:case 11:case 15:xr(e),e.flags&2048&&xi(9,e,e.return);break;case 3:xr(e);break;case 12:xr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sl(e)):xr(e);break;default:xr(e)}}function sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];mt=l,Cg(l,e)}Tg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xi(8,n,n.return),sl(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,sl(n));break;default:sl(n)}e=e.sibling}}function Cg(e,n){for(;mt!==null;){var a=mt;switch(a.tag){case 0:case 11:case 15:xi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tr(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,mt=l;else e:for(a=e;mt!==null;){l=mt;var h=l.sibling,f=l.return;if(yg(l),l===a){mt=null;break e}if(h!==null){h.return=f,mt=h;break e}mt=f}}}var A2={getCacheForType:function(e){var n=xt(nt),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return xt(nt).controller.signal}},C2=typeof WeakMap=="function"?WeakMap:Map,Ue=0,$e=null,ke=null,ze=0,Le=0,Ft=null,vi=!1,Js=!1,ed=!1,Kn=0,Qe=0,bi=0,is=0,td=0,Gt=0,Zs=0,vr=null,Bt=null,nd=!1,al=0,kg=0,rl=1/0,ol=null,wi=null,lt=0,ji=null,ea=null,Xn=0,id=0,sd=null,Eg=null,br=0,ad=null;function Wt(){return(Ue&2)!==0&&ze!==0?ze&-ze:N.T!==null?dd():Ff()}function zg(){if(Gt===0)if((ze&536870912)===0||Oe){var e=mo;mo<<=1,(mo&3932160)===0&&(mo=262144),Gt=e}else Gt=536870912;return e=$t.current,e!==null&&(e.flags|=32),Gt}function Lt(e,n,a){(e===$e&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(ta(e,0),Si(e,ze,Gt,!1)),Pa(e,a),((Ue&2)===0||e!==$e)&&(e===$e&&((Ue&2)===0&&(is|=a),Qe===4&&Si(e,ze,Gt,!1)),zn(e))}function Rg(e,n,a){if((Ue&6)!==0)throw Error(o(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Va(e,n),h=l?z2(e,n):od(e,n,!0),f=l;do{if(h===0){Js&&!l&&Si(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!k2(a)){h=od(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){n=x;e:{var S=e;h=vr;var R=S.current.memoizedState.isDehydrated;if(R&&(ta(S,x).flags|=256),x=od(S,x,!1),x!==2){if(ed&&!R){S.errorRecoveryDisabledLanes|=f,is|=f,h=4;break e}f=Bt,Bt=h,f!==null&&(Bt===null?Bt=f:Bt.push.apply(Bt,f))}h=x}if(f=!1,h!==2)continue}}if(h===1){ta(e,0),Si(e,n,0,!0);break}e:{switch(l=e,f=h,f){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:Si(l,n,Gt,!vi);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(h=al+300-Se(),10<h)){if(Si(l,n,Gt,!vi),yo(l,0,!0)!==0)break e;Xn=n,l.timeoutHandle=ly(Og.bind(null,l,a,Bt,ol,nd,n,Gt,is,Zs,vi,f,"Throttled",-0,0),h);break e}Og(l,a,Bt,ol,nd,n,Gt,is,Zs,vi,f,null,-0,0)}}break}while(!0);zn(e)}function Og(e,n,a,l,h,f,x,S,R,V,K,Z,P,H){if(e.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},_g(n,f,Z);var ce=(f&62914560)===f?al-Se():(f&4194048)===f?kg-Se():0;if(ce=hw(Z,ce),ce!==null){Xn=f,e.cancelPendingCommit=ce(Vg.bind(null,e,n,f,a,l,h,x,S,R,K,Z,null,P,H)),Si(e,f,x,!V);return}}Vg(e,n,f,a,l,h,x,S,R)}function k2(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Pt(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Si(e,n,a,l){n&=~td,n&=~is,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-Vt(h),x=1<<f;l[f]=-1,h&=~x}a!==0&&qf(e,a,n)}function ll(){return(Ue&6)===0?(wr(0),!1):!0}function rd(){if(ke!==null){if(Le===0)var e=ke.return;else e=ke,In=Yi=null,ju(e),Fs=null,ir=0,e=ke;for(;e!==null;)cg(e.alternate,e),e=e.return;ke=null}}function ta(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Y2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xn=0,rd(),$e=e,ke=a=Bn(e.current,null),ze=n,Le=0,Ft=null,vi=!1,Js=Va(e,n),ed=!1,Zs=Gt=td=is=bi=Qe=0,Bt=vr=null,nd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Vt(l),f=1<<h;n|=e[h],l&=~f}return Kn=n,Eo(),a}function Ng(e,n){Te=null,N.H=dr,n===Hs||n===Bo?(n=Kp(),Le=3):n===uu?(n=Kp(),Le=4):Le=n===Lu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ft=n,ke===null&&(Qe=1,Qo(e,en(n,e.current)))}function Dg(){var e=$t.current;return e===null?!0:(ze&4194048)===ze?an===null:(ze&62914560)===ze||(ze&536870912)!==0?e===an:!1}function Mg(){var e=N.H;return N.H=dr,e===null?dr:e}function Ug(){var e=N.A;return N.A=A2,e}function cl(){Qe=4,vi||(ze&4194048)!==ze&&$t.current!==null||(Js=!0),(bi&134217727)===0&&(is&134217727)===0||$e===null||Si($e,ze,Gt,!1)}function od(e,n,a){var l=Ue;Ue|=2;var h=Mg(),f=Ug();($e!==e||ze!==n)&&(ol=null,ta(e,n)),n=!1;var x=Qe;e:do try{if(Le!==0&&ke!==null){var S=ke,R=Ft;switch(Le){case 8:rd(),x=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(n=!0);var V=Le;if(Le=0,Ft=null,na(e,S,R,V),a&&Js){x=0;break e}break;default:V=Le,Le=0,Ft=null,na(e,S,R,V)}}E2(),x=Qe;break}catch(K){Ng(e,K)}while(!0);return n&&e.shellSuspendCounter++,In=Yi=null,Ue=l,N.H=h,N.A=f,ke===null&&($e=null,ze=0,Eo()),x}function E2(){for(;ke!==null;)Bg(ke)}function z2(e,n){var a=Ue;Ue|=2;var l=Mg(),h=Ug();$e!==e||ze!==n?(ol=null,rl=Se()+500,ta(e,n)):Js=Va(e,n);e:do try{if(Le!==0&&ke!==null){n=ke;var f=Ft;t:switch(Le){case 1:Le=0,Ft=null,na(e,n,f,1);break;case 2:case 9:if(Wp(f)){Le=0,Ft=null,Lg(n);break}n=function(){Le!==2&&Le!==9||$e!==e||(Le=7),zn(e)},f.then(n,n);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Wp(f)?(Le=0,Ft=null,Lg(n)):(Le=0,Ft=null,na(e,n,f,7));break;case 5:var x=null;switch(ke.tag){case 26:x=ke.memoizedState;case 5:case 27:var S=ke;if(x?Sy(x):S.stateNode.complete){Le=0,Ft=null;var R=S.sibling;if(R!==null)ke=R;else{var V=S.return;V!==null?(ke=V,ul(V)):ke=null}break t}}Le=0,Ft=null,na(e,n,f,5);break;case 6:Le=0,Ft=null,na(e,n,f,6);break;case 8:rd(),Qe=6;break e;default:throw Error(o(462))}}R2();break}catch(K){Ng(e,K)}while(!0);return In=Yi=null,N.H=l,N.A=h,Ue=a,ke!==null?0:($e=null,ze=0,Eo(),Qe)}function R2(){for(;ke!==null&&!je();)Bg(ke)}function Bg(e){var n=og(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,n===null?ul(e):ke=n}function Lg(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=tg(a,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=tg(a,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:ju(n);default:cg(a,n),n=ke=Up(n,Kn),n=og(a,n,Kn)}e.memoizedProps=e.pendingProps,n===null?ul(e):ke=n}function na(e,n,a,l){In=Yi=null,ju(n),Fs=null,ir=0;var h=n.return;try{if(v2(e,h,n,a,ze)){Qe=1,Qo(e,en(a,e.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;Qe=1,Qo(e,en(a,e.current)),ke=null;return}n.flags&32768?(Oe||l===1?e=!0:Js||(ze&536870912)!==0?e=!1:(vi=e=!0,(l===2||l===9||l===3||l===6)&&(l=$t.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ig(n,e)):ul(n)}function ul(e){var n=e;do{if((n.flags&32768)!==0){Ig(n,vi);return}e=n.return;var a=j2(n.alternate,n,Kn);if(a!==null){ke=a;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=e}while(n!==null);Qe===0&&(Qe=5)}function Ig(e,n){do{var a=S2(e.alternate,e);if(a!==null){a.flags&=32767,ke=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){ke=e;return}ke=e=a}while(e!==null);Qe=6,ke=null}function Vg(e,n,a,l,h,f,x,S,R){e.cancelPendingCommit=null;do dl();while(lt!==0);if((Ue&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(f=n.lanes|n.childLanes,f|=Kc,ub(e,a,f,x,S,R),e===$e&&(ke=$e=null,ze=0),ea=n,ji=e,Xn=a,id=f,sd=h,Eg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,M2(Tn,function(){return Fg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=N.T,N.T=null,h=k.p,k.p=2,x=Ue,Ue|=4;try{_2(e,n,a)}finally{Ue=x,k.p=h,N.T=l}}lt=1,Pg(),qg(),$g()}}function Pg(){if(lt===1){lt=0;var e=ji,n=ea,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=N.T,N.T=null;var l=k.p;k.p=2;var h=Ue;Ue|=4;try{wg(n,e);var f=vd,x=Cp(e.containerInfo),S=f.focusedElem,R=f.selectionRange;if(x!==S&&S&&S.ownerDocument&&Ap(S.ownerDocument.documentElement,S)){if(R!==null&&Hc(S)){var V=R.start,K=R.end;if(K===void 0&&(K=V),"selectionStart"in S)S.selectionStart=V,S.selectionEnd=Math.min(K,S.value.length);else{var Z=S.ownerDocument||document,P=Z&&Z.defaultView||window;if(P.getSelection){var H=P.getSelection(),ce=S.textContent.length,xe=Math.min(R.start,ce),qe=R.end===void 0?xe:Math.min(R.end,ce);!H.extend&&xe>qe&&(x=qe,qe=xe,xe=x);var B=Tp(S,xe),M=Tp(S,qe);if(B&&M&&(H.rangeCount!==1||H.anchorNode!==B.node||H.anchorOffset!==B.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var I=Z.createRange();I.setStart(B.node,B.offset),H.removeAllRanges(),xe>qe?(H.addRange(I),H.extend(M.node,M.offset)):(I.setEnd(M.node,M.offset),H.addRange(I))}}}}for(Z=[],H=S;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var J=Z[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Sl=!!xd,vd=xd=null}finally{Ue=h,k.p=l,N.T=a}}e.current=n,lt=2}}function qg(){if(lt===2){lt=0;var e=ji,n=ea,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=N.T,N.T=null;var l=k.p;k.p=2;var h=Ue;Ue|=4;try{gg(e,n.alternate,n)}finally{Ue=h,k.p=l,N.T=a}}lt=3}}function $g(){if(lt===4||lt===3){lt=0,Be();var e=ji,n=ea,a=Xn,l=Eg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?lt=5:(lt=0,ea=ji=null,Hg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(wi=null),Tc(a),n=n.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(An,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=N.T,h=k.p,k.p=2,N.T=null;try{for(var f=e.onRecoverableError,x=0;x<l.length;x++){var S=l[x];f(S.value,{componentStack:S.stack})}}finally{N.T=n,k.p=h}}(Xn&3)!==0&&dl(),zn(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ad?br++:(br=0,ad=e):br=0,wr(0)}}function Hg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,tr(n)))}function dl(){return Pg(),qg(),$g(),Fg()}function Fg(){if(lt!==5)return!1;var e=ji,n=id;id=0;var a=Tc(Xn),l=N.T,h=k.p;try{k.p=32>a?32:a,N.T=null,a=sd,sd=null;var f=ji,x=Xn;if(lt=0,ea=ji=null,Xn=0,(Ue&6)!==0)throw Error(o(331));var S=Ue;if(Ue|=4,Ag(f.current),Sg(f,f.current,x,a),Ue=S,wr(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(An,f)}catch{}return!0}finally{k.p=h,N.T=l,Hg(e,n)}}function Gg(e,n,a){n=en(a,n),n=Bu(e.stateNode,n,2),e=mi(e,n,2),e!==null&&(Pa(e,2),zn(e))}function Ie(e,n,a){if(e.tag===3)Gg(e,e,a);else for(;n!==null;){if(n.tag===3){Gg(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wi===null||!wi.has(l))){e=en(a,e),a=Wm(2),l=mi(n,a,2),l!==null&&(Ym(a,l,n,e),Pa(l,2),zn(l));break}}n=n.return}}function ld(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new C2;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(ed=!0,h.add(a),e=O2.bind(null,e,n,a),n.then(e,e))}function O2(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$e===e&&(ze&a)===a&&(Qe===4||Qe===3&&(ze&62914560)===ze&&300>Se()-al?(Ue&2)===0&&ta(e,0):td|=a,Zs===ze&&(Zs=0)),zn(e)}function Wg(e,n){n===0&&(n=Pf()),e=Fi(e,n),e!==null&&(Pa(e,n),zn(e))}function N2(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Wg(e,a)}function D2(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(n),Wg(e,a)}function M2(e,n){return Ia(e,n)}var hl=null,ia=null,cd=!1,fl=!1,ud=!1,_i=0;function zn(e){e!==ia&&e.next===null&&(ia===null?hl=ia=e:ia=ia.next=e),fl=!0,cd||(cd=!0,B2())}function wr(e,n){if(!ud&&fl){ud=!0;do for(var a=!1,l=hl;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var x=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-Vt(42|e)+1)-1,f&=h&~(x&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Qg(l,f))}else f=ze,f=yo(l,l===$e?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Va(l,f)||(a=!0,Qg(l,f));l=l.next}while(a);ud=!1}}function U2(){Yg()}function Yg(){fl=cd=!1;var e=0;_i!==0&&W2()&&(e=_i);for(var n=Se(),a=null,l=hl;l!==null;){var h=l.next,f=Kg(l,n);f===0?(l.next=null,a===null?hl=h:a.next=h,h===null&&(ia=a)):(a=l,(e!==0||(f&3)!==0)&&(fl=!0)),l=h}lt!==0&&lt!==5||wr(e),_i!==0&&(_i=0)}function Kg(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var x=31-Vt(f),S=1<<x,R=h[x];R===-1?((S&a)===0||(S&l)!==0)&&(h[x]=cb(S,n)):R<=n&&(e.expiredLanes|=S),f&=~S}if(n=$e,a=ze,a=yo(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ne(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Va(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&ne(l),Tc(a)){case 2:case 8:a=_t;break;case 32:a=Tn;break;case 268435456:a=Ss;break;default:a=Tn}return l=Xg.bind(null,e),a=Ia(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&ne(l),e.callbackPriority=2,e.callbackNode=null,2}function Xg(e,n){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(dl()&&e.callbackNode!==a)return null;var l=ze;return l=yo(e,e===$e?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Rg(e,l,n),Kg(e,Se()),e.callbackNode!=null&&e.callbackNode===a?Xg.bind(null,e):null)}function Qg(e,n){if(dl())return null;Rg(e,n,!0)}function B2(){K2(function(){(Ue&6)!==0?Ia(ft,U2):Yg()})}function dd(){if(_i===0){var e=qs;e===0&&(e=po,po<<=1,(po&261888)===0&&(po=256)),_i=e}return _i}function Jg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wo(""+e)}function Zg(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function L2(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Jg((h[Ot]||null).action),x=l.submitter;x&&(n=(n=x[Ot]||null)?Jg(n.formAction):x.getAttribute("formAction"),n!==null&&(f=n,x=null));var S=new To("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_i!==0){var R=x?Zg(h,x):new FormData(h);Ru(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(S.preventDefault(),R=x?Zg(h,x):new FormData(h),Ru(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var hd=0;hd<Yc.length;hd++){var fd=Yc[hd],I2=fd.toLowerCase(),V2=fd[0].toUpperCase()+fd.slice(1);pn(I2,"on"+V2)}pn(zp,"onAnimationEnd"),pn(Rp,"onAnimationIteration"),pn(Op,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(n2,"onTransitionRun"),pn(i2,"onTransitionStart"),pn(s2,"onTransitionCancel"),pn(Np,"onTransitionEnd"),ks("onMouseEnter",["mouseout","mouseover"]),ks("onMouseLeave",["mouseout","mouseover"]),ks("onPointerEnter",["pointerout","pointerover"]),ks("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jr));function ey(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var x=l.length-1;0<=x;x--){var S=l[x],R=S.instance,V=S.currentTarget;if(S=S.listener,R!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=V;try{f(h)}catch(K){ko(K)}h.currentTarget=null,f=R}else for(x=0;x<l.length;x++){if(S=l[x],R=S.instance,V=S.currentTarget,S=S.listener,R!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=V;try{f(h)}catch(K){ko(K)}h.currentTarget=null,f=R}}}}function Ee(e,n){var a=n[Ac];a===void 0&&(a=n[Ac]=new Set);var l=e+"__bubble";a.has(l)||(ty(n,e,2,!1),a.add(l))}function pd(e,n,a){var l=0;n&&(l|=4),ty(a,e,l,n)}var pl="_reactListening"+Math.random().toString(36).slice(2);function md(e){if(!e[pl]){e[pl]=!0,Yf.forEach(function(a){a!=="selectionchange"&&(P2.has(a)||pd(a,!1,e),pd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[pl]||(n[pl]=!0,pd("selectionchange",!1,n))}}function ty(e,n,a,l){switch(zy(n)){case 2:var h=mw;break;case 8:h=gw;break;default:h=zd}a=h.bind(null,n,a,e),h=void 0,!Mc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function gd(e,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var S=l.stateNode.containerInfo;if(S===h)break;if(x===4)for(x=l.return;x!==null;){var R=x.tag;if((R===3||R===4)&&x.stateNode.containerInfo===h)return;x=x.return}for(;S!==null;){if(x=Ts(S),x===null)return;if(R=x.tag,R===5||R===6||R===26||R===27){l=f=x;continue e}S=S.parentNode}}l=l.return}rp(function(){var V=f,K=Nc(a),Z=[];e:{var P=Dp.get(e);if(P!==void 0){var H=To,ce=e;switch(e){case"keypress":if(So(a)===0)break e;case"keydown":case"keyup":H=Db;break;case"focusin":ce="focus",H=Ic;break;case"focusout":ce="blur",H=Ic;break;case"beforeblur":case"afterblur":H=Ic;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=cp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=jb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Bb;break;case zp:case Rp:case Op:H=Tb;break;case Np:H=Ib;break;case"scroll":case"scrollend":H=bb;break;case"wheel":H=Pb;break;case"copy":case"cut":case"paste":H=Cb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=dp;break;case"toggle":case"beforetoggle":H=$b}var xe=(n&4)!==0,qe=!xe&&(e==="scroll"||e==="scrollend"),B=xe?P!==null?P+"Capture":null:P;xe=[];for(var M=V,I;M!==null;){var J=M;if(I=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||I===null||B===null||(J=Ha(M,B),J!=null&&xe.push(Sr(M,J,I))),qe)break;M=M.return}0<xe.length&&(P=new H(P,ce,null,a,K),Z.push({event:P,listeners:xe}))}}if((n&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",P&&a!==Oc&&(ce=a.relatedTarget||a.fromElement)&&(Ts(ce)||ce[_s]))break e;if((H||P)&&(P=K.window===K?K:(P=K.ownerDocument)?P.defaultView||P.parentWindow:window,H?(ce=a.relatedTarget||a.toElement,H=V,ce=ce?Ts(ce):null,ce!==null&&(qe=u(ce),xe=ce.tag,ce!==qe||xe!==5&&xe!==27&&xe!==6)&&(ce=null)):(H=null,ce=V),H!==ce)){if(xe=cp,J="onMouseLeave",B="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(xe=dp,J="onPointerLeave",B="onPointerEnter",M="pointer"),qe=H==null?P:$a(H),I=ce==null?P:$a(ce),P=new xe(J,M+"leave",H,a,K),P.target=qe,P.relatedTarget=I,J=null,Ts(K)===V&&(xe=new xe(B,M+"enter",ce,a,K),xe.target=I,xe.relatedTarget=qe,J=xe),qe=J,H&&ce)t:{for(xe=q2,B=H,M=ce,I=0,J=B;J;J=xe(J))I++;J=0;for(var me=M;me;me=xe(me))J++;for(;0<I-J;)B=xe(B),I--;for(;0<J-I;)M=xe(M),J--;for(;I--;){if(B===M||M!==null&&B===M.alternate){xe=B;break t}B=xe(B),M=xe(M)}xe=null}else xe=null;H!==null&&ny(Z,P,H,xe,!1),ce!==null&&qe!==null&&ny(Z,qe,ce,xe,!0)}}e:{if(P=V?$a(V):window,H=P.nodeName&&P.nodeName.toLowerCase(),H==="select"||H==="input"&&P.type==="file")var Ne=vp;else if(yp(P))if(bp)Ne=Zb;else{Ne=Qb;var fe=Xb}else H=P.nodeName,!H||H.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?V&&Rc(V.elementType)&&(Ne=vp):Ne=Jb;if(Ne&&(Ne=Ne(e,V))){xp(Z,Ne,a,K);break e}fe&&fe(e,P,V),e==="focusout"&&V&&P.type==="number"&&V.memoizedProps.value!=null&&zc(P,"number",P.value)}switch(fe=V?$a(V):window,e){case"focusin":(yp(fe)||fe.contentEditable==="true")&&(Ds=fe,Fc=V,Ja=null);break;case"focusout":Ja=Fc=Ds=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,kp(Z,a,K);break;case"selectionchange":if(t2)break;case"keydown":case"keyup":kp(Z,a,K)}var Ae;if(Pc)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ns?mp(e,a)&&(Re="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(hp&&a.locale!=="ko"&&(Ns||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ns&&(Ae=op()):(li=K,Uc="value"in li?li.value:li.textContent,Ns=!0)),fe=ml(V,Re),0<fe.length&&(Re=new up(Re,e,null,a,K),Z.push({event:Re,listeners:fe}),Ae?Re.data=Ae:(Ae=gp(a),Ae!==null&&(Re.data=Ae)))),(Ae=Fb?Gb(e,a):Wb(e,a))&&(Re=ml(V,"onBeforeInput"),0<Re.length&&(fe=new up("onBeforeInput","beforeinput",null,a,K),Z.push({event:fe,listeners:Re}),fe.data=Ae)),L2(Z,e,V,a,K)}ey(Z,n)})}function Sr(e,n,a){return{instance:e,listener:n,currentTarget:a}}function ml(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ha(e,a),h!=null&&l.unshift(Sr(e,h,f)),h=Ha(e,n),h!=null&&l.push(Sr(e,h,f))),e.tag===3)return l;e=e.return}return[]}function q2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ny(e,n,a,l,h){for(var f=n._reactName,x=[];a!==null&&a!==l;){var S=a,R=S.alternate,V=S.stateNode;if(S=S.tag,R!==null&&R===l)break;S!==5&&S!==26&&S!==27||V===null||(R=V,h?(V=Ha(a,f),V!=null&&x.unshift(Sr(a,V,R))):h||(V=Ha(a,f),V!=null&&x.push(Sr(a,V,R)))),a=a.return}x.length!==0&&e.push({event:n,listeners:x})}var $2=/\r\n?/g,H2=/\u0000|\uFFFD/g;function iy(e){return(typeof e=="string"?e:""+e).replace($2,`
`).replace(H2,"")}function sy(e,n){return n=iy(n),iy(e)===n}function Pe(e,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||zs(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&zs(e,""+l);break;case"className":vo(e,"class",l);break;case"tabIndex":vo(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vo(e,a,l);break;case"style":sp(e,l,f);break;case"data":if(n!=="object"){vo(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=wo(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Pe(e,n,"name",h.name,h,null),Pe(e,n,"formEncType",h.formEncType,h,null),Pe(e,n,"formMethod",h.formMethod,h,null),Pe(e,n,"formTarget",h.formTarget,h,null)):(Pe(e,n,"encType",h.encType,h,null),Pe(e,n,"method",h.method,h,null),Pe(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=wo(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Mn);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=wo(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),xo(e,"popover",l);break;case"xlinkActuate":Dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xo(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xb.get(a)||a,xo(e,a,l))}}function yd(e,n,a,l,h,f){switch(a){case"style":sp(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof l=="string"?zs(e,l):(typeof l=="number"||typeof l=="bigint")&&zs(e,""+l);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ot]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):xo(e,a,l)}}}function bt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var x=a[f];if(x!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Pe(e,n,f,x,a,null)}}h&&Pe(e,n,"srcSet",a.srcSet,a,null),l&&Pe(e,n,"src",a.src,a,null);return;case"input":Ee("invalid",e);var S=f=x=h=null,R=null,V=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":x=K;break;case"checked":R=K;break;case"defaultChecked":V=K;break;case"value":f=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,n));break;default:Pe(e,n,l,K,a,null)}}ep(e,f,S,R,V,x,h,!1);return;case"select":Ee("invalid",e),l=x=f=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":f=S;break;case"defaultValue":x=S;break;case"multiple":l=S;default:Pe(e,n,h,S,a,null)}n=f,a=x,e.multiple=!!l,n!=null?Es(e,!!l,n,!1):a!=null&&Es(e,!!l,a,!0);return;case"textarea":Ee("invalid",e),f=h=l=null;for(x in a)if(a.hasOwnProperty(x)&&(S=a[x],S!=null))switch(x){case"value":l=S;break;case"defaultValue":h=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:Pe(e,n,x,S,a,null)}np(e,l,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Pe(e,n,R,l,a,null));return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(l=0;l<jr.length;l++)Ee(jr[l],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Pe(e,n,V,l,a,null)}return;default:if(Rc(n)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&yd(e,n,K,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Pe(e,n,S,l,a,null))}function F2(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,x=null,S=null,R=null,V=null,K=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Z;default:l.hasOwnProperty(H)||Pe(e,n,H,null,l,Z)}}for(var P in l){var H=l[P];if(Z=a[P],l.hasOwnProperty(P)&&(H!=null||Z!=null))switch(P){case"type":f=H;break;case"name":h=H;break;case"checked":V=H;break;case"defaultChecked":K=H;break;case"value":x=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,n));break;default:H!==Z&&Pe(e,n,P,H,l,Z)}}Ec(e,x,S,R,V,K,f,h);return;case"select":H=x=S=P=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(f)||Pe(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=a[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":P=f;break;case"defaultValue":S=f;break;case"multiple":x=f;default:f!==R&&Pe(e,n,h,f,l,R)}n=S,a=x,l=H,P!=null?Es(e,!!a,P,!1):!!l!=!!a&&(n!=null?Es(e,!!a,n,!0):Es(e,!!a,a?[]:"",!1));return;case"textarea":H=P=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Pe(e,n,S,null,l,h)}for(x in l)if(h=l[x],f=a[x],l.hasOwnProperty(x)&&(h!=null||f!=null))switch(x){case"value":P=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(o(91));break;default:h!==f&&Pe(e,n,x,h,l,f)}tp(e,P,H);return;case"option":for(var ce in a)P=a[ce],a.hasOwnProperty(ce)&&P!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?e.selected=!1:Pe(e,n,ce,null,l,P));for(R in l)P=l[R],H=a[R],l.hasOwnProperty(R)&&P!==H&&(P!=null||H!=null)&&(R==="selected"?e.selected=P&&typeof P!="function"&&typeof P!="symbol":Pe(e,n,R,P,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)P=a[xe],a.hasOwnProperty(xe)&&P!=null&&!l.hasOwnProperty(xe)&&Pe(e,n,xe,null,l,P);for(V in l)if(P=l[V],H=a[V],l.hasOwnProperty(V)&&P!==H&&(P!=null||H!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,n));break;default:Pe(e,n,V,P,l,H)}return;default:if(Rc(n)){for(var qe in a)P=a[qe],a.hasOwnProperty(qe)&&P!==void 0&&!l.hasOwnProperty(qe)&&yd(e,n,qe,void 0,l,P);for(K in l)P=l[K],H=a[K],!l.hasOwnProperty(K)||P===H||P===void 0&&H===void 0||yd(e,n,K,P,l,H);return}}for(var B in a)P=a[B],a.hasOwnProperty(B)&&P!=null&&!l.hasOwnProperty(B)&&Pe(e,n,B,null,l,P);for(Z in l)P=l[Z],H=a[Z],!l.hasOwnProperty(Z)||P===H||P==null&&H==null||Pe(e,n,Z,P,l,H)}function ay(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,x=h.initiatorType,S=h.duration;if(f&&S&&ay(x)){for(x=0,S=h.responseEnd,l+=1;l<a.length;l++){var R=a[l],V=R.startTime;if(V>S)break;var K=R.transferSize,Z=R.initiatorType;K&&ay(Z)&&(R=R.responseEnd,x+=K*(R<S?1:(S-V)/(R-V)))}if(--l,n+=8*(f+x)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xd=null,vd=null;function gl(e){return e.nodeType===9?e:e.ownerDocument}function ry(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function bd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function W2(){var e=window.event;return e&&e.type==="popstate"?e===wd?!1:(wd=e,!0):(wd=null,!1)}var ly=typeof setTimeout=="function"?setTimeout:void 0,Y2=typeof clearTimeout=="function"?clearTimeout:void 0,cy=typeof Promise=="function"?Promise:void 0,K2=typeof queueMicrotask=="function"?queueMicrotask:typeof cy<"u"?function(e){return cy.resolve(null).then(e).catch(X2)}:ly;function X2(e){setTimeout(function(){throw e})}function Ti(e){return e==="head"}function uy(e,n){var a=n,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),oa(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")_r(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,_r(a);for(var f=a.firstChild;f;){var x=f.nextSibling,S=f.nodeName;f[qa]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=x}}else a==="body"&&_r(e.ownerDocument.body);a=h}while(a);oa(n)}function dy(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function jd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jd(a),Cc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Q2(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[qa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=rn(e.nextSibling),e===null)break}return null}function J2(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=rn(e.nextSibling),e===null))return null;return e}function hy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=rn(e.nextSibling),e===null))return null;return e}function Sd(e){return e.data==="$?"||e.data==="$~"}function _d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Z2(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function rn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Td=null;function fy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return rn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function py(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function my(e,n,a){switch(n=gl(a),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function _r(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Cc(e)}var on=new Map,gy=new Set;function yl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qn=k.d;k.d={f:ew,r:tw,D:nw,C:iw,L:sw,m:aw,X:ow,S:rw,M:lw};function ew(){var e=Qn.f(),n=ll();return e||n}function tw(e){var n=As(e);n!==null&&n.tag===5&&n.type==="form"?Nm(n):Qn.r(e)}var sa=typeof document>"u"?null:document;function yy(e,n,a){var l=sa;if(l&&typeof n=="string"&&n){var h=Jt(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),gy.has(h)||(gy.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),bt(n,"link",e),pt(n),l.head.appendChild(n)))}}function nw(e){Qn.D(e),yy("dns-prefetch",e,null)}function iw(e,n){Qn.C(e,n),yy("preconnect",e,n)}function sw(e,n,a){Qn.L(e,n,a);var l=sa;if(l&&e&&n){var h='link[rel="preload"][as="'+Jt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Jt(a.imageSizes)+'"]')):h+='[href="'+Jt(e)+'"]';var f=h;switch(n){case"style":f=aa(e);break;case"script":f=ra(e)}on.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),on.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Tr(f))||n==="script"&&l.querySelector(Ar(f))||(n=l.createElement("link"),bt(n,"link",e),pt(n),l.head.appendChild(n)))}}function aw(e,n){Qn.m(e,n);var a=sa;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Jt(l)+'"][href="'+Jt(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ra(e)}if(!on.has(f)&&(e=b({rel:"modulepreload",href:e},n),on.set(f,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ar(f)))return}l=a.createElement("link"),bt(l,"link",e),pt(l),a.head.appendChild(l)}}}function rw(e,n,a){Qn.S(e,n,a);var l=sa;if(l&&e){var h=Cs(l).hoistableStyles,f=aa(e);n=n||"default";var x=h.get(f);if(!x){var S={loading:0,preload:null};if(x=l.querySelector(Tr(f)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=on.get(f))&&Ad(e,a);var R=x=l.createElement("link");pt(R),bt(R,"link",e),R._p=new Promise(function(V,K){R.onload=V,R.onerror=K}),R.addEventListener("load",function(){S.loading|=1}),R.addEventListener("error",function(){S.loading|=2}),S.loading|=4,xl(x,n,l)}x={type:"stylesheet",instance:x,count:1,state:S},h.set(f,x)}}}function ow(e,n){Qn.X(e,n);var a=sa;if(a&&e){var l=Cs(a).hoistableScripts,h=ra(e),f=l.get(h);f||(f=a.querySelector(Ar(h)),f||(e=b({src:e,async:!0},n),(n=on.get(h))&&Cd(e,n),f=a.createElement("script"),pt(f),bt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function lw(e,n){Qn.M(e,n);var a=sa;if(a&&e){var l=Cs(a).hoistableScripts,h=ra(e),f=l.get(h);f||(f=a.querySelector(Ar(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=on.get(h))&&Cd(e,n),f=a.createElement("script"),pt(f),bt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function xy(e,n,a,l){var h=(h=le.current)?yl(h):null;if(!h)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=aa(a.href),a=Cs(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=aa(a.href);var f=Cs(h).hoistableStyles,x=f.get(e);if(x||(h=h.ownerDocument||h,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,x),(f=h.querySelector(Tr(e)))&&!f._p&&(x.instance=f,x.state.loading=5),on.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},on.set(e,a),f||cw(h,e,a,x.state))),n&&l===null)throw Error(o(528,""));return x}if(n&&l!==null)throw Error(o(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ra(a),a=Cs(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function aa(e){return'href="'+Jt(e)+'"'}function Tr(e){return'link[rel="stylesheet"]['+e+"]"}function vy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function cw(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),bt(n,"link",a),pt(n),e.head.appendChild(n))}function ra(e){return'[src="'+Jt(e)+'"]'}function Ar(e){return"script[async]"+e}function by(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Jt(a.href)+'"]');if(l)return n.instance=l,pt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),pt(l),bt(l,"style",h),xl(l,a.precedence,e),n.instance=l;case"stylesheet":h=aa(a.href);var f=e.querySelector(Tr(h));if(f)return n.state.loading|=4,n.instance=f,pt(f),f;l=vy(a),(h=on.get(h))&&Ad(l,h),f=(e.ownerDocument||e).createElement("link"),pt(f);var x=f;return x._p=new Promise(function(S,R){x.onload=S,x.onerror=R}),bt(f,"link",l),n.state.loading|=4,xl(f,a.precedence,e),n.instance=f;case"script":return f=ra(a.src),(h=e.querySelector(Ar(f)))?(n.instance=h,pt(h),h):(l=a,(h=on.get(f))&&(l=b({},a),Cd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),pt(h),bt(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,xl(l,a.precedence,e));return n.instance}function xl(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,x=0;x<l.length;x++){var S=l[x];if(S.dataset.precedence===n)f=S;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vl=null;function wy(e,n,a){if(vl===null){var l=new Map,h=vl=new Map;h.set(a,l)}else h=vl,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[qa]||f[gt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var x=f.getAttribute(n)||"";x=e+x;var S=l.get(x);S?S.push(f):l.set(x,[f])}}return l}function jy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function uw(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Sy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dw(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=aa(l.href),f=n.querySelector(Tr(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=bl.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,pt(f);return}f=n.ownerDocument||n,l=vy(l),(h=on.get(h))&&Ad(l,h),f=f.createElement("link"),pt(f);var x=f;x._p=new Promise(function(S,R){x.onload=S,x.onerror=R}),bt(f,"link",l),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=bl.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var kd=0;function hw(e,n){return e.stylesheets&&e.count===0&&jl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&jl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&kd===0&&(kd=62500*G2());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&jl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>kd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function bl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wl=null;function jl(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wl=new Map,n.forEach(fw,e),wl=null,bl.call(e))}function fw(e,n){if(!(n.state.loading&4)){var a=wl.get(e);if(a)var l=a.get(null);else{a=new Map,wl.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var x=h[f];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),l=x)}l&&a.set(null,l)}h=n.instance,x=h.getAttribute("data-precedence"),f=a.get(x)||l,f===l&&a.set(null,h),a.set(x,h),this.count++,l=bl.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Cr={$$typeof:E,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function pw(e,n,a,l,h,f,x,S,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sc(0),this.hiddenUpdates=Sc(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function _y(e,n,a,l,h,f,x,S,R,V,K,Z){return e=new pw(e,n,a,x,R,V,K,Z,S),n=1,f===!0&&(n|=24),f=qt(3,null,null,n),e.current=f,f.stateNode=e,n=ou(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},du(f),e}function Ty(e){return e?(e=Bs,e):Bs}function Ay(e,n,a,l,h,f){h=Ty(h),l.context===null?l.context=h:l.pendingContext=h,l=pi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=mi(e,l,n),a!==null&&(Lt(a,e,n),ar(a,e,n))}function Cy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Ed(e,n){Cy(e,n),(e=e.alternate)&&Cy(e,n)}function ky(e){if(e.tag===13||e.tag===31){var n=Fi(e,67108864);n!==null&&Lt(n,e,67108864),Ed(e,67108864)}}function Ey(e){if(e.tag===13||e.tag===31){var n=Wt();n=_c(n);var a=Fi(e,n);a!==null&&Lt(a,e,n),Ed(e,n)}}var Sl=!0;function mw(e,n,a,l){var h=N.T;N.T=null;var f=k.p;try{k.p=2,zd(e,n,a,l)}finally{k.p=f,N.T=h}}function gw(e,n,a,l){var h=N.T;N.T=null;var f=k.p;try{k.p=8,zd(e,n,a,l)}finally{k.p=f,N.T=h}}function zd(e,n,a,l){if(Sl){var h=Rd(l);if(h===null)gd(e,n,l,_l,a),Ry(e,l);else if(xw(h,e,n,a,l))l.stopPropagation();else if(Ry(e,l),n&4&&-1<yw.indexOf(e)){for(;h!==null;){var f=As(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var x=Vi(f.pendingLanes);if(x!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var R=1<<31-Vt(x);S.entanglements[1]|=R,x&=~R}zn(f),(Ue&6)===0&&(rl=Se()+500,wr(0))}}break;case 31:case 13:S=Fi(f,2),S!==null&&Lt(S,f,2),ll(),Ed(f,2)}if(f=Rd(l),f===null&&gd(e,n,l,_l,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else gd(e,n,l,null,a)}}function Rd(e){return e=Nc(e),Od(e)}var _l=null;function Od(e){if(_l=null,e=Ts(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _l=e,null}function zy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ht()){case ft:return 2;case _t:return 8;case Tn:case ai:return 32;case Ss:return 268435456;default:return 32}default:return 32}}var Nd=!1,Ai=null,Ci=null,ki=null,kr=new Map,Er=new Map,Ei=[],yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ry(e,n){switch(e){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":kr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(n.pointerId)}}function zr(e,n,a,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=As(n),n!==null&&ky(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function xw(e,n,a,l,h){switch(n){case"focusin":return Ai=zr(Ai,e,n,a,l,h),!0;case"dragenter":return Ci=zr(Ci,e,n,a,l,h),!0;case"mouseover":return ki=zr(ki,e,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return kr.set(f,zr(kr.get(f)||null,e,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Er.set(f,zr(Er.get(f)||null,e,n,a,l,h)),!0}return!1}function Oy(e){var n=Ts(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Gf(e.priority,function(){Ey(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Gf(e.priority,function(){Ey(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Rd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Oc=l,a.target.dispatchEvent(l),Oc=null}else return n=As(a),n!==null&&ky(n),e.blockedOn=a,!1;n.shift()}return!0}function Ny(e,n,a){Tl(e)&&a.delete(n)}function vw(){Nd=!1,Ai!==null&&Tl(Ai)&&(Ai=null),Ci!==null&&Tl(Ci)&&(Ci=null),ki!==null&&Tl(ki)&&(ki=null),kr.forEach(Ny),Er.forEach(Ny)}function Al(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vw)))}var Cl=null;function Dy(e){Cl!==e&&(Cl=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Cl===e&&(Cl=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Od(l||a)===null)continue;break}var f=As(a);f!==null&&(e.splice(n,3),n-=3,Ru(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function oa(e){function n(R){return Al(R,e)}Ai!==null&&Al(Ai,e),Ci!==null&&Al(Ci,e),ki!==null&&Al(ki,e),kr.forEach(n),Er.forEach(n);for(var a=0;a<Ei.length;a++){var l=Ei[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ei.length&&(a=Ei[0],a.blockedOn===null);)Oy(a),a.blockedOn===null&&Ei.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],x=h[Ot]||null;if(typeof f=="function")x||Dy(a);else if(x){var S=null;if(f&&f.hasAttribute("formAction")){if(h=f,x=f[Ot]||null)S=x.formAction;else if(Od(h)!==null)continue}else S=x.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Dy(a)}}}function My(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(x){return h=x})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(e){this._internalRoot=e}kl.prototype.render=Dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var a=n.current,l=Wt();Ay(a,l,e,n,null,null)},kl.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ay(e.current,2,null,e,null,null),ll(),n[_s]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ff();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ei.length&&n!==0&&n<Ei[a].priority;a++);Ei.splice(a,0,e),a===0&&Oy(e)}};var Uy=t.version;if(Uy!=="19.2.4")throw Error(o(527,Uy,"19.2.4"));k.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var bw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var El=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!El.isDisabled&&El.supportsFiber)try{An=El.inject(bw),It=El}catch{}}return Or.createRoot=function(e,n){if(!c(e))throw Error(o(299));var a=!1,l="",h=$m,f=Hm,x=Fm;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError)),n=_y(e,1,!1,null,null,a,l,null,h,f,x,My),e[_s]=n.current,md(e),new Dd(n)},Or.hydrateRoot=function(e,n,a){if(!c(e))throw Error(o(299));var l=!1,h="",f=$m,x=Hm,S=Fm,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=_y(e,1,!0,n,a??null,l,h,R,f,x,S,My),n.context=Ty(null),a=n.current,l=Wt(),l=_c(l),h=pi(l),h.callback=null,mi(a,h,l),a=l,n.current.lanes=a,Pa(n,a),zn(n),e[_s]=n.current,md(e),new kl(n)},Or.version="19.2.4",Or}var Gy;function Rw(){if(Gy)return Bd.exports;Gy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Bd.exports=zw(),Bd.exports}var Ow=Rw();const Bx=(...i)=>i.filter((t,s,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===s).join(" ").trim();const Nw=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Dw=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,o)=>o?o.toUpperCase():s.toLowerCase());const Wy=i=>{const t=Dw(i);return t.charAt(0).toUpperCase()+t.slice(1)};var Mw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Uw=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const Bw=T.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:d,...p},m)=>T.createElement("svg",{ref:m,...Mw,width:t,height:t,stroke:i,strokeWidth:o?Number(s)*24/Number(t):s,className:Bx("lucide",c),...!u&&!Uw(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,y])=>T.createElement(g,y)),...Array.isArray(u)?u:[u]]));const se=(i,t)=>{const s=T.forwardRef(({className:o,...c},u)=>T.createElement(Bw,{ref:u,iconNode:t,className:Bx(`lucide-${Nw(Wy(i))}`,`lucide-${i}`,o),...c}));return s.displayName=Wy(i),s};const Lw=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Lx=se("archive",Lw);const Iw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],io=se("arrow-left",Iw);const Vw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ca=se("arrow-right",Vw);const Pw=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Yl=se("arrow-up-right",Pw);const qw=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Kl=se("bell",qw);const $w=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Hw=se("book-open",$w);const Fw=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Gw=se("book",Fw);const Ww=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Yw=se("bot",Ww);const Kw=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ix=se("briefcase",Kw);const Xw=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Qw=se("building",Xw);const Jw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zn=se("calendar",Jw);const Zw=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],ej=se("chart-no-axes-column",Zw);const tj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ms=se("check",tj);const nj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hr=se("chevron-down",nj);const ij=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Kh=se("chevron-left",ij);const sj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],za=se("chevron-right",sj);const aj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lc=se("circle-alert",aj);const rj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ja=se("circle-check-big",rj);const oj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xh=se("circle-check",oj);const lj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qh=se("circle-question-mark",lj);const cj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jn=se("clock",cj);const uj=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],dj=se("cloud-upload",uj);const hj=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],so=se("download",hj);const fj=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Jh=se("ellipsis-vertical",fj);const pj=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Vx=se("ellipsis",pj);const mj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Px=se("external-link",mj);const gj=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yj=se("eye-off",gj);const xj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qx=se("eye",xj);const vj=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],bj=se("facebook",vj);const wj=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],jj=se("file-code",wj);const Sj=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],Yy=se("file-image",Sj);const _j=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]],Ky=se("file-play",_j);const Tj=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Aj=se("file-plus",Tj);const Cj=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],kj=se("file-spreadsheet",Cj);const Ej=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],un=se("file-text",Ej);const zj=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],Rj=se("file",zj);const Oj=[["path",{d:"M15 2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"14sh0y"}],["path",{d:"M16.706 2.706A2.4 2.4 0 0 0 15 2v5a1 1 0 0 0 1 1h5a2.4 2.4 0 0 0-.706-1.706z",key:"1970lx"}],["path",{d:"M5 7a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 1.732-1",key:"l4dndm"}]],Nj=se("files",Oj);const Dj=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Mj=se("folder-open",Dj);const Uj=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Bj=se("folder-plus",Uj);const Lj=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Sa=se("folder",Lj);const Ij=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],cc=se("funnel",Ij);const Vj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Zh=se("globe",Vj);const Pj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ef=se("grid-3x3",Pj);const qj=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],$x=se("hard-drive",qj);const $j=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],$l=se("history",$j);const Hj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Fj=se("house",Hj);const Gj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Wj=se("image",Gj);const Yj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Hx=se("info",Yj);const Kj=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Xj=se("key",Kj);const Qj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],Jj=se("life-buoy",Qj);const Zj=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],eS=se("link",Zj);const tS=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],nS=se("linkedin",tS);const iS=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],tf=se("list",iS);const sS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dt=se("loader-circle",sS);const aS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gs=se("lock",aS);const rS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oS=se("log-out",rS);const lS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],bs=se("mail",lS);const cS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ka=se("map-pin",cS);const uS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],dS=se("menu",uS);const hS=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],fS=se("message-circle",hS);const pS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],nf=se("message-square",pS);const mS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Fx=se("moon",mS);const gS=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],hh=se("music",gS);const yS=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Gx=se("paperclip",yS);const xS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vS=se("pen-line",xS);const bS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],wS=se("pen",bS);const jS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],SS=se("phone",jS);const _S=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],TS=se("pin-off",_S);const AS=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Pd=se("pin",AS);const CS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_a=se("plus",CS);const kS=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],ES=se("presentation",kS);const zS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RS=se("rotate-ccw",zS);const OS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sf=se("save",OS);const NS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Sn=se("search",NS);const DS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fh=se("send",DS);const MS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wx=se("settings",MS);const US=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],af=se("share-2",US);const BS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Yx=se("shield-check",BS);const LS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hn=se("shield",LS);const IS=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ph=se("smartphone",IS);const VS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Kx=se("sparkles",VS);const PS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qS=se("star",PS);const $S=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Xx=se("sun",$S);const HS=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],FS=se("text-align-start",HS);const GS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ys=se("trash-2",GS);const WS=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],YS=se("trash",WS);const KS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xy=se("trending-up",KS);const XS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qy=se("triangle-alert",XS);const QS=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],JS=se("twitter",QS);const ZS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Xl=se("upload",ZS);const e_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],t_=se("user-plus",e_);const n_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ws=se("user",n_);const i_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],On=se("users",i_);const s_=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],rf=se("video",s_);const a_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xt=se("x",a_);const r_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qx=se("zap",r_),of=T.createContext({});function lf(i){const t=T.useRef(null);return t.current===null&&(t.current=i()),t.current}const Jx=typeof window<"u",Zx=Jx?T.useLayoutEffect:T.useEffect,uc=T.createContext(null);function cf(i,t){i.indexOf(t)===-1&&i.push(t)}function uf(i,t){const s=i.indexOf(t);s>-1&&i.splice(s,1)}const Nn=(i,t,s)=>s>t?t:s<i?i:s;let df=()=>{};const ti={},ev=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function tv(i){return typeof i=="object"&&i!==null}const nv=i=>/^0[^.\s]+$/u.test(i);function hf(i){let t;return()=>(t===void 0&&(t=i()),t)}const dn=i=>i,o_=(i,t)=>s=>t(i(s)),ao=(...i)=>i.reduce(o_),Fr=(i,t,s)=>{const o=t-i;return o===0?1:(s-i)/o};class ff{constructor(){this.subscriptions=[]}add(t){return cf(this.subscriptions,t),()=>uf(this.subscriptions,t)}notify(t,s,o){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](t,s,o);else for(let u=0;u<c;u++){const d=this.subscriptions[u];d&&d(t,s,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ei=i=>i*1e3,cn=i=>i/1e3;function iv(i,t){return t?i*(1e3/t):0}const sv=(i,t,s)=>(((1-3*s+3*t)*i+(3*s-6*t))*i+3*t)*i,l_=1e-7,c_=12;function u_(i,t,s,o,c){let u,d,p=0;do d=t+(s-t)/2,u=sv(d,o,c)-i,u>0?s=d:t=d;while(Math.abs(u)>l_&&++p<c_);return d}function ro(i,t,s,o){if(i===t&&s===o)return dn;const c=u=>u_(u,0,1,i,s);return u=>u===0||u===1?u:sv(c(u),t,o)}const av=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,rv=i=>t=>1-i(1-t),ov=ro(.33,1.53,.69,.99),pf=rv(ov),lv=av(pf),cv=i=>(i*=2)<1?.5*pf(i):.5*(2-Math.pow(2,-10*(i-1))),mf=i=>1-Math.sin(Math.acos(i)),uv=rv(mf),dv=av(mf),d_=ro(.42,0,1,1),h_=ro(0,0,.58,1),hv=ro(.42,0,.58,1),f_=i=>Array.isArray(i)&&typeof i[0]!="number",fv=i=>Array.isArray(i)&&typeof i[0]=="number",p_={linear:dn,easeIn:d_,easeInOut:hv,easeOut:h_,circIn:mf,circInOut:dv,circOut:uv,backIn:pf,backInOut:lv,backOut:ov,anticipate:cv},m_=i=>typeof i=="string",Jy=i=>{if(fv(i)){df(i.length===4);const[t,s,o,c]=i;return ro(t,s,o,c)}else if(m_(i))return p_[i];return i},zl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function g_(i,t){let s=new Set,o=new Set,c=!1,u=!1;const d=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function m(y){d.has(y)&&(g.schedule(y),i()),y(p)}const g={schedule:(y,b=!1,v=!1)=>{const j=v&&c?s:o;return b&&d.add(y),j.has(y)||j.add(y),y},cancel:y=>{o.delete(y),d.delete(y)},process:y=>{if(p=y,c){u=!0;return}c=!0,[s,o]=[o,s],s.forEach(m),s.clear(),c=!1,u&&(u=!1,g.process(y))}};return g}const y_=40;function pv(i,t){let s=!1,o=!0;const c={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,d=zl.reduce((E,U)=>(E[U]=g_(u),E),{}),{setup:p,read:m,resolveKeyframes:g,preUpdate:y,update:b,preRender:v,render:w,postRender:j}=d,_=()=>{const E=ti.useManualTiming?c.timestamp:performance.now();s=!1,ti.useManualTiming||(c.delta=o?1e3/60:Math.max(Math.min(E-c.timestamp,y_),1)),c.timestamp=E,c.isProcessing=!0,p.process(c),m.process(c),g.process(c),y.process(c),b.process(c),v.process(c),w.process(c),j.process(c),c.isProcessing=!1,s&&t&&(o=!1,i(_))},A=()=>{s=!0,o=!0,c.isProcessing||i(_)};return{schedule:zl.reduce((E,U)=>{const L=d[U];return E[U]=(q,F=!1,X=!1)=>(s||A(),L.schedule(q,F,X)),E},{}),cancel:E=>{for(let U=0;U<zl.length;U++)d[zl[U]].cancel(E)},state:c,steps:d}}const{schedule:Fe,cancel:Mi,state:St,steps:qd}=pv(typeof requestAnimationFrame<"u"?requestAnimationFrame:dn,!0);let Hl;function x_(){Hl=void 0}const zt={now:()=>(Hl===void 0&&zt.set(St.isProcessing||ti.useManualTiming?St.timestamp:performance.now()),Hl),set:i=>{Hl=i,queueMicrotask(x_)}},mv=i=>t=>typeof t=="string"&&t.startsWith(i),gv=mv("--"),v_=mv("var(--"),gf=i=>v_(i)?b_.test(i.split("/*")[0].trim()):!1,b_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Zy(i){return typeof i!="string"?!1:i.split("/*")[0].includes("var(--")}const Ra={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Gr={...Ra,transform:i=>Nn(0,1,i)},Rl={...Ra,default:1},Lr=i=>Math.round(i*1e5)/1e5,yf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function w_(i){return i==null}const j_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xf=(i,t)=>s=>!!(typeof s=="string"&&j_.test(s)&&s.startsWith(i)||t&&!w_(s)&&Object.prototype.hasOwnProperty.call(s,t)),yv=(i,t,s)=>o=>{if(typeof o!="string")return o;const[c,u,d,p]=o.match(yf);return{[i]:parseFloat(c),[t]:parseFloat(u),[s]:parseFloat(d),alpha:p!==void 0?parseFloat(p):1}},S_=i=>Nn(0,255,i),$d={...Ra,transform:i=>Math.round(S_(i))},ds={test:xf("rgb","red"),parse:yv("red","green","blue"),transform:({red:i,green:t,blue:s,alpha:o=1})=>"rgba("+$d.transform(i)+", "+$d.transform(t)+", "+$d.transform(s)+", "+Lr(Gr.transform(o))+")"};function __(i){let t="",s="",o="",c="";return i.length>5?(t=i.substring(1,3),s=i.substring(3,5),o=i.substring(5,7),c=i.substring(7,9)):(t=i.substring(1,2),s=i.substring(2,3),o=i.substring(3,4),c=i.substring(4,5),t+=t,s+=s,o+=o,c+=c),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:c?parseInt(c,16)/255:1}}const mh={test:xf("#"),parse:__,transform:ds.transform},oo=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),Ri=oo("deg"),Rn=oo("%"),de=oo("px"),T_=oo("vh"),A_=oo("vw"),e0={...Rn,parse:i=>Rn.parse(i)/100,transform:i=>Rn.transform(i*100)},ya={test:xf("hsl","hue"),parse:yv("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:s,alpha:o=1})=>"hsla("+Math.round(i)+", "+Rn.transform(Lr(t))+", "+Rn.transform(Lr(s))+", "+Lr(Gr.transform(o))+")"},ot={test:i=>ds.test(i)||mh.test(i)||ya.test(i),parse:i=>ds.test(i)?ds.parse(i):ya.test(i)?ya.parse(i):mh.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?ds.transform(i):ya.transform(i),getAnimatableNone:i=>{const t=ot.parse(i);return t.alpha=0,ot.transform(t)}},C_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function k_(i){return isNaN(i)&&typeof i=="string"&&(i.match(yf)?.length||0)+(i.match(C_)?.length||0)>0}const xv="number",vv="color",E_="var",z_="var(",t0="${}",R_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wr(i){const t=i.toString(),s=[],o={color:[],number:[],var:[]},c=[];let u=0;const p=t.replace(R_,m=>(ot.test(m)?(o.color.push(u),c.push(vv),s.push(ot.parse(m))):m.startsWith(z_)?(o.var.push(u),c.push(E_),s.push(m)):(o.number.push(u),c.push(xv),s.push(parseFloat(m))),++u,t0)).split(t0);return{values:s,split:p,indexes:o,types:c}}function bv(i){return Wr(i).values}function wv(i){const{split:t,types:s}=Wr(i),o=t.length;return c=>{let u="";for(let d=0;d<o;d++)if(u+=t[d],c[d]!==void 0){const p=s[d];p===xv?u+=Lr(c[d]):p===vv?u+=ot.transform(c[d]):u+=c[d]}return u}}const O_=i=>typeof i=="number"?0:ot.test(i)?ot.getAnimatableNone(i):i;function N_(i){const t=bv(i);return wv(i)(t.map(O_))}const Ui={test:k_,parse:bv,createTransformer:wv,getAnimatableNone:N_};function Hd(i,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?i+(t-i)*6*s:s<1/2?t:s<2/3?i+(t-i)*(2/3-s)*6:i}function D_({hue:i,saturation:t,lightness:s,alpha:o}){i/=360,t/=100,s/=100;let c=0,u=0,d=0;if(!t)c=u=d=s;else{const p=s<.5?s*(1+t):s+t-s*t,m=2*s-p;c=Hd(m,p,i+1/3),u=Hd(m,p,i),d=Hd(m,p,i-1/3)}return{red:Math.round(c*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:o}}function Ql(i,t){return s=>s>0?t:i}const Ke=(i,t,s)=>i+(t-i)*s,Fd=(i,t,s)=>{const o=i*i,c=s*(t*t-o)+o;return c<0?0:Math.sqrt(c)},M_=[mh,ds,ya],U_=i=>M_.find(t=>t.test(i));function n0(i){const t=U_(i);if(!t)return!1;let s=t.parse(i);return t===ya&&(s=D_(s)),s}const i0=(i,t)=>{const s=n0(i),o=n0(t);if(!s||!o)return Ql(i,t);const c={...s};return u=>(c.red=Fd(s.red,o.red,u),c.green=Fd(s.green,o.green,u),c.blue=Fd(s.blue,o.blue,u),c.alpha=Ke(s.alpha,o.alpha,u),ds.transform(c))},gh=new Set(["none","hidden"]);function B_(i,t){return gh.has(i)?s=>s<=0?i:t:s=>s>=1?t:i}function L_(i,t){return s=>Ke(i,t,s)}function vf(i){return typeof i=="number"?L_:typeof i=="string"?gf(i)?Ql:ot.test(i)?i0:P_:Array.isArray(i)?jv:typeof i=="object"?ot.test(i)?i0:I_:Ql}function jv(i,t){const s=[...i],o=s.length,c=i.map((u,d)=>vf(u)(u,t[d]));return u=>{for(let d=0;d<o;d++)s[d]=c[d](u);return s}}function I_(i,t){const s={...i,...t},o={};for(const c in s)i[c]!==void 0&&t[c]!==void 0&&(o[c]=vf(i[c])(i[c],t[c]));return c=>{for(const u in o)s[u]=o[u](c);return s}}function V_(i,t){const s=[],o={color:0,var:0,number:0};for(let c=0;c<t.values.length;c++){const u=t.types[c],d=i.indexes[u][o[u]],p=i.values[d]??0;s[c]=p,o[u]++}return s}const P_=(i,t)=>{const s=Ui.createTransformer(t),o=Wr(i),c=Wr(t);return o.indexes.var.length===c.indexes.var.length&&o.indexes.color.length===c.indexes.color.length&&o.indexes.number.length>=c.indexes.number.length?gh.has(i)&&!c.values.length||gh.has(t)&&!o.values.length?B_(i,t):ao(jv(V_(o,c),c.values),s):Ql(i,t)};function Sv(i,t,s){return typeof i=="number"&&typeof t=="number"&&typeof s=="number"?Ke(i,t,s):vf(i)(i,t)}const q_=i=>{const t=({timestamp:s})=>i(s);return{start:(s=!0)=>Fe.update(t,s),stop:()=>Mi(t),now:()=>St.isProcessing?St.timestamp:zt.now()}},_v=(i,t,s=10)=>{let o="";const c=Math.max(Math.round(t/s),2);for(let u=0;u<c;u++)o+=Math.round(i(u/(c-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},Jl=2e4;function bf(i){let t=0;const s=50;let o=i.next(t);for(;!o.done&&t<Jl;)t+=s,o=i.next(t);return t>=Jl?1/0:t}function $_(i,t=100,s){const o=s({...i,keyframes:[0,t]}),c=Math.min(bf(o),Jl);return{type:"keyframes",ease:u=>o.next(c*u).value/t,duration:cn(c)}}const H_=5;function Tv(i,t,s){const o=Math.max(t-H_,0);return iv(s-i(o),t-o)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gd=.001;function F_({duration:i=Ze.duration,bounce:t=Ze.bounce,velocity:s=Ze.velocity,mass:o=Ze.mass}){let c,u,d=1-t;d=Nn(Ze.minDamping,Ze.maxDamping,d),i=Nn(Ze.minDuration,Ze.maxDuration,cn(i)),d<1?(c=g=>{const y=g*d,b=y*i,v=y-s,w=yh(g,d),j=Math.exp(-b);return Gd-v/w*j},u=g=>{const b=g*d*i,v=b*s+s,w=Math.pow(d,2)*Math.pow(g,2)*i,j=Math.exp(-b),_=yh(Math.pow(g,2),d);return(-c(g)+Gd>0?-1:1)*((v-w)*j)/_}):(c=g=>{const y=Math.exp(-g*i),b=(g-s)*i+1;return-Gd+y*b},u=g=>{const y=Math.exp(-g*i),b=(s-g)*(i*i);return y*b});const p=5/i,m=W_(c,u,p);if(i=ei(i),isNaN(m))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:i};{const g=Math.pow(m,2)*o;return{stiffness:g,damping:d*2*Math.sqrt(o*g),duration:i}}}const G_=12;function W_(i,t,s){let o=s;for(let c=1;c<G_;c++)o=o-i(o)/t(o);return o}function yh(i,t){return i*Math.sqrt(1-t*t)}const Y_=["duration","bounce"],K_=["stiffness","damping","mass"];function s0(i,t){return t.some(s=>i[s]!==void 0)}function X_(i){let t={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...i};if(!s0(i,K_)&&s0(i,Y_))if(i.visualDuration){const s=i.visualDuration,o=2*Math.PI/(s*1.2),c=o*o,u=2*Nn(.05,1,1-(i.bounce||0))*Math.sqrt(c);t={...t,mass:Ze.mass,stiffness:c,damping:u}}else{const s=F_(i);t={...t,...s,mass:Ze.mass},t.isResolvedFromDuration=!0}return t}function Zl(i=Ze.visualDuration,t=Ze.bounce){const s=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:o,restDelta:c}=s;const u=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],p={done:!1,value:u},{stiffness:m,damping:g,mass:y,duration:b,velocity:v,isResolvedFromDuration:w}=X_({...s,velocity:-cn(s.velocity||0)}),j=v||0,_=g/(2*Math.sqrt(m*y)),A=d-u,C=cn(Math.sqrt(m/y)),D=Math.abs(A)<5;o||(o=D?Ze.restSpeed.granular:Ze.restSpeed.default),c||(c=D?Ze.restDelta.granular:Ze.restDelta.default);let E;if(_<1){const L=yh(C,_);E=q=>{const F=Math.exp(-_*C*q);return d-F*((j+_*C*A)/L*Math.sin(L*q)+A*Math.cos(L*q))}}else if(_===1)E=L=>d-Math.exp(-C*L)*(A+(j+C*A)*L);else{const L=C*Math.sqrt(_*_-1);E=q=>{const F=Math.exp(-_*C*q),X=Math.min(L*q,300);return d-F*((j+_*C*A)*Math.sinh(X)+L*A*Math.cosh(X))/L}}const U={calculatedDuration:w&&b||null,next:L=>{const q=E(L);if(w)p.done=L>=b;else{let F=L===0?j:0;_<1&&(F=L===0?ei(j):Tv(E,L,q));const X=Math.abs(F)<=o,z=Math.abs(d-q)<=c;p.done=X&&z}return p.value=p.done?d:q,p},toString:()=>{const L=Math.min(bf(U),Jl),q=_v(F=>U.next(L*F).value,L,30);return L+"ms "+q},toTransition:()=>{}};return U}Zl.applyToOptions=i=>{const t=$_(i,100,Zl);return i.ease=t.ease,i.duration=ei(t.duration),i.type="keyframes",i};function xh({keyframes:i,velocity:t=0,power:s=.8,timeConstant:o=325,bounceDamping:c=10,bounceStiffness:u=500,modifyTarget:d,min:p,max:m,restDelta:g=.5,restSpeed:y}){const b=i[0],v={done:!1,value:b},w=X=>p!==void 0&&X<p||m!==void 0&&X>m,j=X=>p===void 0?m:m===void 0||Math.abs(p-X)<Math.abs(m-X)?p:m;let _=s*t;const A=b+_,C=d===void 0?A:d(A);C!==A&&(_=C-b);const D=X=>-_*Math.exp(-X/o),E=X=>C+D(X),U=X=>{const z=D(X),te=E(X);v.done=Math.abs(z)<=g,v.value=v.done?C:te};let L,q;const F=X=>{w(v.value)&&(L=X,q=Zl({keyframes:[v.value,j(v.value)],velocity:Tv(E,X,v.value),damping:c,stiffness:u,restDelta:g,restSpeed:y}))};return F(0),{calculatedDuration:null,next:X=>{let z=!1;return!q&&L===void 0&&(z=!0,U(X),F(X)),L!==void 0&&X>=L?q.next(X-L):(!z&&U(X),v)}}}function Q_(i,t,s){const o=[],c=s||ti.mix||Sv,u=i.length-1;for(let d=0;d<u;d++){let p=c(i[d],i[d+1]);if(t){const m=Array.isArray(t)?t[d]||dn:t;p=ao(m,p)}o.push(p)}return o}function J_(i,t,{clamp:s=!0,ease:o,mixer:c}={}){const u=i.length;if(df(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=i[0]===i[1];i[0]>i[u-1]&&(i=[...i].reverse(),t=[...t].reverse());const p=Q_(t,o,c),m=p.length,g=y=>{if(d&&y<i[0])return t[0];let b=0;if(m>1)for(;b<i.length-2&&!(y<i[b+1]);b++);const v=Fr(i[b],i[b+1],y);return p[b](v)};return s?y=>g(Nn(i[0],i[u-1],y)):g}function Z_(i,t){const s=i[i.length-1];for(let o=1;o<=t;o++){const c=Fr(0,t,o);i.push(Ke(s,1,c))}}function eT(i){const t=[0];return Z_(t,i.length-1),t}function tT(i,t){return i.map(s=>s*t)}function nT(i,t){return i.map(()=>t||hv).splice(0,i.length-1)}function Ir({duration:i=300,keyframes:t,times:s,ease:o="easeInOut"}){const c=f_(o)?o.map(Jy):Jy(o),u={done:!1,value:t[0]},d=tT(s&&s.length===t.length?s:eT(t),i),p=J_(d,t,{ease:Array.isArray(c)?c:nT(t,c)});return{calculatedDuration:i,next:m=>(u.value=p(m),u.done=m>=i,u)}}const iT=i=>i!==null;function wf(i,{repeat:t,repeatType:s="loop"},o,c=1){const u=i.filter(iT),p=c<0||t&&s!=="loop"&&t%2===1?0:u.length-1;return!p||o===void 0?u[p]:o}const sT={decay:xh,inertia:xh,tween:Ir,keyframes:Ir,spring:Zl};function Av(i){typeof i.type=="string"&&(i.type=sT[i.type])}class jf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const aT=i=>i/100;class Sf extends jf{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==zt.now()&&this.tick(zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Av(t);const{type:s=Ir,repeat:o=0,repeatDelay:c=0,repeatType:u,velocity:d=0}=t;let{keyframes:p}=t;const m=s||Ir;m!==Ir&&typeof p[0]!="number"&&(this.mixKeyframes=ao(aT,Sv(p[0],p[1])),p=[0,100]);const g=m({...t,keyframes:p});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...p].reverse(),velocity:-d})),g.calculatedDuration===null&&(g.calculatedDuration=bf(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+c,this.totalDuration=this.resolvedDuration*(o+1)-c,this.generator=g}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:o,totalDuration:c,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:p,calculatedDuration:m}=this;if(this.startTime===null)return o.next(0);const{delay:g=0,keyframes:y,repeat:b,repeatType:v,repeatDelay:w,type:j,onUpdate:_,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const C=this.currentTime-g*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?C<0:C>c;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let E=this.currentTime,U=o;if(b){const X=Math.min(this.currentTime,c)/p;let z=Math.floor(X),te=X%1;!te&&X>=1&&(te=1),te===1&&z--,z=Math.min(z,b+1),z%2&&(v==="reverse"?(te=1-te,w&&(te-=w/p)):v==="mirror"&&(U=d)),E=Nn(0,1,te)*p}const L=D?{done:!1,value:y[0]}:U.next(E);u&&(L.value=u(L.value));let{done:q}=L;!D&&m!==null&&(q=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return F&&j!==xh&&(L.value=wf(y,this.options,A,this.speed)),_&&_(L.value),F&&this.finish(),L}then(t,s){return this.finished.then(t,s)}get duration(){return cn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+cn(t)}get time(){return cn(this.currentTime)}set time(t){t=ei(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(zt.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=cn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=q_,startTime:s}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=s??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function rT(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const hs=i=>i*180/Math.PI,vh=i=>{const t=hs(Math.atan2(i[1],i[0]));return bh(t)},oT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:vh,rotateZ:vh,skewX:i=>hs(Math.atan(i[1])),skewY:i=>hs(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},bh=i=>(i=i%360,i<0&&(i+=360),i),a0=vh,r0=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),o0=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),lT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:r0,scaleY:o0,scale:i=>(r0(i)+o0(i))/2,rotateX:i=>bh(hs(Math.atan2(i[6],i[5]))),rotateY:i=>bh(hs(Math.atan2(-i[2],i[0]))),rotateZ:a0,rotate:a0,skewX:i=>hs(Math.atan(i[4])),skewY:i=>hs(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function wh(i){return i.includes("scale")?1:0}function jh(i,t){if(!i||i==="none")return wh(t);const s=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,c;if(s)o=lT,c=s;else{const p=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=oT,c=p}if(!c)return wh(t);const u=o[t],d=c[1].split(",").map(uT);return typeof u=="function"?u(d):d[u]}const cT=(i,t)=>{const{transform:s="none"}=getComputedStyle(i);return jh(s,t)};function uT(i){return parseFloat(i.trim())}const Oa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Na=new Set(Oa),l0=i=>i===Ra||i===de,dT=new Set(["x","y","z"]),hT=Oa.filter(i=>!dT.has(i));function fT(i){const t=[];return hT.forEach(s=>{const o=i.getValue(s);o!==void 0&&(t.push([s,o.get()]),o.set(s.startsWith("scale")?1:0))}),t}const Di={width:({x:i},{paddingLeft:t="0",paddingRight:s="0"})=>i.max-i.min-parseFloat(t)-parseFloat(s),height:({y:i},{paddingTop:t="0",paddingBottom:s="0"})=>i.max-i.min-parseFloat(t)-parseFloat(s),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>jh(t,"x"),y:(i,{transform:t})=>jh(t,"y")};Di.translateX=Di.x;Di.translateY=Di.y;const ps=new Set;let Sh=!1,_h=!1,Th=!1;function Cv(){if(_h){const i=Array.from(ps).filter(o=>o.needsMeasurement),t=new Set(i.map(o=>o.element)),s=new Map;t.forEach(o=>{const c=fT(o);c.length&&(s.set(o,c),o.render())}),i.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const c=s.get(o);c&&c.forEach(([u,d])=>{o.getValue(u)?.set(d)})}),i.forEach(o=>o.measureEndState()),i.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}_h=!1,Sh=!1,ps.forEach(i=>i.complete(Th)),ps.clear()}function kv(){ps.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(_h=!0)})}function pT(){Th=!0,kv(),Cv(),Th=!1}class _f{constructor(t,s,o,c,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=o,this.motionValue=c,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(ps.add(this),Sh||(Sh=!0,Fe.read(kv),Fe.resolveKeyframes(Cv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:o,motionValue:c}=this;if(t[0]===null){const u=c?.get(),d=t[t.length-1];if(u!==void 0)t[0]=u;else if(o&&s){const p=o.readValue(s,d);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=d),c&&u===void 0&&c.set(t[0])}rT(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ps.delete(this)}cancel(){this.state==="scheduled"&&(ps.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mT=i=>i.startsWith("--");function gT(i,t,s){mT(t)?i.style.setProperty(t,s):i.style[t]=s}const yT=hf(()=>window.ScrollTimeline!==void 0),xT={};function vT(i,t){const s=hf(i);return()=>xT[t]??s()}const Ev=vT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mr=([i,t,s,o])=>`cubic-bezier(${i}, ${t}, ${s}, ${o})`,c0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mr([0,.65,.55,1]),circOut:Mr([.55,0,1,.45]),backIn:Mr([.31,.01,.66,-.59]),backOut:Mr([.33,1.53,.69,.99])};function zv(i,t){if(i)return typeof i=="function"?Ev()?_v(i,t):"ease-out":fv(i)?Mr(i):Array.isArray(i)?i.map(s=>zv(s,t)||c0.easeOut):c0[i]}function bT(i,t,s,{delay:o=0,duration:c=300,repeat:u=0,repeatType:d="loop",ease:p="easeOut",times:m}={},g=void 0){const y={[t]:s};m&&(y.offset=m);const b=zv(p,c);Array.isArray(b)&&(y.easing=b);const v={delay:o,duration:c,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return g&&(v.pseudoElement=g),i.animate(y,v)}function Rv(i){return typeof i=="function"&&"applyToOptions"in i}function wT({type:i,...t}){return Rv(i)&&Ev()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class jT extends jf{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:s,name:o,keyframes:c,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:p,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=t,df(typeof t.type!="string");const g=wT(t);this.animation=bT(s,o,c,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=wf(c,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(y):gT(s,o,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return cn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+cn(t)}get time(){return cn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ei(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&yT()?(this.animation.timeline=t,dn):s(this)}}const Ov={anticipate:cv,backInOut:lv,circInOut:dv};function ST(i){return i in Ov}function _T(i){typeof i.ease=="string"&&ST(i.ease)&&(i.ease=Ov[i.ease])}const Wd=10;class TT extends jT{constructor(t){_T(t),Av(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:o,onComplete:c,element:u,...d}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const p=new Sf({...d,autoplay:!1}),m=Math.max(Wd,zt.now()-this.startTime),g=Nn(0,Wd,m-Wd);s.setWithVelocity(p.sample(Math.max(0,m-g)).value,p.sample(m).value,g),p.stop()}}const u0=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Ui.test(i)||i==="0")&&!i.startsWith("url("));function AT(i){const t=i[0];if(i.length===1)return!0;for(let s=0;s<i.length;s++)if(i[s]!==t)return!0}function CT(i,t,s,o){const c=i[0];if(c===null)return!1;if(t==="display"||t==="visibility")return!0;const u=i[i.length-1],d=u0(c,t),p=u0(u,t);return!d||!p?!1:AT(i)||(s==="spring"||Rv(s))&&o}function Ah(i){i.duration=0,i.type="keyframes"}const kT=new Set(["opacity","clipPath","filter","transform"]),ET=hf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zT(i){const{motionValue:t,name:s,repeatDelay:o,repeatType:c,damping:u,type:d}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return ET()&&s&&kT.has(s)&&(s!=="transform"||!g)&&!m&&!o&&c!=="mirror"&&u!==0&&d!=="inertia"}const RT=40;class OT extends jf{constructor({autoplay:t=!0,delay:s=0,type:o="keyframes",repeat:c=0,repeatDelay:u=0,repeatType:d="loop",keyframes:p,name:m,motionValue:g,element:y,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zt.now();const v={autoplay:t,delay:s,type:o,repeat:c,repeatDelay:u,repeatType:d,name:m,motionValue:g,element:y,...b},w=y?.KeyframeResolver||_f;this.keyframeResolver=new w(p,(j,_,A)=>this.onKeyframesResolved(j,_,v,!A),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,o,c){this.keyframeResolver=void 0;const{name:u,type:d,velocity:p,delay:m,isHandoff:g,onUpdate:y}=o;this.resolvedAt=zt.now(),CT(t,u,d,p)||((ti.instantAnimations||!m)&&y?.(wf(t,o,s)),t[0]=t[t.length-1],Ah(o),o.repeat=0);const v={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>RT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...o,keyframes:t},w=!g&&zT(v),j=v.motionValue?.owner?.current,_=w?new TT({...v,element:j}):new Sf(v);_.finished.then(()=>{this.notifyFinished()}).catch(dn),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),pT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Nv(i,t,s,o=0,c=1){const u=Array.from(i).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),d=i.size,p=(d-1)*o;return typeof s=="function"?s(u,d):c===1?u*o:p-u*o}const NT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DT(i){const t=NT.exec(i);if(!t)return[,];const[,s,o,c]=t;return[`--${s??o}`,c]}function Dv(i,t,s=1){const[o,c]=DT(i);if(!o)return;const u=window.getComputedStyle(t).getPropertyValue(o);if(u){const d=u.trim();return ev(d)?parseFloat(d):d}return gf(c)?Dv(c,t,s+1):c}const MT={type:"spring",stiffness:500,damping:25,restSpeed:10},UT=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),BT={type:"keyframes",duration:.8},LT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IT=(i,{keyframes:t})=>t.length>2?BT:Na.has(i)?i.startsWith("scale")?UT(t[1]):MT:LT,VT=i=>i!==null;function PT(i,{repeat:t,repeatType:s="loop"},o){const c=i.filter(VT),u=t&&s!=="loop"&&t%2===1?0:c.length-1;return c[u]}function Tf(i,t){return i?.[t]??i?.default??i}function qT({when:i,delay:t,delayChildren:s,staggerChildren:o,staggerDirection:c,repeat:u,repeatType:d,repeatDelay:p,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const Af=(i,t,s,o={},c,u)=>d=>{const p=Tf(o,i)||{},m=p.delay||o.delay||0;let{elapsed:g=0}=o;g=g-ei(m);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...p,delay:-g,onUpdate:v=>{t.set(v),p.onUpdate&&p.onUpdate(v)},onComplete:()=>{d(),p.onComplete&&p.onComplete()},name:i,motionValue:t,element:u?void 0:c};qT(p)||Object.assign(y,IT(i,y)),y.duration&&(y.duration=ei(y.duration)),y.repeatDelay&&(y.repeatDelay=ei(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ah(y),y.delay===0&&(b=!0)),(ti.instantAnimations||ti.skipAnimations||c?.shouldSkipAnimations)&&(b=!0,Ah(y),y.delay=0),y.allowFlatten=!p.type&&!p.ease,b&&!u&&t.get()!==void 0){const v=PT(y.keyframes,p);if(v!==void 0){Fe.update(()=>{y.onUpdate(v),y.onComplete()});return}}return p.isSync?new Sf(y):new OT(y)};function d0(i){const t=[{},{}];return i?.values.forEach((s,o)=>{t[0][o]=s.get(),t[1][o]=s.getVelocity()}),t}function Cf(i,t,s,o){if(typeof t=="function"){const[c,u]=d0(o);t=t(s!==void 0?s:i.custom,c,u)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[c,u]=d0(o);t=t(s!==void 0?s:i.custom,c,u)}return t}function Ta(i,t,s){const o=i.getProps();return Cf(o,t,s!==void 0?s:o.custom,i)}const Mv=new Set(["width","height","top","left","right","bottom",...Oa]),h0=30,$T=i=>!isNaN(parseFloat(i));class HT{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const c=zt.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=zt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$T(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new ff);const o=this.events[t].add(s);return t==="change"?()=>{o(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,o){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>h0)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,h0);return iv(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ea(i,t){return new HT(i,t)}const Ch=i=>Array.isArray(i);function FT(i,t,s){i.hasValue(t)?i.getValue(t).set(s):i.addValue(t,Ea(s))}function GT(i){return Ch(i)?i[i.length-1]||0:i}function WT(i,t){const s=Ta(i,t);let{transitionEnd:o={},transition:c={},...u}=s||{};u={...u,...o};for(const d in u){const p=GT(u[d]);FT(i,d,p)}}const Ct=i=>!!(i&&i.getVelocity);function YT(i){return!!(Ct(i)&&i.add)}function kh(i,t){const s=i.getValue("willChange");if(YT(s))return s.add(t);if(!s&&ti.WillChange){const o=new ti.WillChange("auto");i.addValue("willChange",o),o.add(t)}}function kf(i){return i.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const KT="framerAppearId",Uv="data-"+kf(KT);function Bv(i){return i.props[Uv]}function XT({protectedKeys:i,needsAnimating:t},s){const o=i.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,o}function Lv(i,t,{delay:s=0,transitionOverride:o,type:c}={}){let{transition:u=i.getDefaultTransition(),transitionEnd:d,...p}=t;const m=u?.reduceMotion;o&&(u=o);const g=[],y=c&&i.animationState&&i.animationState.getState()[c];for(const b in p){const v=i.getValue(b,i.latestValues[b]??null),w=p[b];if(w===void 0||y&&XT(y,b))continue;const j={delay:s,...Tf(u||{},b)},_=v.get();if(_!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===_&&!j.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const E=Bv(i);if(E){const U=window.MotionHandoffAnimation(E,b,Fe);U!==null&&(j.startTime=U,A=!0)}}kh(i,b);const C=m??i.shouldReduceMotion;v.start(Af(b,v,w,C&&Mv.has(b)?{type:!1}:j,i,A));const D=v.animation;D&&g.push(D)}return d&&Promise.all(g).then(()=>{Fe.update(()=>{d&&WT(i,d)})}),g}function Eh(i,t,s={}){const o=Ta(i,t,s.type==="exit"?i.presenceContext?.custom:void 0);let{transition:c=i.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(c=s.transitionOverride);const u=o?()=>Promise.all(Lv(i,o,s)):()=>Promise.resolve(),d=i.variantChildren&&i.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:b}=c;return QT(i,t,m,g,y,b,s)}:()=>Promise.resolve(),{when:p}=c;if(p){const[m,g]=p==="beforeChildren"?[u,d]:[d,u];return m().then(()=>g())}else return Promise.all([u(),d(s.delay)])}function QT(i,t,s=0,o=0,c=0,u=1,d){const p=[];for(const m of i.variantChildren)m.notify("AnimationStart",t),p.push(Eh(m,t,{...d,delay:s+(typeof o=="function"?0:o)+Nv(i.variantChildren,m,o,c,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(p)}function JT(i,t,s={}){i.notify("AnimationStart",t);let o;if(Array.isArray(t)){const c=t.map(u=>Eh(i,u,s));o=Promise.all(c)}else if(typeof t=="string")o=Eh(i,t,s);else{const c=typeof t=="function"?Ta(i,t,s.custom):t;o=Promise.all(Lv(i,c,s))}return o.then(()=>{i.notify("AnimationComplete",t)})}const ZT={test:i=>i==="auto",parse:i=>i},Iv=i=>t=>t.test(i),Vv=[Ra,de,Rn,Ri,A_,T_,ZT],f0=i=>Vv.find(Iv(i));function eA(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||nv(i):!0}const tA=new Set(["brightness","contrast","saturate","opacity"]);function nA(i){const[t,s]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[o]=s.match(yf)||[];if(!o)return i;const c=s.replace(o,"");let u=tA.has(t)?1:0;return o!==s&&(u*=100),t+"("+u+c+")"}const iA=/\b([a-z-]*)\(.*?\)/gu,zh={...Ui,getAnimatableNone:i=>{const t=i.match(iA);return t?t.map(nA).join(" "):i}},p0={...Ra,transform:Math.round},sA={rotate:Ri,rotateX:Ri,rotateY:Ri,rotateZ:Ri,scale:Rl,scaleX:Rl,scaleY:Rl,scaleZ:Rl,skew:Ri,skewX:Ri,skewY:Ri,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Gr,originX:e0,originY:e0,originZ:de},Ef={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,inset:de,insetBlock:de,insetBlockStart:de,insetBlockEnd:de,insetInline:de,insetInlineStart:de,insetInlineEnd:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,paddingBlock:de,paddingBlockStart:de,paddingBlockEnd:de,paddingInline:de,paddingInlineStart:de,paddingInlineEnd:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,marginBlock:de,marginBlockStart:de,marginBlockEnd:de,marginInline:de,marginInlineStart:de,marginInlineEnd:de,fontSize:de,backgroundPositionX:de,backgroundPositionY:de,...sA,zIndex:p0,fillOpacity:Gr,strokeOpacity:Gr,numOctaves:p0},aA={...Ef,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:zh,WebkitFilter:zh},Pv=i=>aA[i];function qv(i,t){let s=Pv(i);return s!==zh&&(s=Ui),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const rA=new Set(["auto","none","0"]);function oA(i,t,s){let o=0,c;for(;o<i.length&&!c;){const u=i[o];typeof u=="string"&&!rA.has(u)&&Wr(u).values.length&&(c=i[o]),o++}if(c&&s)for(const u of t)i[u]=qv(s,c)}class lA extends _f{constructor(t,s,o,c,u){super(t,s,o,c,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:o}=this;if(!s||!s.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let b=t[y];if(typeof b=="string"&&(b=b.trim(),gf(b))){const v=Dv(b,s.current);v!==void 0&&(t[y]=v),y===t.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!Mv.has(o)||t.length!==2)return;const[c,u]=t,d=f0(c),p=f0(u),m=Zy(c),g=Zy(u);if(m!==g&&Di[o]){this.needsMeasurement=!0;return}if(d!==p)if(l0(d)&&l0(p))for(let y=0;y<t.length;y++){const b=t[y];typeof b=="string"&&(t[y]=parseFloat(b))}else Di[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,o=[];for(let c=0;c<t.length;c++)(t[c]===null||eA(t[c]))&&o.push(c);o.length&&oA(t,o,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Di[o](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const c=s[s.length-1];c!==void 0&&t.getValue(o,c).jump(c,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const c=t.getValue(s);c&&c.jump(this.measuredOrigin,!1);const u=o.length-1,d=o[u];o[u]=Di[s](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,m])=>{t.getValue(p).set(m)}),this.resolveNoneKeyframes()}}function cA(i,t,s){if(i==null)return[];if(i instanceof EventTarget)return[i];if(typeof i=="string"){let o=document;const c=s?.[i]??o.querySelectorAll(i);return c?Array.from(c):[]}return Array.from(i).filter(o=>o!=null)}const $v=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function Rh(i){return tv(i)&&"offsetHeight"in i}const{schedule:zf}=pv(queueMicrotask,!1),vn={x:!1,y:!1};function Hv(){return vn.x||vn.y}function uA(i){return i==="x"||i==="y"?vn[i]?null:(vn[i]=!0,()=>{vn[i]=!1}):vn.x||vn.y?null:(vn.x=vn.y=!0,()=>{vn.x=vn.y=!1})}function Fv(i,t){const s=cA(i),o=new AbortController,c={passive:!0,...t,signal:o.signal};return[s,c,()=>o.abort()]}function m0(i){return!(i.pointerType==="touch"||Hv())}function dA(i,t,s={}){const[o,c,u]=Fv(i,s),d=p=>{if(!m0(p))return;const{target:m}=p,g=t(m,p);if(typeof g!="function"||!m)return;const y=b=>{m0(b)&&(g(b),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,c)};return o.forEach(p=>{p.addEventListener("pointerenter",d,c)}),u}const Gv=(i,t)=>t?i===t?!0:Gv(i,t.parentElement):!1,Rf=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,hA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fA(i){return hA.has(i.tagName)||i.isContentEditable===!0}const pA=new Set(["INPUT","SELECT","TEXTAREA"]);function mA(i){return pA.has(i.tagName)||i.isContentEditable===!0}const Fl=new WeakSet;function g0(i){return t=>{t.key==="Enter"&&i(t)}}function Yd(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const gA=(i,t)=>{const s=i.currentTarget;if(!s)return;const o=g0(()=>{if(Fl.has(s))return;Yd(s,"down");const c=g0(()=>{Yd(s,"up")}),u=()=>Yd(s,"cancel");s.addEventListener("keyup",c,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",o,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",o),t)};function y0(i){return Rf(i)&&!Hv()}function yA(i,t,s={}){const[o,c,u]=Fv(i,s),d=p=>{const m=p.currentTarget;if(!y0(p))return;Fl.add(m);const g=t(m,p),y=(w,j)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",v),Fl.has(m)&&Fl.delete(m),y0(w)&&typeof g=="function"&&g(w,{success:j})},b=w=>{y(w,m===window||m===document||s.useGlobalTarget||Gv(m,w.target))},v=w=>{y(w,!1)};window.addEventListener("pointerup",b,c),window.addEventListener("pointercancel",v,c)};return o.forEach(p=>{(s.useGlobalTarget?window:p).addEventListener("pointerdown",d,c),Rh(p)&&(p.addEventListener("focus",g=>gA(g,c)),!fA(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),u}function Wv(i){return tv(i)&&"ownerSVGElement"in i}function xA(i){return Wv(i)&&i.tagName==="svg"}const vA=[...Vv,ot,Ui],bA=i=>vA.find(Iv(i)),x0=()=>({translate:0,scale:1,origin:0,originPoint:0}),xa=()=>({x:x0(),y:x0()}),v0=()=>({min:0,max:0}),ut=()=>({x:v0(),y:v0()}),Oh={current:null},Yv={current:!1},wA=typeof window<"u";function jA(){if(Yv.current=!0,!!wA)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>Oh.current=i.matches;i.addEventListener("change",t),t()}else Oh.current=!1}const SA=new WeakMap;function dc(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function Yr(i){return typeof i=="string"||Array.isArray(i)}const Of=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nf=["initial",...Of];function hc(i){return dc(i.animate)||Nf.some(t=>Yr(i[t]))}function Kv(i){return!!(hc(i)||i.variants)}function _A(i,t,s){for(const o in t){const c=t[o],u=s[o];if(Ct(c))i.addValue(o,c);else if(Ct(u))i.addValue(o,Ea(c,{owner:i}));else if(u!==c)if(i.hasValue(o)){const d=i.getValue(o);d.liveStyle===!0?d.jump(c):d.hasAnimated||d.set(c)}else{const d=i.getStaticValue(o);i.addValue(o,Ea(d!==void 0?d:c,{owner:i}))}}for(const o in s)t[o]===void 0&&i.removeValue(o);return t}const b0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ec={};function Xv(i){ec=i}function TA(){return ec}class AA{scrapeMotionValuesFromProps(t,s,o){return{}}constructor({parent:t,props:s,presenceContext:o,reducedMotionConfig:c,skipAnimations:u,blockInitialAnimation:d,visualState:p},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=_f,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=zt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Fe.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=p;this.latestValues=g,this.baseTarget={...g},this.initialValues=s.initial?{...g}:{},this.renderState=y,this.parent=t,this.props=s,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=c,this.skipAnimationsConfig=u,this.options=m,this.blockInitialAnimation=!!d,this.isControllingVariants=hc(s),this.isVariantNode=Kv(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:b,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const w in v){const j=v[w];g[w]!==void 0&&Ct(j)&&j.set(g[w])}}mount(t){this.current=t,SA.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Yv.current||jA(),this.shouldReduceMotion=Oh.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mi(this.notifyUpdate),Mi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const o=Na.has(t);o&&this.onBindTransform&&this.onBindTransform();const c=s.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{c(),u&&u(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ec){const s=ec[t];if(!s)continue;const{isEnabled:o,Feature:c}=s;if(!this.features[t]&&c&&o(this.props)&&(this.features[t]=new c(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let o=0;o<b0.length;o++){const c=b0[o];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const u="on"+c,d=t[u];d&&(this.propEventSubscriptions[c]=this.on(c,d))}this.prevMotionValues=_A(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const o=this.values.get(t);s!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&s!==void 0&&(o=Ea(s===null?void 0:s,{owner:this}),this.addValue(t,o)),o}readValue(t,s){let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(ev(o)||nv(o))?o=parseFloat(o):!bA(o)&&Ui.test(s)&&(o=qv(t,s)),this.setBaseTarget(t,Ct(o)?o.get():o)),Ct(o)?o.get():o}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const u=Cf(this.props,s,this.presenceContext?.custom);u&&(o=u[t])}if(s&&o!==void 0)return o;const c=this.getBaseTargetFromProps(this.props,t);return c!==void 0&&!Ct(c)?c:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new ff),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){zf.render(this.render)}}class Qv extends AA{constructor(){super(...arguments),this.KeyframeResolver=lA}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){const o=t.style;return o?o[s]:void 0}removeValueFromRenderState(t,{vars:s,style:o}){delete s[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ct(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class Li{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Jv({top:i,left:t,right:s,bottom:o}){return{x:{min:t,max:s},y:{min:i,max:o}}}function CA({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function kA(i,t){if(!t)return i;const s=t({x:i.left,y:i.top}),o=t({x:i.right,y:i.bottom});return{top:s.y,left:s.x,bottom:o.y,right:o.x}}function Kd(i){return i===void 0||i===1}function Nh({scale:i,scaleX:t,scaleY:s}){return!Kd(i)||!Kd(t)||!Kd(s)}function os(i){return Nh(i)||Zv(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function Zv(i){return w0(i.x)||w0(i.y)}function w0(i){return i&&i!=="0%"}function tc(i,t,s){const o=i-s,c=t*o;return s+c}function j0(i,t,s,o,c){return c!==void 0&&(i=tc(i,c,o)),tc(i,s,o)+t}function Dh(i,t=0,s=1,o,c){i.min=j0(i.min,t,s,o,c),i.max=j0(i.max,t,s,o,c)}function e1(i,{x:t,y:s}){Dh(i.x,t.translate,t.scale,t.originPoint),Dh(i.y,s.translate,s.scale,s.originPoint)}const S0=.999999999999,_0=1.0000000000001;function EA(i,t,s,o=!1){const c=s.length;if(!c)return;t.x=t.y=1;let u,d;for(let p=0;p<c;p++){u=s[p],d=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ba(i,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,e1(i,d)),o&&os(u.latestValues)&&ba(i,u.latestValues))}t.x<_0&&t.x>S0&&(t.x=1),t.y<_0&&t.y>S0&&(t.y=1)}function va(i,t){i.min=i.min+t,i.max=i.max+t}function T0(i,t,s,o,c=.5){const u=Ke(i.min,i.max,c);Dh(i,t,s,u,o)}function ba(i,t){T0(i.x,t.x,t.scaleX,t.scale,t.originX),T0(i.y,t.y,t.scaleY,t.scale,t.originY)}function t1(i,t){return Jv(kA(i.getBoundingClientRect(),t))}function zA(i,t,s){const o=t1(i,s),{scroll:c}=t;return c&&(va(o.x,c.offset.x),va(o.y,c.offset.y)),o}const RA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OA=Oa.length;function NA(i,t,s){let o="",c=!0;for(let u=0;u<OA;u++){const d=Oa[u],p=i[d];if(p===void 0)continue;let m=!0;if(typeof p=="number")m=p===(d.startsWith("scale")?1:0);else{const g=parseFloat(p);m=d.startsWith("scale")?g===1:g===0}if(!m||s){const g=$v(p,Ef[d]);if(!m){c=!1;const y=RA[d]||d;o+=`${y}(${g}) `}s&&(t[d]=g)}}return o=o.trim(),s?o=s(t,c?"":o):c&&(o="none"),o}function Df(i,t,s){const{style:o,vars:c,transformOrigin:u}=i;let d=!1,p=!1;for(const m in t){const g=t[m];if(Na.has(m)){d=!0;continue}else if(gv(m)){c[m]=g;continue}else{const y=$v(g,Ef[m]);m.startsWith("origin")?(p=!0,u[m]=y):o[m]=y}}if(t.transform||(d||s?o.transform=NA(t,i.transform,s):o.transform&&(o.transform="none")),p){const{originX:m="50%",originY:g="50%",originZ:y=0}=u;o.transformOrigin=`${m} ${g} ${y}`}}function n1(i,{style:t,vars:s},o,c){const u=i.style;let d;for(d in t)u[d]=t[d];c?.applyProjectionStyles(u,o);for(d in s)u.setProperty(d,s[d])}function A0(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const Nr={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(de.test(i))i=parseFloat(i);else return i;const s=A0(i,t.target.x),o=A0(i,t.target.y);return`${s}% ${o}%`}},DA={correct:(i,{treeScale:t,projectionDelta:s})=>{const o=i,c=Ui.parse(i);if(c.length>5)return o;const u=Ui.createTransformer(i),d=typeof c[0]!="number"?1:0,p=s.x.scale*t.x,m=s.y.scale*t.y;c[0+d]/=p,c[1+d]/=m;const g=Ke(p,m,.5);return typeof c[2+d]=="number"&&(c[2+d]/=g),typeof c[3+d]=="number"&&(c[3+d]/=g),u(c)}},Mh={borderRadius:{...Nr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nr,borderTopRightRadius:Nr,borderBottomLeftRadius:Nr,borderBottomRightRadius:Nr,boxShadow:DA};function i1(i,{layout:t,layoutId:s}){return Na.has(i)||i.startsWith("origin")||(t||s!==void 0)&&(!!Mh[i]||i==="opacity")}function Mf(i,t,s){const o=i.style,c=t?.style,u={};if(!o)return u;for(const d in o)(Ct(o[d])||c&&Ct(c[d])||i1(d,i)||s?.getValue(d)?.liveStyle!==void 0)&&(u[d]=o[d]);return u}function MA(i){return window.getComputedStyle(i)}class UA extends Qv{constructor(){super(...arguments),this.type="html",this.renderInstance=n1}readValueFromInstance(t,s){if(Na.has(s))return this.projection?.isProjecting?wh(s):cT(t,s);{const o=MA(t),c=(gv(s)?o.getPropertyValue(s):o[s])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(t,{transformPagePoint:s}){return t1(t,s)}build(t,s,o){Df(t,s,o.transformTemplate)}scrapeMotionValuesFromProps(t,s,o){return Mf(t,s,o)}}const BA={offset:"stroke-dashoffset",array:"stroke-dasharray"},LA={offset:"strokeDashoffset",array:"strokeDasharray"};function IA(i,t,s=1,o=0,c=!0){i.pathLength=1;const u=c?BA:LA;i[u.offset]=`${-o}`,i[u.array]=`${t} ${s}`}const VA=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function s1(i,{attrX:t,attrY:s,attrScale:o,pathLength:c,pathSpacing:u=1,pathOffset:d=0,...p},m,g,y){if(Df(i,p,g),m){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:b,style:v}=i;b.transform&&(v.transform=b.transform,delete b.transform),(v.transform||b.transformOrigin)&&(v.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),v.transform&&(v.transformBox=y?.transformBox??"fill-box",delete b.transformBox);for(const w of VA)b[w]!==void 0&&(v[w]=b[w],delete b[w]);t!==void 0&&(b.x=t),s!==void 0&&(b.y=s),o!==void 0&&(b.scale=o),c!==void 0&&IA(b,c,u,d,!1)}const a1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),r1=i=>typeof i=="string"&&i.toLowerCase()==="svg";function PA(i,t,s,o){n1(i,t,void 0,o);for(const c in t.attrs)i.setAttribute(a1.has(c)?c:kf(c),t.attrs[c])}function o1(i,t,s){const o=Mf(i,t,s);for(const c in i)if(Ct(i[c])||Ct(t[c])){const u=Oa.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;o[u]=i[c]}return o}class qA extends Qv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Na.has(s)){const o=Pv(s);return o&&o.default||0}return s=a1.has(s)?s:kf(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,o){return o1(t,s,o)}build(t,s,o){s1(t,s,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(t,s,o,c){PA(t,s,o,c)}mount(t){this.isSVGTag=r1(t.tagName),super.mount(t)}}const $A=Nf.length;function l1(i){if(!i)return;if(!i.isControllingVariants){const s=i.parent?l1(i.parent)||{}:{};return i.props.initial!==void 0&&(s.initial=i.props.initial),s}const t={};for(let s=0;s<$A;s++){const o=Nf[s],c=i.props[o];(Yr(c)||c===!1)&&(t[o]=c)}return t}function c1(i,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==i.length)return!1;for(let o=0;o<s;o++)if(t[o]!==i[o])return!1;return!0}const HA=[...Of].reverse(),FA=Of.length;function GA(i){return t=>Promise.all(t.map(({animation:s,options:o})=>JT(i,s,o)))}function WA(i){let t=GA(i),s=C0(),o=!0;const c=m=>(g,y)=>{const b=Ta(i,y,m==="exit"?i.presenceContext?.custom:void 0);if(b){const{transition:v,transitionEnd:w,...j}=b;g={...g,...j,...w}}return g};function u(m){t=m(i)}function d(m){const{props:g}=i,y=l1(i.parent)||{},b=[],v=new Set;let w={},j=1/0;for(let A=0;A<FA;A++){const C=HA[A],D=s[C],E=g[C]!==void 0?g[C]:y[C],U=Yr(E),L=C===m?D.isActive:null;L===!1&&(j=A);let q=E===y[C]&&E!==g[C]&&U;if(q&&o&&i.manuallyAnimateOnMount&&(q=!1),D.protectedKeys={...w},!D.isActive&&L===null||!E&&!D.prevProp||dc(E)||typeof E=="boolean")continue;const F=YA(D.prevProp,E);let X=F||C===m&&D.isActive&&!q&&U||A>j&&U,z=!1;const te=Array.isArray(E)?E:[E];let ae=te.reduce(c(C),{});L===!1&&(ae={});const{prevResolvedValues:ye={}}=D,Ce={...ye,...ae},Q=k=>{X=!0,v.has(k)&&(z=!0,v.delete(k)),D.needsAnimating[k]=!0;const W=i.getValue(k);W&&(W.liveStyle=!1)};for(const k in Ce){const W=ae[k],re=ye[k];if(w.hasOwnProperty(k))continue;let he=!1;Ch(W)&&Ch(re)?he=!c1(W,re):he=W!==re,he?W!=null?Q(k):v.add(k):W!==void 0&&v.has(k)?Q(k):D.protectedKeys[k]=!0}D.prevProp=E,D.prevResolvedValues=ae,D.isActive&&(w={...w,...ae}),o&&i.blockInitialAnimation&&(X=!1);const $=q&&F;X&&(!$||z)&&b.push(...te.map(k=>{const W={type:C};if(typeof k=="string"&&o&&!$&&i.manuallyAnimateOnMount&&i.parent){const{parent:re}=i,he=Ta(re,k);if(re.enteringChildren&&he){const{delayChildren:O}=he.transition||{};W.delay=Nv(re.enteringChildren,i,O)}}return{animation:k,options:W}}))}if(v.size){const A={};if(typeof g.initial!="boolean"){const C=Ta(i,Array.isArray(g.initial)?g.initial[0]:g.initial);C&&C.transition&&(A.transition=C.transition)}v.forEach(C=>{const D=i.getBaseTarget(C),E=i.getValue(C);E&&(E.liveStyle=!0),A[C]=D??null}),b.push({animation:A})}let _=!!b.length;return o&&(g.initial===!1||g.initial===g.animate)&&!i.manuallyAnimateOnMount&&(_=!1),o=!1,_?t(b):Promise.resolve()}function p(m,g){if(s[m].isActive===g)return Promise.resolve();i.variantChildren?.forEach(b=>b.animationState?.setActive(m,g)),s[m].isActive=g;const y=d(m);for(const b in s)s[b].protectedKeys={};return y}return{animateChanges:d,setActive:p,setAnimateFunction:u,getState:()=>s,reset:()=>{s=C0()}}}function YA(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!c1(t,i):!1}function ss(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C0(){return{animate:ss(!0),whileInView:ss(),whileHover:ss(),whileTap:ss(),whileDrag:ss(),whileFocus:ss(),exit:ss()}}function k0(i,t){i.min=t.min,i.max=t.max}function yn(i,t){k0(i.x,t.x),k0(i.y,t.y)}function E0(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}const u1=1e-4,KA=1-u1,XA=1+u1,d1=.01,QA=0-d1,JA=0+d1;function Rt(i){return i.max-i.min}function ZA(i,t,s){return Math.abs(i-t)<=s}function z0(i,t,s,o=.5){i.origin=o,i.originPoint=Ke(t.min,t.max,i.origin),i.scale=Rt(s)/Rt(t),i.translate=Ke(s.min,s.max,i.origin)-i.originPoint,(i.scale>=KA&&i.scale<=XA||isNaN(i.scale))&&(i.scale=1),(i.translate>=QA&&i.translate<=JA||isNaN(i.translate))&&(i.translate=0)}function Vr(i,t,s,o){z0(i.x,t.x,s.x,o?o.originX:void 0),z0(i.y,t.y,s.y,o?o.originY:void 0)}function R0(i,t,s){i.min=s.min+t.min,i.max=i.min+Rt(t)}function eC(i,t,s){R0(i.x,t.x,s.x),R0(i.y,t.y,s.y)}function O0(i,t,s){i.min=t.min-s.min,i.max=i.min+Rt(t)}function nc(i,t,s){O0(i.x,t.x,s.x),O0(i.y,t.y,s.y)}function N0(i,t,s,o,c){return i-=t,i=tc(i,1/s,o),c!==void 0&&(i=tc(i,1/c,o)),i}function tC(i,t=0,s=1,o=.5,c,u=i,d=i){if(Rn.test(t)&&(t=parseFloat(t),t=Ke(d.min,d.max,t/100)-d.min),typeof t!="number")return;let p=Ke(u.min,u.max,o);i===u&&(p-=t),i.min=N0(i.min,t,s,p,c),i.max=N0(i.max,t,s,p,c)}function D0(i,t,[s,o,c],u,d){tC(i,t[s],t[o],t[c],t.scale,u,d)}const nC=["x","scaleX","originX"],iC=["y","scaleY","originY"];function M0(i,t,s,o){D0(i.x,t,nC,s?s.x:void 0,o?o.x:void 0),D0(i.y,t,iC,s?s.y:void 0,o?o.y:void 0)}function U0(i){return i.translate===0&&i.scale===1}function h1(i){return U0(i.x)&&U0(i.y)}function B0(i,t){return i.min===t.min&&i.max===t.max}function sC(i,t){return B0(i.x,t.x)&&B0(i.y,t.y)}function L0(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function f1(i,t){return L0(i.x,t.x)&&L0(i.y,t.y)}function I0(i){return Rt(i.x)/Rt(i.y)}function V0(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}function ln(i){return[i("x"),i("y")]}function aC(i,t,s){let o="";const c=i.x.translate/t.x,u=i.y.translate/t.y,d=s?.z||0;if((c||u||d)&&(o=`translate3d(${c}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:b,rotateY:v,skewX:w,skewY:j}=s;g&&(o=`perspective(${g}px) ${o}`),y&&(o+=`rotate(${y}deg) `),b&&(o+=`rotateX(${b}deg) `),v&&(o+=`rotateY(${v}deg) `),w&&(o+=`skewX(${w}deg) `),j&&(o+=`skewY(${j}deg) `)}const p=i.x.scale*t.x,m=i.y.scale*t.y;return(p!==1||m!==1)&&(o+=`scale(${p}, ${m})`),o||"none"}const p1=["TopLeft","TopRight","BottomLeft","BottomRight"],rC=p1.length,P0=i=>typeof i=="string"?parseFloat(i):i,q0=i=>typeof i=="number"||de.test(i);function oC(i,t,s,o,c,u){c?(i.opacity=Ke(0,s.opacity??1,lC(o)),i.opacityExit=Ke(t.opacity??1,0,cC(o))):u&&(i.opacity=Ke(t.opacity??1,s.opacity??1,o));for(let d=0;d<rC;d++){const p=`border${p1[d]}Radius`;let m=$0(t,p),g=$0(s,p);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||q0(m)===q0(g)?(i[p]=Math.max(Ke(P0(m),P0(g),o),0),(Rn.test(g)||Rn.test(m))&&(i[p]+="%")):i[p]=g}(t.rotate||s.rotate)&&(i.rotate=Ke(t.rotate||0,s.rotate||0,o))}function $0(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const lC=m1(0,.5,uv),cC=m1(.5,.95,dn);function m1(i,t,s){return o=>o<i?0:o>t?1:s(Fr(i,t,o))}function uC(i,t,s){const o=Ct(i)?i:Ea(i);return o.start(Af("",o,t,s)),o.animation}function Kr(i,t,s,o={passive:!0}){return i.addEventListener(t,s,o),()=>i.removeEventListener(t,s)}const dC=(i,t)=>i.depth-t.depth;class hC{constructor(){this.children=[],this.isDirty=!1}add(t){cf(this.children,t),this.isDirty=!0}remove(t){uf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dC),this.isDirty=!1,this.children.forEach(t)}}function fC(i,t){const s=zt.now(),o=({timestamp:c})=>{const u=c-s;u>=t&&(Mi(o),i(u-t))};return Fe.setup(o,!0),()=>Mi(o)}function Gl(i){return Ct(i)?i.get():i}class pC{constructor(){this.members=[]}add(t){cf(this.members,t),t.scheduleRender()}remove(t){if(uf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(c=>t===c);if(s===0)return!1;let o;for(let c=s;c>=0;c--){const u=this.members[c];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(t,s){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender();const c=o.options.layoutDependency,u=t.options.layoutDependency;c!==void 0&&u!==void 0&&c===u||(t.resumeFrom=o,s&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:p}=t.options;p===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:o}=t;s.onExitComplete&&s.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Wl={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Xd=["","X","Y","Z"],mC=1e3;let gC=0;function Qd(i,t,s,o){const{latestValues:c}=t;c[i]&&(s[i]=c[i],t.setStaticValue(i,0),o&&(o[i]=0))}function g1(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const s=Bv(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:c,layoutId:u}=i.options;window.MotionCancelOptimisedAnimation(s,"transform",Fe,!(c||u))}const{parent:o}=i;o&&!o.hasCheckedOptimisedAppear&&g1(o)}function y1({attachResizeListener:i,defaultParent:t,measureScroll:s,checkIsScrollRoot:o,resetTransform:c}){return class{constructor(d={},p=t?.()){this.id=gC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vC),this.nodes.forEach(SC),this.nodes.forEach(_C),this.nodes.forEach(bC)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new hC)}addEventListener(d,p){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new ff),this.eventHandlers.get(d).add(p)}notifyListeners(d,...p){const m=this.eventHandlers.get(d);m&&m.notify(...p)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=Wv(d)&&!xA(d),this.instance=d;const{layoutId:p,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||p)&&(this.isLayoutDirty=!0),i){let y,b=0;const v=()=>this.root.updateBlockedByResize=!1;Fe.read(()=>{b=window.innerWidth}),i(d,()=>{const w=window.innerWidth;w!==b&&(b=w,this.root.updateBlockedByResize=!0,y&&y(),y=fC(v,250),Wl.hasAnimatedSinceResize&&(Wl.hasAnimatedSinceResize=!1,this.nodes.forEach(G0)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&g&&(p||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||EC,{onLayoutAnimationStart:_,onLayoutAnimationComplete:A}=g.getProps(),C=!this.targetLayout||!f1(this.targetLayout,w),D=!b&&v;if(this.options.layoutRoot||this.resumeFrom||D||b&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Tf(j,"layout"),onPlay:_,onComplete:A};(g.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(y,D)}else b||G0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TC),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&g1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:p,layout:m}=this.options;if(p===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(H0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(F0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jC),this.nodes.forEach(yC),this.nodes.forEach(xC)):this.nodes.forEach(F0),this.clearAllSnapshots();const p=zt.now();St.delta=Nn(0,1e3/60,p-St.timestamp),St.timestamp=p,St.isProcessing=!0,qd.update.process(St),qd.preRender.process(St),qd.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wC),this.sharedNodes.forEach(AC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rt(this.snapshot.measuredBox.x)&&!Rt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(p=!1),p&&this.instance){const m=o(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!c)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!h1(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;d&&this.instance&&(p||os(this.latestValues)||y)&&(c(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const p=this.measurePageBox();let m=this.removeElementScroll(p);return d&&(m=this.removeTransform(m)),zC(m),{animationId:this.root.animationId,measuredBox:p,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return ut();const p=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(RC))){const{scroll:g}=this.root;g&&(va(p.x,g.offset.x),va(p.y,g.offset.y))}return p}removeElementScroll(d){const p=ut();if(yn(p,d),this.scroll?.wasRoot)return p;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:b}=g;g!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&yn(p,d),va(p.x,y.offset.x),va(p.y,y.offset.y))}return p}applyTransform(d,p=!1){const m=ut();yn(m,d);for(let g=0;g<this.path.length;g++){const y=this.path[g];!p&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ba(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),os(y.latestValues)&&ba(m,y.latestValues)}return os(this.latestValues)&&ba(m,this.latestValues),m}removeTransform(d){const p=ut();yn(p,d);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!os(g.latestValues))continue;Nh(g.latestValues)&&g.updateSnapshot();const y=ut(),b=g.measurePageBox();yn(y,b),M0(p,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return os(this.latestValues)&&M0(p,this.latestValues),p}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(d||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!this.layout||!(y||b))return;this.resolvedRelativeTargetAt=St.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yn(this.target,this.layout.layoutBox),e1(this.target,this.targetDelta)):yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Nh(this.parent.latestValues)||Zv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(d,p,m){this.relativeParent=d,this.linkedParentVersion=d.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),nc(this.relativeTargetOrigin,p,m),yn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const d=this.getLead(),p=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===St.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;yn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;EA(this.layoutCorrected,this.treeScale,this.path,p),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ut());const{target:w}=d;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(E0(this.prevProjectionDelta.x,this.projectionDelta.x),E0(this.prevProjectionDelta.y,this.projectionDelta.y)),Vr(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!V0(this.projectionDelta.x,this.prevProjectionDelta.x)||!V0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xa(),this.projectionDelta=xa(),this.projectionDeltaWithTransform=xa()}setAnimationOrigin(d,p=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},b=xa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const v=ut(),w=m?m.source:void 0,j=this.layout?this.layout.source:void 0,_=w!==j,A=this.getStack(),C=!A||A.members.length<=1,D=!!(_&&!C&&this.options.crossfade===!0&&!this.path.some(kC));this.animationProgress=0;let E;this.mixTargetDelta=U=>{const L=U/1e3;W0(b.x,d.x,L),W0(b.y,d.y,L),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CC(this.relativeTarget,this.relativeTargetOrigin,v,L),E&&sC(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ut()),yn(E,this.relativeTarget)),_&&(this.animationValues=y,oC(y,g,this.latestValues,L,D,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Mi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{Wl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ea(0)),this.currentAnimation=uC(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),d.onUpdate&&d.onUpdate(p)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:p,target:m,layout:g,latestValues:y}=d;if(!(!p||!m||!g)){if(this!==d&&this.layout&&g&&x1(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||ut();const b=Rt(this.layout.layoutBox.x);m.x.min=d.target.x.min,m.x.max=m.x.min+b;const v=Rt(this.layout.layoutBox.y);m.y.min=d.target.y.min,m.y.max=m.y.min+v}yn(p,m),ba(p,y),Vr(this.projectionDeltaWithTransform,this.layoutCorrected,p,y)}}registerSharedNode(d,p){this.sharedNodes.has(d)||this.sharedNodes.set(d,new pC),this.sharedNodes.get(d).add(p);const g=p.options.initialPromotionConfig;p.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(p):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:p,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),d&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let p=!1;const{latestValues:m}=d;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(p=!0),!p)return;const g={};m.z&&Qd("z",d,g,this.animationValues);for(let y=0;y<Xd.length;y++)Qd(`rotate${Xd[y]}`,d,g,this.animationValues),Qd(`skew${Xd[y]}`,d,g,this.animationValues);d.render();for(const y in g)d.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);d.scheduleRender()}applyProjectionStyles(d,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Gl(p?.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Gl(p?.pointerEvents)||""),this.hasProjected&&!os(this.latestValues)&&(d.transform=m?m({},""):"none",this.hasProjected=!1);return}d.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=aC(this.projectionDeltaWithTransform,this.treeScale,y);m&&(b=m(y,b)),d.transform=b;const{x:v,y:w}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,g.animationValues?d.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in Mh){if(y[j]===void 0)continue;const{correct:_,applyTo:A,isCSSVariable:C}=Mh[j],D=b==="none"?y[j]:_(y[j],g);if(A){const E=A.length;for(let U=0;U<E;U++)d[A[U]]=D}else C?this.options.visualElement.renderState.vars[j]=D:d[j]=D}this.options.layoutId&&(d.pointerEvents=g===this?Gl(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(H0),this.root.sharedNodes.clear()}}}function yC(i){i.updateLayout()}function xC(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=i.layout,{animationType:c}=i.options,u=t.source!==i.layout.source;c==="size"?ln(y=>{const b=u?t.measuredBox[y]:t.layoutBox[y],v=Rt(b);b.min=s[y].min,b.max=b.min+v}):x1(c,t.layoutBox,s)&&ln(y=>{const b=u?t.measuredBox[y]:t.layoutBox[y],v=Rt(s[y]);b.max=b.min+v,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[y].max=i.relativeTarget[y].min+v)});const d=xa();Vr(d,s,t.layoutBox);const p=xa();u?Vr(p,i.applyTransform(o,!0),t.measuredBox):Vr(p,s,t.layoutBox);const m=!h1(d);let g=!1;if(!i.resumeFrom){const y=i.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:v}=y;if(b&&v){const w=ut();nc(w,t.layoutBox,b.layoutBox);const j=ut();nc(j,s,v.layoutBox),f1(w,j)||(g=!0),y.options.layoutRoot&&(i.relativeTarget=j,i.relativeTargetOrigin=w,i.relativeParent=y)}}}i.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:p,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(i.isLead()){const{onExitComplete:s}=i.options;s&&s()}i.options.transition=void 0}function vC(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function bC(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function wC(i){i.clearSnapshot()}function H0(i){i.clearMeasurements()}function F0(i){i.isLayoutDirty=!1}function jC(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function G0(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function SC(i){i.resolveTargetDelta()}function _C(i){i.calcProjection()}function TC(i){i.resetSkewAndRotation()}function AC(i){i.removeLeadSnapshot()}function W0(i,t,s){i.translate=Ke(t.translate,0,s),i.scale=Ke(t.scale,1,s),i.origin=t.origin,i.originPoint=t.originPoint}function Y0(i,t,s,o){i.min=Ke(t.min,s.min,o),i.max=Ke(t.max,s.max,o)}function CC(i,t,s,o){Y0(i.x,t.x,s.x,o),Y0(i.y,t.y,s.y,o)}function kC(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const EC={duration:.45,ease:[.4,0,.1,1]},K0=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),X0=K0("applewebkit/")&&!K0("chrome/")?Math.round:dn;function Q0(i){i.min=X0(i.min),i.max=X0(i.max)}function zC(i){Q0(i.x),Q0(i.y)}function x1(i,t,s){return i==="position"||i==="preserve-aspect"&&!ZA(I0(t),I0(s),.2)}function RC(i){return i!==i.root&&i.scroll?.wasRoot}const OC=y1({attachResizeListener:(i,t)=>Kr(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Jd={current:void 0},v1=y1({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!Jd.current){const i=new OC({});i.mount(window),i.setOptions({layoutScroll:!0}),Jd.current=i}return Jd.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),Uf=T.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function J0(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function NC(...i){return t=>{let s=!1;const o=i.map(c=>{const u=J0(c,t);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let c=0;c<o.length;c++){const u=o[c];typeof u=="function"?u():J0(i[c],null)}}}}function DC(...i){return T.useCallback(NC(...i),i)}class MC extends T.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const o=s.offsetParent,c=Rh(o)&&o.offsetWidth||0,u=Rh(o)&&o.offsetHeight||0,d=this.props.sizeRef.current;d.height=s.offsetHeight||0,d.width=s.offsetWidth||0,d.top=s.offsetTop,d.left=s.offsetLeft,d.right=c-d.width-d.left,d.bottom=u-d.height-d.top}return null}componentDidUpdate(){}render(){return this.props.children}}function UC({children:i,isPresent:t,anchorX:s,anchorY:o,root:c}){const u=T.useId(),d=T.useRef(null),p=T.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=T.useContext(Uf),g=i.props?.ref??i?.ref,y=DC(d,g);return T.useInsertionEffect(()=>{const{width:b,height:v,top:w,left:j,right:_,bottom:A}=p.current;if(t||!d.current||!b||!v)return;const C=s==="left"?`left: ${j}`:`right: ${_}`,D=o==="bottom"?`bottom: ${A}`:`top: ${w}`;d.current.dataset.motionPopId=u;const E=document.createElement("style");m&&(E.nonce=m);const U=c??document.head;return U.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${v}px !important;
            ${C}px !important;
            ${D}px !important;
          }
        `),()=>{U.contains(E)&&U.removeChild(E)}},[t]),r.jsx(MC,{isPresent:t,childRef:d,sizeRef:p,children:T.cloneElement(i,{ref:y})})}const BC=({children:i,initial:t,isPresent:s,onExitComplete:o,custom:c,presenceAffectsLayout:u,mode:d,anchorX:p,anchorY:m,root:g})=>{const y=lf(LC),b=T.useId();let v=!0,w=T.useMemo(()=>(v=!1,{id:b,initial:t,isPresent:s,custom:c,onExitComplete:j=>{y.set(j,!0);for(const _ of y.values())if(!_)return;o&&o()},register:j=>(y.set(j,!1),()=>y.delete(j))}),[s,y,o]);return u&&v&&(w={...w}),T.useMemo(()=>{y.forEach((j,_)=>y.set(_,!1))},[s]),T.useEffect(()=>{!s&&!y.size&&o&&o()},[s]),d==="popLayout"&&(i=r.jsx(UC,{isPresent:s,anchorX:p,anchorY:m,root:g,children:i})),r.jsx(uc.Provider,{value:w,children:i})};function LC(){return new Map}function b1(i=!0){const t=T.useContext(uc);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:o,register:c}=t,u=T.useId();T.useEffect(()=>{if(i)return c(u)},[i]);const d=T.useCallback(()=>i&&o&&o(u),[u,o,i]);return!s&&o?[!1,d]:[!0]}const Ol=i=>i.key||"";function Z0(i){const t=[];return T.Children.forEach(i,s=>{T.isValidElement(s)&&t.push(s)}),t}const xs=({children:i,custom:t,initial:s=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:u="sync",propagate:d=!1,anchorX:p="left",anchorY:m="top",root:g})=>{const[y,b]=b1(d),v=T.useMemo(()=>Z0(i),[i]),w=d&&!y?[]:v.map(Ol),j=T.useRef(!0),_=T.useRef(v),A=lf(()=>new Map),C=T.useRef(new Set),[D,E]=T.useState(v),[U,L]=T.useState(v);Zx(()=>{j.current=!1,_.current=v;for(let X=0;X<U.length;X++){const z=Ol(U[X]);w.includes(z)?(A.delete(z),C.current.delete(z)):A.get(z)!==!0&&A.set(z,!1)}},[U,w.length,w.join("-")]);const q=[];if(v!==D){let X=[...v];for(let z=0;z<U.length;z++){const te=U[z],ae=Ol(te);w.includes(ae)||(X.splice(z,0,te),q.push(te))}return u==="wait"&&q.length&&(X=q),L(Z0(X)),E(v),null}const{forceRender:F}=T.useContext(of);return r.jsx(r.Fragment,{children:U.map(X=>{const z=Ol(X),te=d&&!y?!1:v===U||w.includes(z),ae=()=>{if(C.current.has(z))return;if(C.current.add(z),A.has(z))A.set(z,!0);else return;let ye=!0;A.forEach(Ce=>{Ce||(ye=!1)}),ye&&(F?.(),L(_.current),d&&b?.(),o&&o())};return r.jsx(BC,{isPresent:te,initial:!j.current||s?void 0:!1,custom:t,presenceAffectsLayout:c,mode:u,root:g,onExitComplete:te?void 0:ae,anchorX:p,anchorY:m,children:X},z)})})},w1=T.createContext({strict:!1}),ex={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let tx=!1;function IC(){if(tx)return;const i={};for(const t in ex)i[t]={isEnabled:s=>ex[t].some(o=>!!s[o])};Xv(i),tx=!0}function j1(){return IC(),TA()}function VC(i){const t=j1();for(const s in i)t[s]={...t[s],...i[s]};Xv(t)}const PC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ic(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||PC.has(i)}let S1=i=>!ic(i);function qC(i){typeof i=="function"&&(S1=t=>t.startsWith("on")?!ic(t):i(t))}try{qC(require("@emotion/is-prop-valid").default)}catch{}function $C(i,t,s){const o={};for(const c in i)c==="values"&&typeof i.values=="object"||(S1(c)||s===!0&&ic(c)||!t&&!ic(c)||i.draggable&&c.startsWith("onDrag"))&&(o[c]=i[c]);return o}const fc=T.createContext({});function HC(i,t){if(hc(i)){const{initial:s,animate:o}=i;return{initial:s===!1||Yr(s)?s:void 0,animate:Yr(o)?o:void 0}}return i.inherit!==!1?t:{}}function FC(i){const{initial:t,animate:s}=HC(i,T.useContext(fc));return T.useMemo(()=>({initial:t,animate:s}),[nx(t),nx(s)])}function nx(i){return Array.isArray(i)?i.join(" "):i}const Bf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _1(i,t,s){for(const o in t)!Ct(t[o])&&!i1(o,s)&&(i[o]=t[o])}function GC({transformTemplate:i},t){return T.useMemo(()=>{const s=Bf();return Df(s,t,i),Object.assign({},s.vars,s.style)},[t])}function WC(i,t){const s=i.style||{},o={};return _1(o,s,i),Object.assign(o,GC(i,t)),o}function YC(i,t){const s={},o=WC(i,t);return i.drag&&i.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(s.tabIndex=0),s.style=o,s}const T1=()=>({...Bf(),attrs:{}});function KC(i,t,s,o){const c=T.useMemo(()=>{const u=T1();return s1(u,t,r1(o),i.transformTemplate,i.style),{...u.attrs,style:{...u.style}}},[t]);if(i.style){const u={};_1(u,i.style,i),c.style={...u,...c.style}}return c}const XC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lf(i){return typeof i!="string"||i.includes("-")?!1:!!(XC.indexOf(i)>-1||/[A-Z]/u.test(i))}function QC(i,t,s,{latestValues:o},c,u=!1,d){const m=(d??Lf(i)?KC:YC)(t,o,c,i),g=$C(t,typeof i=="string",u),y=i!==T.Fragment?{...g,...m,ref:s}:{},{children:b}=t,v=T.useMemo(()=>Ct(b)?b.get():b,[b]);return T.createElement(i,{...y,children:v})}function JC({scrapeMotionValuesFromProps:i,createRenderState:t},s,o,c){return{latestValues:ZC(s,o,c,i),renderState:t()}}function ZC(i,t,s,o){const c={},u=o(i,{});for(const v in u)c[v]=Gl(u[v]);let{initial:d,animate:p}=i;const m=hc(i),g=Kv(i);t&&g&&!m&&i.inherit!==!1&&(d===void 0&&(d=t.initial),p===void 0&&(p=t.animate));let y=s?s.initial===!1:!1;y=y||d===!1;const b=y?p:d;if(b&&typeof b!="boolean"&&!dc(b)){const v=Array.isArray(b)?b:[b];for(let w=0;w<v.length;w++){const j=Cf(i,v[w]);if(j){const{transitionEnd:_,transition:A,...C}=j;for(const D in C){let E=C[D];if(Array.isArray(E)){const U=y?E.length-1:0;E=E[U]}E!==null&&(c[D]=E)}for(const D in _)c[D]=_[D]}}}return c}const A1=i=>(t,s)=>{const o=T.useContext(fc),c=T.useContext(uc),u=()=>JC(i,t,o,c);return s?u():lf(u)},e5=A1({scrapeMotionValuesFromProps:Mf,createRenderState:Bf}),t5=A1({scrapeMotionValuesFromProps:o1,createRenderState:T1}),n5=Symbol.for("motionComponentSymbol");function i5(i,t,s){const o=T.useRef(s);T.useInsertionEffect(()=>{o.current=s});const c=T.useRef(null);return T.useCallback(u=>{u&&i.onMount?.(u),t&&(u?t.mount(u):t.unmount());const d=o.current;if(typeof d=="function")if(u){const p=d(u);typeof p=="function"&&(c.current=p)}else c.current?(c.current(),c.current=null):d(u);else d&&(d.current=u)},[t])}const C1=T.createContext({});function Ur(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function s5(i,t,s,o,c,u){const{visualElement:d}=T.useContext(fc),p=T.useContext(w1),m=T.useContext(uc),g=T.useContext(Uf),y=g.reducedMotion,b=g.skipAnimations,v=T.useRef(null),w=T.useRef(!1);o=o||p.renderer,!v.current&&o&&(v.current=o(i,{visualState:t,parent:d,props:s,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:b,isSVG:u}),w.current&&v.current&&(v.current.manuallyAnimateOnMount=!0));const j=v.current,_=T.useContext(C1);j&&!j.projection&&c&&(j.type==="html"||j.type==="svg")&&a5(v.current,s,c,_);const A=T.useRef(!1);T.useInsertionEffect(()=>{j&&A.current&&j.update(s,m)});const C=s[Uv],D=T.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return Zx(()=>{w.current=!0,j&&(A.current=!0,window.MotionIsMounted=!0,j.updateFeatures(),j.scheduleRenderMicrotask(),D.current&&j.animationState&&j.animationState.animateChanges())}),T.useEffect(()=>{j&&(!D.current&&j.animationState&&j.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),D.current=!1),j.enteringChildren=void 0)}),j}function a5(i,t,s,o){const{layoutId:c,layout:u,drag:d,dragConstraints:p,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;i.projection=new s(i.latestValues,t["data-framer-portal-id"]?void 0:k1(i.parent)),i.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||p&&Ur(p),visualElement:i,animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,crossfade:y,layoutScroll:m,layoutRoot:g})}function k1(i){if(i)return i.options.allowProjection!==!1?i.projection:k1(i.parent)}function Zd(i,{forwardMotionProps:t=!1,type:s}={},o,c){o&&VC(o);const u=s?s==="svg":Lf(i),d=u?t5:e5;function p(g,y){let b;const v={...T.useContext(Uf),...g,layoutId:r5(g)},{isStatic:w}=v,j=FC(g),_=d(g,w);if(!w&&Jx){o5();const A=l5(v);b=A.MeasureLayout,j.visualElement=s5(i,_,v,c,A.ProjectionNode,u)}return r.jsxs(fc.Provider,{value:j,children:[b&&j.visualElement?r.jsx(b,{visualElement:j.visualElement,...v}):null,QC(i,g,i5(_,j.visualElement,y),_,w,t,u)]})}p.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const m=T.forwardRef(p);return m[n5]=i,m}function r5({layoutId:i}){const t=T.useContext(of).id;return t&&i!==void 0?t+"-"+i:i}function o5(i,t){T.useContext(w1).strict}function l5(i){const t=j1(),{drag:s,layout:o}=t;if(!s&&!o)return{};const c={...s,...o};return{MeasureLayout:s?.isEnabled(i)||o?.isEnabled(i)?c.MeasureLayout:void 0,ProjectionNode:c.ProjectionNode}}function c5(i,t){if(typeof Proxy>"u")return Zd;const s=new Map,o=(u,d)=>Zd(u,d,i,t),c=(u,d)=>o(u,d);return new Proxy(c,{get:(u,d)=>d==="create"?o:(s.has(d)||s.set(d,Zd(d,void 0,i,t)),s.get(d))})}const u5=(i,t)=>t.isSVG??Lf(i)?new qA(t):new UA(t,{allowProjection:i!==T.Fragment});class d5 extends Li{constructor(t){super(t),t.animationState||(t.animationState=WA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();dc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let h5=0;class f5 extends Li{constructor(){super(...arguments),this.id=h5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const c=this.node.animationState.setActive("exit",!t);s&&!t&&c.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const p5={animation:{Feature:d5},exit:{Feature:f5}};function lo(i){return{point:{x:i.pageX,y:i.pageY}}}const m5=i=>t=>Rf(t)&&i(t,lo(t));function Pr(i,t,s,o){return Kr(i,t,m5(s),o)}const E1=({current:i})=>i?i.ownerDocument.defaultView:null,ix=(i,t)=>Math.abs(i-t);function g5(i,t){const s=ix(i.x,t.x),o=ix(i.y,t.y);return Math.sqrt(s**2+o**2)}const sx=new Set(["auto","scroll"]);class z1{constructor(t,s,{transformPagePoint:o,contextWindow:c=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3,element:p}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=th(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,_=g5(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!_)return;const{point:A}=w,{timestamp:C}=St;this.history.push({...A,timestamp:C});const{onStart:D,onMove:E}=this.handlers;j||(D&&D(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,w)},this.handlePointerMove=(w,j)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=eh(j,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(w,j)=>{this.end();const{onEnd:_,onSessionEnd:A,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=th(w.type==="pointercancel"?this.lastMoveEventInfo:eh(j,this.transformPagePoint),this.history);this.startEvent&&_&&_(w,D),A&&A(w,D)},!Rf(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=o,this.distanceThreshold=d,this.contextWindow=c||window;const m=lo(t),g=eh(m,this.transformPagePoint),{point:y}=g,{timestamp:b}=St;this.history=[{...y,timestamp:b}];const{onSessionStart:v}=s;v&&v(t,th(g,this.history)),this.removeListeners=ao(Pr(this.contextWindow,"pointermove",this.handlePointerMove),Pr(this.contextWindow,"pointerup",this.handlePointerUp),Pr(this.contextWindow,"pointercancel",this.handlePointerUp)),p&&this.startScrollTracking(p)}startScrollTracking(t){let s=t.parentElement;for(;s;){const o=getComputedStyle(s);(sx.has(o.overflowX)||sx.has(o.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const s=this.scrollPositions.get(t);if(!s)return;const o=t===window,c=o?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:c.x-s.x,y:c.y-s.y};u.x===0&&u.y===0||(o?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,c),Fe.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Mi(this.updatePoint)}}function eh(i,t){return t?{point:t(i.point)}:i}function ax(i,t){return{x:i.x-t.x,y:i.y-t.y}}function th({point:i},t){return{point:i,delta:ax(i,R1(t)),offset:ax(i,y5(t)),velocity:x5(t,.1)}}function y5(i){return i[0]}function R1(i){return i[i.length-1]}function x5(i,t){if(i.length<2)return{x:0,y:0};let s=i.length-1,o=null;const c=R1(i);for(;s>=0&&(o=i[s],!(c.timestamp-o.timestamp>ei(t)));)s--;if(!o)return{x:0,y:0};const u=cn(c.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const d={x:(c.x-o.x)/u,y:(c.y-o.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function v5(i,{min:t,max:s},o){return t!==void 0&&i<t?i=o?Ke(t,i,o.min):Math.max(i,t):s!==void 0&&i>s&&(i=o?Ke(s,i,o.max):Math.min(i,s)),i}function rx(i,t,s){return{min:t!==void 0?i.min+t:void 0,max:s!==void 0?i.max+s-(i.max-i.min):void 0}}function b5(i,{top:t,left:s,bottom:o,right:c}){return{x:rx(i.x,s,c),y:rx(i.y,t,o)}}function ox(i,t){let s=t.min-i.min,o=t.max-i.max;return t.max-t.min<i.max-i.min&&([s,o]=[o,s]),{min:s,max:o}}function w5(i,t){return{x:ox(i.x,t.x),y:ox(i.y,t.y)}}function j5(i,t){let s=.5;const o=Rt(i),c=Rt(t);return c>o?s=Fr(t.min,t.max-o,i.min):o>c&&(s=Fr(i.min,i.max-c,t.min)),Nn(0,1,s)}function S5(i,t){const s={};return t.min!==void 0&&(s.min=t.min-i.min),t.max!==void 0&&(s.max=t.max-i.min),s}const Uh=.35;function _5(i=Uh){return i===!1?i=0:i===!0&&(i=Uh),{x:lx(i,"left","right"),y:lx(i,"top","bottom")}}function lx(i,t,s){return{min:cx(i,t),max:cx(i,s)}}function cx(i,t){return typeof i=="number"?i:i[t]||0}const T5=new WeakMap;class A5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:o}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const u=b=>{s?(this.stopAnimation(),this.snapToCursor(lo(b).point)):this.pauseAnimation()},d=(b,v)=>{this.stopAnimation();const{drag:w,dragPropagation:j,onDragStart:_}=this.getProps();if(w&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uA(w),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ln(C=>{let D=this.getAxisMotionValue(C).get()||0;if(Rn.test(D)){const{projection:E}=this.visualElement;if(E&&E.layout){const U=E.layout.layoutBox[C];U&&(D=Rt(U)*(parseFloat(D)/100))}}this.originPoint[C]=D}),_&&Fe.update(()=>_(b,v),!1,!0),kh(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},p=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v;const{dragPropagation:w,dragDirectionLock:j,onDirectionLock:_,onDrag:A}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:C}=v;if(j&&this.currentDirection===null){this.currentDirection=C5(C),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",v.point,C),this.updateAxis("y",v.point,C),this.visualElement.render(),A&&Fe.update(()=>A(b,v),!1,!0)},m=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v,this.stop(b,v),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ln(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new z1(t,{onSessionStart:u,onStart:d,onMove:p,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:o,contextWindow:E1(this.visualElement),element:this.visualElement.current})}stop(t,s){const o=t||this.latestPointerEvent,c=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!c||!o)return;const{velocity:d}=c;this.startAnimation(d);const{onDragEnd:p}=this.getProps();p&&Fe.postRender(()=>p(o,c))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,s,o){const{drag:c}=this.getProps();if(!o||!Nl(t,c,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(d=v5(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,c=this.constraints;t&&Ur(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=b5(o.layoutBox,t):this.constraints=!1,this.elastic=_5(s),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&ln(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=S5(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Ur(t))return!1;const o=t.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const u=zA(o,c.root,this.visualElement.getTransformPagePoint());let d=w5(c.layout.layoutBox,u);if(s){const p=s(CA(d));this.hasMutatedConstraints=!!p,p&&(d=Jv(p))}return d}startAnimation(t){const{drag:s,dragMomentum:o,dragElastic:c,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:p}=this.getProps(),m=this.constraints||{},g=ln(y=>{if(!Nl(y,s,this.currentDirection))return;let b=m&&m[y]||{};d&&(b={min:0,max:0});const v=c?200:1e6,w=c?40:1e7,j={type:"inertia",velocity:o?t[y]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(y,j)});return Promise.all(g).then(p)}startAxisValueAnimation(t,s){const o=this.getAxisMotionValue(t);return kh(this.visualElement,t),o.start(Af(t,o,0,s,this.visualElement,!1))}stopAnimation(){ln(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ln(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),c=o[s];return c||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){ln(s=>{const{drag:o}=this.getProps();if(!Nl(s,o,this.currentDirection))return;const{projection:c}=this.visualElement,u=this.getAxisMotionValue(s);if(c&&c.layout){const{min:d,max:p}=c.layout.layoutBox[s],m=u.get()||0;u.set(t[s]-Ke(d,p,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:o}=this.visualElement;if(!Ur(s)||!o||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};ln(d=>{const p=this.getAxisMotionValue(d);if(p&&this.constraints!==!1){const m=p.get();c[d]=j5({min:m,max:m},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),ln(d=>{if(!Nl(d,t,null))return;const p=this.getAxisMotionValue(d),{min:m,max:g}=this.constraints[d];p.set(Ke(m,g,c[d]))})}addListeners(){if(!this.visualElement.current)return;T5.set(this.visualElement,this);const t=this.visualElement.current,s=Pr(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps(),b=m.target,v=b!==t&&mA(b);g&&y&&!v&&this.start(m)}),o=()=>{const{dragConstraints:m}=this.getProps();Ur(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,u=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),Fe.read(o);const d=Kr(window,"resize",()=>this.scalePositionWithinConstraints()),p=c.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ln(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=m[y].translate,b.set(b.get()+m[y].translate))}),this.visualElement.render())}));return()=>{d(),s(),u(),p&&p()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:o=!1,dragPropagation:c=!1,dragConstraints:u=!1,dragElastic:d=Uh,dragMomentum:p=!0}=t;return{...t,drag:s,dragDirectionLock:o,dragPropagation:c,dragConstraints:u,dragElastic:d,dragMomentum:p}}}function Nl(i,t,s){return(t===!0||t===i)&&(s===null||s===i)}function C5(i,t=10){let s=null;return Math.abs(i.y)>t?s="y":Math.abs(i.x)>t&&(s="x"),s}class k5 extends Li{constructor(t){super(t),this.removeGroupControls=dn,this.removeListeners=dn,this.controls=new A5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};t!==s&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const nh=i=>(t,s)=>{i&&Fe.update(()=>i(t,s),!1,!0)};class E5 extends Li{constructor(){super(...arguments),this.removePointerDownListener=dn}onPointerDown(t){this.session=new z1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:E1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:o,onPanEnd:c}=this.node.getProps();return{onSessionStart:nh(t),onStart:nh(s),onMove:nh(o),onEnd:(u,d)=>{delete this.session,c&&Fe.postRender(()=>c(u,d))}}}mount(){this.removePointerDownListener=Pr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let ih=!1;class z5 extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:o,layoutId:c}=this.props,{projection:u}=t;u&&(s.group&&s.group.add(u),o&&o.register&&c&&o.register(u),ih&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Wl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:o,drag:c,isPresent:u}=this.props,{projection:d}=o;return d&&(d.isPresent=u,t.layoutDependency!==s&&d.setOptions({...d.options,layoutDependency:s}),ih=!0,c||t.layoutDependency!==s||s===void 0||t.isPresent!==u?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||Fe.postRender(()=>{const p=d.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),zf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:o}=this.props,{projection:c}=t;ih=!0,c&&(c.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(c),o&&o.deregister&&o.deregister(c))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function O1(i){const[t,s]=b1(),o=T.useContext(of);return r.jsx(z5,{...i,layoutGroup:o,switchLayoutGroup:T.useContext(C1),isPresent:t,safeToRemove:s})}const R5={pan:{Feature:E5},drag:{Feature:k5,ProjectionNode:v1,MeasureLayout:O1}};function ux(i,t,s){const{props:o}=i;i.animationState&&o.whileHover&&i.animationState.setActive("whileHover",s==="Start");const c="onHover"+s,u=o[c];u&&Fe.postRender(()=>u(t,lo(t)))}class O5 extends Li{mount(){const{current:t}=this.node;t&&(this.unmount=dA(t,(s,o)=>(ux(this.node,o,"Start"),c=>ux(this.node,c,"End"))))}unmount(){}}class N5 extends Li{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ao(Kr(this.node.current,"focus",()=>this.onFocus()),Kr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dx(i,t,s){const{props:o}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&o.whileTap&&i.animationState.setActive("whileTap",s==="Start");const c="onTap"+(s==="End"?"":s),u=o[c];u&&Fe.postRender(()=>u(t,lo(t)))}class D5 extends Li{mount(){const{current:t}=this.node;t&&(this.unmount=yA(t,(s,o)=>(dx(this.node,o,"Start"),(c,{success:u})=>dx(this.node,c,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bh=new WeakMap,sh=new WeakMap,M5=i=>{const t=Bh.get(i.target);t&&t(i)},U5=i=>{i.forEach(M5)};function B5({root:i,...t}){const s=i||document;sh.has(s)||sh.set(s,{});const o=sh.get(s),c=JSON.stringify(t);return o[c]||(o[c]=new IntersectionObserver(U5,{root:i,...t})),o[c]}function L5(i,t,s){const o=B5(t);return Bh.set(i,s),o.observe(i),()=>{Bh.delete(i),o.unobserve(i)}}const I5={some:0,all:1};class V5 extends Li{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:o,amount:c="some",once:u}=t,d={root:s?s.current:void 0,rootMargin:o,threshold:typeof c=="number"?c:I5[c]},p=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),v=g?y:b;v&&v(m)};return L5(this.node.current,d,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(P5(t,s))&&this.startObserver()}unmount(){}}function P5({viewport:i={}},{viewport:t={}}={}){return s=>i[s]!==t[s]}const q5={inView:{Feature:V5},tap:{Feature:D5},focus:{Feature:N5},hover:{Feature:O5}},$5={layout:{ProjectionNode:v1,MeasureLayout:O1}},H5={...p5,...q5,...R5,...$5},ge=c5(H5,u5),vs="/assets/umatlogo-CO4KT74S.png";function pc(i,t){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&t.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s}function F5(i,t,s,o){function c(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(y){try{g(o.next(y))}catch(b){d(b)}}function m(y){try{g(o.throw(y))}catch(b){d(b)}}function g(y){y.done?u(y.value):c(y.value).then(p,m)}g((o=o.apply(i,t||[])).next())})}const G5=i=>i?(...t)=>i(...t):(...t)=>fetch(...t);class If extends Error{constructor(t,s="FunctionsError",o){super(t),this.name=s,this.context=o}}class W5 extends If{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class hx extends If{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fx extends If{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Lh;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Lh||(Lh={}));class Y5{constructor(t,{headers:s={},customFetch:o,region:c=Lh.Any}={}){this.url=t,this.headers=s,this.region=c,this.fetch=G5(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return F5(this,arguments,void 0,function*(s,o={}){var c;let u,d;try{const{headers:p,method:m,body:g,signal:y,timeout:b}=o;let v={},{region:w}=o;w||(w=this.region);const j=new URL(`${this.url}/${s}`);w&&w!=="any"&&(v["x-region"]=w,j.searchParams.set("forceFunctionRegion",w));let _;g&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",_=g):typeof g=="string"?(v["Content-Type"]="text/plain",_=g):typeof FormData<"u"&&g instanceof FormData?_=g:(v["Content-Type"]="application/json",_=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?_=JSON.stringify(g):_=g;let A=y;b&&(d=new AbortController,u=setTimeout(()=>d.abort(),b),y?(A=d.signal,y.addEventListener("abort",()=>d.abort())):A=d.signal);const C=yield this.fetch(j.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),p),body:_,signal:A}).catch(L=>{throw new W5(L)}),D=C.headers.get("x-relay-error");if(D&&D==="true")throw new hx(C);if(!C.ok)throw new fx(C);let E=((c=C.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),U;return E==="application/json"?U=yield C.json():E==="application/octet-stream"||E==="application/pdf"?U=yield C.blob():E==="text/event-stream"?U=C:E==="multipart/form-data"?U=yield C.formData():U=yield C.text(),{data:U,error:null,response:C}}catch(p){return{data:null,error:p,response:p instanceof fx||p instanceof hx?p.context:void 0}}finally{u&&clearTimeout(u)}})}}var K5=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},X5=class{constructor(i){var t,s,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(t=i.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(o=i.urlLengthLimit)!==null&&o!==void 0?o:8e3,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,t){return this.headers=new Headers(this.headers),this.headers.set(i,t),this}then(i,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let d=null,p=null,m=null,g=u.status,y=u.statusText;if(u.ok){var b,v;if(s.method!=="HEAD"){var w;const C=await u.text();C===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((w=s.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?p=C:p=JSON.parse(C))}const _=(b=s.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),A=(v=u.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");_&&A&&A.length>1&&(m=parseInt(A[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(p)&&(p.length>1?(d={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,g=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var j;const _=await u.text();try{d=JSON.parse(_),Array.isArray(d)&&u.status===404&&(p=[],d=null,g=200,y="OK")}catch{u.status===404&&_===""?(g=204,y="No Content"):d={message:_}}if(d&&s.isMaybeSingle&&(!(d==null||(j=d.details)===null||j===void 0)&&j.includes("0 rows"))&&(d=null,g=200,y="OK"),d&&s.shouldThrowOnError)throw new K5(d)}return{error:d,data:p,count:m,status:g,statusText:y}});return this.shouldThrowOnError||(c=c.catch(u=>{var d;let p="",m="",g="";const y=u?.cause;if(y){var b,v,w,j;const C=(b=y?.message)!==null&&b!==void 0?b:"",D=(v=y?.code)!==null&&v!==void 0?v:"";p=`${(w=u?.name)!==null&&w!==void 0?w:"FetchError"}: ${u?.message}`,p+=`

Caused by: ${(j=y?.name)!==null&&j!==void 0?j:"Error"}: ${C}`,D&&(p+=` (${D})`),y?.stack&&(p+=`
${y.stack}`)}else{var _;p=(_=u?.stack)!==null&&_!==void 0?_:""}const A=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(g="",m="Request was aborted (timeout or manual cancellation)",A>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${A} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(y?.name==="HeadersOverflowError"||y?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",m="HTTP headers exceeded server limits (typically 16KB)",A>this.urlLengthLimit&&(m+=`. Your request URL is ${A} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:p,hint:m,code:g},data:null,count:null,status:0,statusText:""}})),c.then(i,t)}returns(){return this}overrideTypes(){return this}},Q5=class extends X5{select(i){let t=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:t=!0,nullsFirst:s,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:t,referencedTable:s=t}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,t,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${t-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:t=!1,settings:s=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var d;const p=[i?"analyze":null,t?"verbose":null,s?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${p};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const px=new RegExp("[,()]");var pa=class extends Q5{eq(i,t){return this.url.searchParams.append(i,`eq.${t}`),this}neq(i,t){return this.url.searchParams.append(i,`neq.${t}`),this}gt(i,t){return this.url.searchParams.append(i,`gt.${t}`),this}gte(i,t){return this.url.searchParams.append(i,`gte.${t}`),this}lt(i,t){return this.url.searchParams.append(i,`lt.${t}`),this}lte(i,t){return this.url.searchParams.append(i,`lte.${t}`),this}like(i,t){return this.url.searchParams.append(i,`like.${t}`),this}likeAllOf(i,t){return this.url.searchParams.append(i,`like(all).{${t.join(",")}}`),this}likeAnyOf(i,t){return this.url.searchParams.append(i,`like(any).{${t.join(",")}}`),this}ilike(i,t){return this.url.searchParams.append(i,`ilike.${t}`),this}ilikeAllOf(i,t){return this.url.searchParams.append(i,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(i,t){return this.url.searchParams.append(i,`ilike(any).{${t.join(",")}}`),this}regexMatch(i,t){return this.url.searchParams.append(i,`match.${t}`),this}regexIMatch(i,t){return this.url.searchParams.append(i,`imatch.${t}`),this}is(i,t){return this.url.searchParams.append(i,`is.${t}`),this}isDistinct(i,t){return this.url.searchParams.append(i,`isdistinct.${t}`),this}in(i,t){const s=Array.from(new Set(t)).map(o=>typeof o=="string"&&px.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}notIn(i,t){const s=Array.from(new Set(t)).map(o=>typeof o=="string"&&px.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`not.in.(${s})`),this}contains(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cs.{${t.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(t)}`),this}containedBy(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cd.{${t.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(t)}`),this}rangeGt(i,t){return this.url.searchParams.append(i,`sr.${t}`),this}rangeGte(i,t){return this.url.searchParams.append(i,`nxl.${t}`),this}rangeLt(i,t){return this.url.searchParams.append(i,`sl.${t}`),this}rangeLte(i,t){return this.url.searchParams.append(i,`nxr.${t}`),this}rangeAdjacent(i,t){return this.url.searchParams.append(i,`adj.${t}`),this}overlaps(i,t){return typeof t=="string"?this.url.searchParams.append(i,`ov.${t}`):this.url.searchParams.append(i,`ov.{${t.join(",")}}`),this}textSearch(i,t,{config:s,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${c}fts${u}.${t}`),this}match(i){return Object.entries(i).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(i,t,s){return this.url.searchParams.append(i,`not.${t}.${s}`),this}or(i,{foreignTable:t,referencedTable:s=t}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,t,s){return this.url.searchParams.append(i,`${t}.${s}`),this}},J5=class{constructor(i,{headers:t={},schema:s,fetch:o,urlLengthLimit:c=8e3}){this.url=i,this.headers=new Headers(t),this.schema=s,this.fetch=o,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,t){const{head:s=!1,count:o}=t??{},c=s?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join(""),{url:p,headers:m}=this.cloneRequestState();return p.searchParams.set("select",d),o&&m.append("Prefer",`count=${o}`),new pa({method:c,url:p,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(i,{count:t,defaultToNull:s=!0}={}){var o;const c="POST",{url:u,headers:d}=this.cloneRequestState();if(t&&d.append("Prefer",`count=${t}`),s||d.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(p.length>0){const m=[...new Set(p)].map(g=>`"${g}"`);u.searchParams.set("columns",m.join(","))}}return new pa({method:c,url:u,headers:d,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(i,{onConflict:t,ignoreDuplicates:s=!1,count:o,defaultToNull:c=!0}={}){var u;const d="POST",{url:p,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&p.searchParams.set("on_conflict",t),o&&m.append("Prefer",`count=${o}`),c||m.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(g.length>0){const y=[...new Set(g)].map(b=>`"${b}"`);p.searchParams.set("columns",y.join(","))}}return new pa({method:d,url:p,headers:m,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(i,{count:t}={}){var s;const o="PATCH",{url:c,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new pa({method:o,url:c,headers:u,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:i}={}){var t;const s="DELETE",{url:o,headers:c}=this.cloneRequestState();return i&&c.append("Prefer",`count=${i}`),new pa({method:s,url:o,headers:c,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Xr(i){"@babel/helpers - typeof";return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(i)}function Z5(i,t){if(Xr(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var o=s.call(i,t);if(Xr(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function ek(i){var t=Z5(i,"string");return Xr(t)=="symbol"?t:t+""}function tk(i,t,s){return(t=ek(t))in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function mx(i,t){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);t&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),s.push.apply(s,o)}return s}function Dl(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?mx(Object(s),!0).forEach(function(o){tk(i,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):mx(Object(s)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(s,o))})}return i}var nk=class N1{constructor(t,{headers:s={},schema:o,fetch:c,timeout:u,urlLengthLimit:d=8e3}={}){this.url=t,this.headers=new Headers(s),this.schemaName=o,this.urlLengthLimit=d;const p=c??globalThis.fetch;u!==void 0&&u>0?this.fetch=(m,g)=>{const y=new AbortController,b=setTimeout(()=>y.abort(),u),v=g?.signal;if(v){if(v.aborted)return clearTimeout(b),p(m,g);const w=()=>{clearTimeout(b),y.abort()};return v.addEventListener("abort",w,{once:!0}),p(m,Dl(Dl({},g),{},{signal:y.signal})).finally(()=>{clearTimeout(b),v.removeEventListener("abort",w)})}return p(m,Dl(Dl({},g),{},{signal:y.signal})).finally(()=>clearTimeout(b))}:this.fetch=p}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new J5(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new N1(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,s={},{head:o=!1,get:c=!1,count:u}={}){var d;let p;const m=new URL(`${this.url}/rpc/${t}`);let g;const y=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(y)),b=o&&Object.values(s).some(y);b?(p="POST",g=s):o||c?(p=o?"HEAD":"GET",Object.entries(s).filter(([w,j])=>j!==void 0).map(([w,j])=>[w,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([w,j])=>{m.searchParams.append(w,j)})):(p="POST",g=s);const v=new Headers(this.headers);return b?v.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&v.set("Prefer",`count=${u}`),new pa({method:p,url:m,headers:v,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class ik{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const o=s.versions;if(o&&o.node){const c=o.node,u=parseInt(c.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const o=this.getWebSocketConstructor();return new o(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const sk="2.94.0",ak=`realtime-js/${sk}`,rk="1.0.0",D1="2.0.0",gx=D1,Ih=1e4,ok=1e3,lk=100;var Oi;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Oi||(Oi={}));var ct;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ct||(ct={}));var wn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(wn||(wn={}));var Vh;(function(i){i.websocket="websocket"})(Vh||(Vh={}));var cs;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(cs||(cs={}));class ck{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let o=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,o;const c=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(t){var s,o;const c=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(t,s,o){var c,u;const d=t.topic,p=(c=t.ref)!==null&&c!==void 0?c:"",m=(u=t.join_ref)!==null&&u!==void 0?u:"",g=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+d.length+g.length+b.length,w=new ArrayBuffer(this.HEADER_LENGTH+v);let j=new DataView(w),_=0;j.setUint8(_++,this.KINDS.userBroadcastPush),j.setUint8(_++,m.length),j.setUint8(_++,p.length),j.setUint8(_++,d.length),j.setUint8(_++,g.length),j.setUint8(_++,b.length),j.setUint8(_++,s),Array.from(m,C=>j.setUint8(_++,C.charCodeAt(0))),Array.from(p,C=>j.setUint8(_++,C.charCodeAt(0))),Array.from(d,C=>j.setUint8(_++,C.charCodeAt(0))),Array.from(g,C=>j.setUint8(_++,C.charCodeAt(0))),Array.from(b,C=>j.setUint8(_++,C.charCodeAt(0)));var A=new Uint8Array(w.byteLength+o.byteLength);return A.set(new Uint8Array(w),0),A.set(new Uint8Array(o),w.byteLength),A.buffer}decode(t,s){if(this._isArrayBuffer(t)){let o=this._binaryDecode(t);return s(o)}if(typeof t=="string"){const o=JSON.parse(t),[c,u,d,p,m]=o;return s({join_ref:c,ref:u,topic:d,event:p,payload:m})}return s({})}_binaryDecode(t){const s=new DataView(t),o=s.getUint8(0),c=new TextDecoder;if(o===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,s,c)}_decodeUserBroadcast(t,s,o){const c=s.getUint8(1),u=s.getUint8(2),d=s.getUint8(3),p=s.getUint8(4);let m=this.HEADER_LENGTH+4;const g=o.decode(t.slice(m,m+c));m=m+c;const y=o.decode(t.slice(m,m+u));m=m+u;const b=o.decode(t.slice(m,m+d));m=m+d;const v=t.slice(m,t.byteLength),w=p===this.JSON_ENCODING?JSON.parse(o.decode(v)):v,j={type:this.BROADCAST_EVENT,event:y,payload:w};return d>0&&(j.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([o])=>s.includes(o)))}}class M1{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(He||(He={}));const yx=(i,t,s={})=>{var o;const c=(o=s.skipTypes)!==null&&o!==void 0?o:[];return t?Object.keys(t).reduce((u,d)=>(u[d]=uk(d,i,t,c),u),{}):{}},uk=(i,t,s,o)=>{const c=t.find(p=>p.name===i),u=c?.type,d=s[i];return u&&!o.includes(u)?U1(u,d):Ph(d)},U1=(i,t)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return pk(t,s)}switch(i){case He.bool:return dk(t);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return hk(t);case He.json:case He.jsonb:return fk(t);case He.timestamp:return mk(t);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Ph(t);default:return Ph(t)}},Ph=i=>i,dk=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},hk=i=>{if(typeof i=="string"){const t=parseFloat(i);if(!Number.isNaN(t))return t}return i},fk=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},pk=(i,t)=>{if(typeof i!="string")return i;const s=i.length-1,o=i[s];if(i[0]==="{"&&o==="}"){let u;const d=i.slice(1,s);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(p=>U1(t,p))}return i},mk=i=>typeof i=="string"?i.replace(" ","T"):i,B1=i=>{const t=new URL(i);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ah{constructor(t,s,o={},c=Ih){this.channel=t,this.event=s,this.payload=o,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var o;return this._hasReceived(t)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xx;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(xx||(xx={}));class qr{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},c=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qr.syncState(this.state,c,u,d),this.pendingDiffs.forEach(m=>{this.state=qr.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},c=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=qr.syncDiff(this.state,c,u,d),p())}),this.onJoin((c,u,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:d})}),this.onLeave((c,u,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,o,c){const u=this.cloneDeep(t),d=this.transformState(s),p={},m={};return this.map(u,(g,y)=>{d[g]||(m[g]=y)}),this.map(d,(g,y)=>{const b=u[g];if(b){const v=y.map(A=>A.presence_ref),w=b.map(A=>A.presence_ref),j=y.filter(A=>w.indexOf(A.presence_ref)<0),_=b.filter(A=>v.indexOf(A.presence_ref)<0);j.length>0&&(p[g]=j),_.length>0&&(m[g]=_)}else p[g]=y}),this.syncDiff(u,{joins:p,leaves:m},o,c)}static syncDiff(t,s,o,c){const{joins:u,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),c||(c=()=>{}),this.map(u,(p,m)=>{var g;const y=(g=t[p])!==null&&g!==void 0?g:[];if(t[p]=this.cloneDeep(m),y.length>0){const b=t[p].map(w=>w.presence_ref),v=y.filter(w=>b.indexOf(w.presence_ref)<0);t[p].unshift(...v)}o(p,y,m)}),this.map(d,(p,m)=>{let g=t[p];if(!g)return;const y=m.map(b=>b.presence_ref);g=g.filter(b=>y.indexOf(b.presence_ref)<0),t[p]=g,c(p,g,m),g.length===0&&delete t[p]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(o=>s(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,o)=>{const c=t[o];return"metas"in c?s[o]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[o]=c,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vx;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(vx||(vx={}));var $r;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})($r||($r={}));var Jn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Jn||(Jn={}));class wa{constructor(t,s={config:{}},o){var c,u;if(this.topic=t,this.params=s,this.socket=o,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ah(this,wn.join,this.params,this.timeout),this.rejoinTimer=new M1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(d,p)=>{this._trigger(this._replyEventName(p),d)}),this.presence=new qr(this),this.broadcastEndpointURL=B1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var o,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:d,presence:p,private:m}}=this.params,g=(c=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(w=>w.filter))!==null&&c!==void 0?c:[],y=!!this.bindings[$r.PRESENCE]&&this.bindings[$r.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},v={broadcast:d,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(Jn.CHANNEL_ERROR,w)),this._onClose(()=>t?.(Jn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},b)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:w})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t?.(Jn.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,A=(j=_?.length)!==null&&j!==void 0?j:0,C=[];for(let D=0;D<A;D++){const E=_[D],{filter:{event:U,schema:L,table:q,filter:F}}=E,X=w&&w[D];if(X&&X.event===U&&wa.isFilterValueEqual(X.schema,L)&&wa.isFilterValueEqual(X.table,q)&&wa.isFilterValueEqual(X.filter,F))C.push(Object.assign(Object.assign({},E),{id:X.id}));else{this.unsubscribe(),this.state=ct.errored,t?.(Jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Jn.SUBSCRIBED);return}}).receive("error",w=>{this.state=ct.errored,t?.(Jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(Jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,o){return this.state===ct.joined&&t===$r.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,o)}async httpSend(t,s,o={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=o.timeout)!==null&&c!==void 0?c:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const g=await p.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(t,s={}){var o,c;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=t,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,p,m;const g=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(p=(d=this.params)===null||d===void 0?void 0:d.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ct.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(c=>{o=new ah(this,wn.leave,{},t),o.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(t,s,o){const c=new AbortController,u=setTimeout(()=>c.abort(),o),d=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(u),d}_push(t,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new ah(this,t,s,o);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>lk){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,o){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,o){var c,u;const d=t.toLocaleLowerCase(),{close:p,error:m,leave:g,join:y}=wn;if(o&&[p,m,g,y].indexOf(d)>=0&&o!==this._joinRef())return;let v=this._onMessage(d,s,o);if(s&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(w=>{var j,_,A;return((j=w.filter)===null||j===void 0?void 0:j.event)==="*"||((A=(_=w.filter)===null||_===void 0?void 0:_.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===d}).map(w=>w.callback(v,o)):(u=this.bindings[d])===null||u===void 0||u.filter(w=>{var j,_,A,C,D,E;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const U=w.id,L=(j=w.filter)===null||j===void 0?void 0:j.event;return U&&((_=s.ids)===null||_===void 0?void 0:_.includes(U))&&(L==="*"||L?.toLocaleLowerCase()===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const U=(D=(C=w?.filter)===null||C===void 0?void 0:C.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return U==="*"||U===((E=s?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:_,table:A,commit_timestamp:C,type:D,errors:E}=j;v=Object.assign(Object.assign({},{schema:_,table:A,commit_timestamp:C,eventType:D,new:{},old:{},errors:E}),this._getPayloadRecords(j))}w.callback(v,o)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,o){const c=t.toLocaleLowerCase(),u={type:c,filter:s,callback:o};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(t,s){const o=t.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&wa.isEqual(c.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const o in t)if(t[o]!==s[o])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wn.close,{},t)}_onError(t){this._on(wn.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=yx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=yx(t.columns,t.old_record)),s}}const rh=()=>{},Ml={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gk=[1e3,2e3,5e3,1e4],yk=1e4,xk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vk{constructor(t,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ih,this.transport=null,this.heartbeatIntervalMs=Ml.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rh,this.ref=0,this.reconnectTimer=null,this.vsn=gx,this.logger=rh,this.conn=null,this.sendBuffer=[],this.serializer=new ck,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((o=s?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Vh.websocket}`,this.httpEndpoint=B1(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ik.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,o){this.logger(t,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Oi.connecting:return cs.Connecting;case Oi.open:return cs.Open;case Oi.closing:return cs.Closing;default:return cs.Closed}}isConnected(){return this.connectionState()===cs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const o=`realtime:${t}`,c=this.getChannels().find(u=>u.topic===o);if(c)return c;{const u=new wa(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:o,payload:c,ref:u}=t,d=()=>{this.encode(t,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${s} ${o} (${u})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ok,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Ml.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",g)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:c,payload:u,ref:d}=s,p=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${o} ${c} ${p}`.trim(),u),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(c,u,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Oi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Oi.open||this.conn.readyState===Oi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(wn.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const o=t.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${t}${o}${c}`}_workerObjectUrl(t){let s;if(t)s=t;else{const o=new Blob([xk],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,o=!1;if(t)s=t,o=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const u={access_token:s,version:ak};s&&c.updateJoinPayload(u),c.joinedOnce&&c._isJoined()&&c._push(wn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(o=>{try{o(s)}catch(c){this.log("error",`error in ${t} callback`,c)}})}catch(o){this.log("error",`error triggering ${t} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new M1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ml.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,o,c,u,d,p,m,g,y,b,v,w;switch(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(o=t?.timeout)!==null&&o!==void 0?o:Ih,this.heartbeatIntervalMs=(c=t?.heartbeatIntervalMs)!==null&&c!==void 0?c:Ml.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=t?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(p=t?.heartbeatCallback)!==null&&p!==void 0?p:rh,this.vsn=(m=t?.vsn)!==null&&m!==void 0?m:gx,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t?.reconnectAfterMs)!==null&&g!==void 0?g:(j=>gk[j-1]||yk),this.vsn){case rk:this.encode=(y=t?.encode)!==null&&y!==void 0?y:((j,_)=>_(JSON.stringify(j))),this.decode=(b=t?.decode)!==null&&b!==void 0?b:((j,_)=>_(JSON.parse(j)));break;case D1:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(w=t?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Qr=class extends Error{constructor(i,t){super(i),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function bk(i,t,s){const o=new URL(t,i);if(s)for(const[c,u]of Object.entries(s))u!==void 0&&o.searchParams.set(c,u);return o.toString()}async function wk(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function jk(i){const t=i.fetchImpl??globalThis.fetch;return{async request({method:s,path:o,query:c,body:u,headers:d}){const p=bk(i.baseUrl,o,c),m=await wk(i.auth),g=await t(p,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...m,...d},body:u?JSON.stringify(u):void 0}),y=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),v=b&&y?JSON.parse(y):y;if(!g.ok){const w=b?v:void 0,j=w?.error;throw new Qr(j?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:j?.type,icebergCode:j?.code,details:w})}return{status:g.status,headers:g.headers,data:v}}}}function Ul(i){return i.join("")}var Sk=class{constructor(i,t=""){this.client=i,this.prefix=t}async listNamespaces(i){const t=i?{parent:Ul(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(i,t){const s={namespace:i.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ul(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ul(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ul(i.namespace)}`}),!0}catch(t){if(t instanceof Qr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(i,t){try{return await this.createNamespace(i,t)}catch(s){if(s instanceof Qr&&s.status===409)return;throw s}}};function la(i){return i.join("")}var _k=class{constructor(i,t="",s){this.client=i,this.prefix=t,this.accessDelegation=s}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${la(i.namespace)}/tables`})).data.identifiers}async createTable(i,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${la(i.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(i,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${la(i.namespace)}/tables/${i.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(i,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${la(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(i){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${la(i.namespace)}/tables/${i.name}`,headers:t})).data.metadata}async tableExists(i){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${la(i.namespace)}/tables/${i.name}`,headers:t}),!0}catch(s){if(s instanceof Qr&&s.status===404)return!1;throw s}}async createTableIfNotExists(i,t){try{return await this.createTable(i,t)}catch(s){if(s instanceof Qr&&s.status===409)return await this.loadTable({namespace:i.namespace,name:t.name});throw s}}},Tk=class{constructor(i){let t="v1";i.catalogName&&(t+=`/${i.catalogName}`);const s=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=jk({baseUrl:s,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new Sk(this.client,t),this.tableOps=new _k(this.client,t,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,t){return this.namespaceOps.createNamespace(i,t)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,t){return this.tableOps.createTable(i,t)}async updateTable(i,t){return this.tableOps.updateTable(i,t)}async dropTable(i,t){await this.tableOps.dropTable(i,t)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,t){return this.namespaceOps.createNamespaceIfNotExists(i,t)}async createTableIfNotExists(i,t){return this.tableOps.createTableIfNotExists(i,t)}},mc=class extends Error{constructor(i,t="storage",s,o){super(i),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=o}};function gc(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Bl=class extends mc{constructor(i,t,s,o="storage"){super(i,o,t,s),this.name=o==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},L1=class extends mc{constructor(i,t,s="storage"){super(i,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Ak=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),Ck=i=>{if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},qh=i=>{if(Array.isArray(i))return i.map(s=>qh(s));if(typeof i=="function"||i!==Object(i))return i;const t={};return Object.entries(i).forEach(([s,o])=>{const c=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[c]=qh(o)}),t},kk=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Jr(i){"@babel/helpers - typeof";return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jr(i)}function Ek(i,t){if(Jr(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var o=s.call(i,t);if(Jr(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function zk(i){var t=Ek(i,"string");return Jr(t)=="symbol"?t:t+""}function Rk(i,t,s){return(t=zk(t))in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function bx(i,t){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);t&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),s.push.apply(s,o)}return s}function be(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?bx(Object(s),!0).forEach(function(o){Rk(i,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):bx(Object(s)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(s,o))})}return i}const wx=i=>{var t;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(t=i.error)===null||t===void 0?void 0:t.message)||JSON.stringify(i)},Ok=async(i,t,s,o)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!s?.noResolveJson){const c=i,u=c.status||500;if(typeof c.json=="function")c.json().then(d=>{const p=d?.statusCode||d?.code||u+"";t(new Bl(wx(d),u,p,o))}).catch(()=>{if(o==="vectors"){const d=u+"";t(new Bl(c.statusText||`HTTP ${u} error`,u,d,o))}else{const d=u+"";t(new Bl(c.statusText||`HTTP ${u} error`,u,d,o))}});else{const d=u+"";t(new Bl(c.statusText||`HTTP ${u} error`,u,d,o))}}else t(new L1(wx(i),i,o))},Nk=(i,t,s,o)=>{const c={method:i,headers:t?.headers||{}};return i==="GET"||i==="HEAD"||!o?be(be({},c),s):(Ck(o)?(c.headers=be({"Content-Type":"application/json"},t?.headers),c.body=JSON.stringify(o)):c.body=o,t?.duplex&&(c.duplex=t.duplex),be(be({},c),s))};async function Dr(i,t,s,o,c,u,d){return new Promise((p,m)=>{i(s,Nk(t,o,c,u)).then(g=>{if(!g.ok)throw g;if(o?.noResolveJson)return g;if(d==="vectors"){const y=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!y||!y.includes("application/json"))return{}}return g.json()}).then(g=>p(g)).catch(g=>Ok(g,m,o,d))})}function I1(i="storage"){return{get:async(t,s,o,c)=>Dr(t,"GET",s,o,c,void 0,i),post:async(t,s,o,c,u)=>Dr(t,"POST",s,c,u,o,i),put:async(t,s,o,c,u)=>Dr(t,"PUT",s,c,u,o,i),head:async(t,s,o,c)=>Dr(t,"HEAD",s,be(be({},o),{},{noResolveJson:!0}),c,void 0,i),remove:async(t,s,o,c,u)=>Dr(t,"DELETE",s,c,u,o,i)}}const Dk=I1("storage"),{get:Zr,post:bn,put:$h,head:Mk,remove:Vf}=Dk,Kt=I1("vectors");var Da=class{constructor(i,t={},s,o="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=t,this.fetch=Ak(s),this.namespace=o}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(i){var t=this;try{return{data:await i(),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(gc(s))return{data:null,error:s};throw s}}},Uk=class{constructor(i,t){this.downloadFn=i,this.shouldThrowOnError=t}then(i,t){return this.execute().then(i,t)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(t){if(i.shouldThrowOnError)throw t;if(gc(t))return{data:null,error:t};throw t}}};let V1;V1=Symbol.toStringTag;var Bk=class{constructor(i,t){this.downloadFn=i,this.shouldThrowOnError=t,this[V1]="BlobDownloadBuilder",this.promise=null}asStream(){return new Uk(this.downloadFn,this.shouldThrowOnError)}then(i,t){return this.getPromise().then(i,t)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(t){if(i.shouldThrowOnError)throw t;if(gc(t))return{data:null,error:t};throw t}}};const Lk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ik=class extends Da{constructor(i,t={},s,o){super(i,t,o,"storage"),this.bucketId=s}async uploadOrUpdate(i,t,s,o){var c=this;return c.handleOperation(async()=>{let u;const d=be(be({},jx),o);let p=be(be({},c.headers),i==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",c.encodeMetadata(m)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),m&&!u.has("metadata")&&u.append("metadata",c.encodeMetadata(m))):(u=s,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType,m&&(p["x-metadata"]=c.toBase64(c.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),o?.headers&&(p=be(be({},p),o.headers));const g=c._removeEmptyFolders(t),y=c._getFinalPath(g),b=await(i=="PUT"?$h:bn)(c.fetch,`${c.url}/object/${y}`,u,be({headers:p},d?.duplex?{duplex:d.duplex}:{}));return{path:g,id:b.Id,fullPath:b.Key}})}async upload(i,t,s){return this.uploadOrUpdate("POST",i,t,s)}async uploadToSignedUrl(i,t,s,o){var c=this;const u=c._removeEmptyFolders(i),d=c._getFinalPath(u),p=new URL(c.url+`/object/upload/sign/${d}`);return p.searchParams.set("token",t),c.handleOperation(async()=>{let m;const g=be({upsert:jx.upsert},o),y=be(be({},c.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",g.cacheControl)):(m=s,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{path:u,fullPath:(await $h(c.fetch,p.toString(),m,{headers:y})).Key}})}async createSignedUploadUrl(i,t){var s=this;return s.handleOperation(async()=>{let o=s._getFinalPath(i);const c=be({},s.headers);t?.upsert&&(c["x-upsert"]="true");const u=await bn(s.fetch,`${s.url}/object/upload/sign/${o}`,{},{headers:c}),d=new URL(s.url+u.url),p=d.searchParams.get("token");if(!p)throw new mc("No token returned by API");return{signedUrl:d.toString(),path:i,token:p}})}async update(i,t,s){return this.uploadOrUpdate("PUT",i,t,s)}async move(i,t,s){var o=this;return o.handleOperation(async()=>await bn(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:i,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:o.headers}))}async copy(i,t,s){var o=this;return o.handleOperation(async()=>({path:(await bn(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:i,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:o.headers})).Key}))}async createSignedUrl(i,t,s){var o=this;return o.handleOperation(async()=>{let c=o._getFinalPath(i),u=await bn(o.fetch,`${o.url}/object/sign/${c}`,be({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:o.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${o.url}${u.signedURL}${d}`)}})}async createSignedUrls(i,t,s){var o=this;return o.handleOperation(async()=>{const c=await bn(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:t,paths:i},{headers:o.headers}),u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return c.map(d=>be(be({},d),{},{signedUrl:d.signedURL?encodeURI(`${o.url}${d.signedURL}${u}`):null}))})}download(i,t){const s=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),c=o?`?${o}`:"",u=this._getFinalPath(i),d=()=>Zr(this.fetch,`${this.url}/${s}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new Bk(d,this.shouldThrowOnError)}async info(i){var t=this;const s=t._getFinalPath(i);return t.handleOperation(async()=>qh(await Zr(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})))}async exists(i){var t=this;const s=t._getFinalPath(i);try{return await Mk(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(gc(o)&&o instanceof L1){const c=o.originalError;if([400,404].includes(c?.status))return{data:!1,error:o}}throw o}}getPublicUrl(i,t){const s=this._getFinalPath(i),o=[],c=t?.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&o.push(c);const u=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&o.push(d);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${p}`)}}}async remove(i){var t=this;return t.handleOperation(async()=>await Vf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:i},{headers:t.headers}))}async list(i,t,s){var o=this;return o.handleOperation(async()=>{const c=be(be(be({},Lk),t),{},{prefix:i||""});return await bn(o.fetch,`${o.url}/object/list/${o.bucketId}`,c,{headers:o.headers},s)})}async listV2(i,t){var s=this;return s.handleOperation(async()=>{const o=be({},i);return await bn(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,o,{headers:s.headers},t)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const t=[];return i.width&&t.push(`width=${i.width}`),i.height&&t.push(`height=${i.height}`),i.resize&&t.push(`resize=${i.resize}`),i.format&&t.push(`format=${i.format}`),i.quality&&t.push(`quality=${i.quality}`),t.join("&")}};const Vk="2.94.0",co={"X-Client-Info":`storage-js/${Vk}`};var Pk=class extends Da{constructor(i,t={},s,o){const c=new URL(i);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const u=c.href.replace(/\/$/,""),d=be(be({},co),t);super(u,d,s,"storage")}async listBuckets(i){var t=this;return t.handleOperation(async()=>{const s=t.listBucketOptionsToQueryString(i);return await Zr(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers})})}async getBucket(i){var t=this;return t.handleOperation(async()=>await Zr(t.fetch,`${t.url}/bucket/${i}`,{headers:t.headers}))}async createBucket(i,t={public:!1}){var s=this;return s.handleOperation(async()=>await bn(s.fetch,`${s.url}/bucket`,{id:i,name:i,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async updateBucket(i,t){var s=this;return s.handleOperation(async()=>await $h(s.fetch,`${s.url}/bucket/${i}`,{id:i,name:i,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(i){var t=this;return t.handleOperation(async()=>await bn(t.fetch,`${t.url}/bucket/${i}/empty`,{},{headers:t.headers}))}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await Vf(t.fetch,`${t.url}/bucket/${i}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(i){const t={};return i&&("limit"in i&&(t.limit=String(i.limit)),"offset"in i&&(t.offset=String(i.offset)),i.search&&(t.search=i.search),i.sortColumn&&(t.sortColumn=i.sortColumn),i.sortOrder&&(t.sortOrder=i.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},qk=class extends Da{constructor(i,t={},s){const o=i.replace(/\/$/,""),c=be(be({},co),t);super(o,c,s,"storage")}async createBucket(i){var t=this;return t.handleOperation(async()=>await bn(t.fetch,`${t.url}/bucket`,{name:i},{headers:t.headers}))}async listBuckets(i){var t=this;return t.handleOperation(async()=>{const s=new URLSearchParams;i?.limit!==void 0&&s.set("limit",i.limit.toString()),i?.offset!==void 0&&s.set("offset",i.offset.toString()),i?.sortColumn&&s.set("sortColumn",i.sortColumn),i?.sortOrder&&s.set("sortOrder",i.sortOrder),i?.search&&s.set("search",i.search);const o=s.toString(),c=o?`${t.url}/bucket?${o}`:`${t.url}/bucket`;return await Zr(t.fetch,c,{headers:t.headers})})}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await Vf(t.fetch,`${t.url}/bucket/${i}`,{},{headers:t.headers}))}from(i){var t=this;if(!kk(i))throw new mc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Tk({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(s,{get(c,u){const d=c[u];return typeof d!="function"?d:async(...p)=>{try{return{data:await d.apply(c,p),error:null}}catch(m){if(o)throw m;return{data:null,error:m}}}}})}},$k=class extends Da{constructor(i,t={},s){const o=i.replace(/\/$/,""),c=be(be({},co),{},{"Content-Type":"application/json"},t);super(o,c,s,"vectors")}async createIndex(i){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/CreateIndex`,i,{headers:t.headers})||{})}async getIndex(i,t){var s=this;return s.handleOperation(async()=>await Kt.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:i,indexName:t},{headers:s.headers}))}async listIndexes(i){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/ListIndexes`,i,{headers:t.headers}))}async deleteIndex(i,t){var s=this;return s.handleOperation(async()=>await Kt.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:i,indexName:t},{headers:s.headers})||{})}},Hk=class extends Da{constructor(i,t={},s){const o=i.replace(/\/$/,""),c=be(be({},co),{},{"Content-Type":"application/json"},t);super(o,c,s,"vectors")}async putVectors(i){var t=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/PutVectors`,i,{headers:t.headers})||{})}async getVectors(i){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/GetVectors`,i,{headers:t.headers}))}async listVectors(i){var t=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/ListVectors`,i,{headers:t.headers}))}async queryVectors(i){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/QueryVectors`,i,{headers:t.headers}))}async deleteVectors(i){var t=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/DeleteVectors`,i,{headers:t.headers})||{})}},Fk=class extends Da{constructor(i,t={},s){const o=i.replace(/\/$/,""),c=be(be({},co),{},{"Content-Type":"application/json"},t);super(o,c,s,"vectors")}async createBucket(i){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:t.headers})||{})}async getBucket(i){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:i},{headers:t.headers}))}async listBuckets(i={}){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/ListVectorBuckets`,i,{headers:t.headers}))}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:t.headers})||{})}},Gk=class extends Fk{constructor(i,t={}){super(i,t.headers||{},t.fetch)}from(i){return new Wk(this.url,this.headers,i,this.fetch)}async createBucket(i){var t=()=>super.createBucket,s=this;return t().call(s,i)}async getBucket(i){var t=()=>super.getBucket,s=this;return t().call(s,i)}async listBuckets(i={}){var t=()=>super.listBuckets,s=this;return t().call(s,i)}async deleteBucket(i){var t=()=>super.deleteBucket,s=this;return t().call(s,i)}},Wk=class extends $k{constructor(i,t,s,o){super(i,t,o),this.vectorBucketName=s}async createIndex(i){var t=()=>super.createIndex,s=this;return t().call(s,be(be({},i),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(i={}){var t=()=>super.listIndexes,s=this;return t().call(s,be(be({},i),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(i){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,i)}async deleteIndex(i){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,i)}index(i){return new Yk(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},Yk=class extends Hk{constructor(i,t,s,o,c){super(i,t,c),this.vectorBucketName=s,this.indexName=o}async putVectors(i){var t=()=>super.putVectors,s=this;return t().call(s,be(be({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(i){var t=()=>super.getVectors,s=this;return t().call(s,be(be({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(i={}){var t=()=>super.listVectors,s=this;return t().call(s,be(be({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(i){var t=()=>super.queryVectors,s=this;return t().call(s,be(be({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(i){var t=()=>super.deleteVectors,s=this;return t().call(s,be(be({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Kk=class extends Pk{constructor(i,t={},s,o){super(i,t,s,o)}from(i){return new Ik(this.url,this.headers,i,this.fetch)}get vectors(){return new Gk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qk(this.url+"/iceberg",this.headers,this.fetch)}};const P1="2.94.0",ma=30*1e3,Hh=3,oh=Hh*ma,Xk="http://localhost:9999",Qk="supabase.auth.token",Jk={"X-Client-Info":`gotrue-js/${P1}`},Fh="X-Supabase-Api-Version",q1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Zk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,e4=600*1e3;class eo extends Error{constructor(t,s,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function pe(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class t4 extends eo{constructor(t,s,o){super(t,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function n4(i){return pe(i)&&i.name==="AuthApiError"}class us extends eo{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class ni extends eo{constructor(t,s,o,c){super(t,o,c),this.name=s,this.status=o}}class Yt extends ni{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lh(i){return pe(i)&&i.name==="AuthSessionMissingError"}class ca extends ni{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ll extends ni{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Il extends ni{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function i4(i){return pe(i)&&i.name==="AuthImplicitGrantRedirectError"}class Sx extends ni{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class s4 extends ni{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Gh extends ni{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function ch(i){return pe(i)&&i.name==="AuthRetryableFetchError"}class _x extends ni{constructor(t,s,o){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class Wh extends ni{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tx=` 	
\r=`.split(""),a4=(()=>{const i=new Array(128);for(let t=0;t<i.length;t+=1)i[t]=-1;for(let t=0;t<Tx.length;t+=1)i[Tx[t].charCodeAt(0)]=-2;for(let t=0;t<sc.length;t+=1)i[sc[t].charCodeAt(0)]=t;return i})();function Ax(i,t,s){if(i!==null)for(t.queue=t.queue<<8|i,t.queuedBits+=8;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;s(sc[o]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;s(sc[o]),t.queuedBits-=6}}function $1(i,t,s){const o=a4[i];if(o>-1)for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Cx(i){const t=[],s=d=>{t.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=d=>{l4(d,o,s)};for(let d=0;d<i.length;d+=1)$1(i.charCodeAt(d),c,u);return t.join("")}function r4(i,t){if(i<=127){t(i);return}else if(i<=2047){t(192|i>>6),t(128|i&63);return}else if(i<=65535){t(224|i>>12),t(128|i>>6&63),t(128|i&63);return}else if(i<=1114111){t(240|i>>18),t(128|i>>12&63),t(128|i>>6&63),t(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function o4(i,t){for(let s=0;s<i.length;s+=1){let o=i.charCodeAt(s);if(o>55295&&o<=56319){const c=(o-55296)*1024&65535;o=(i.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}r4(o,t)}}function l4(i,t,s){if(t.utf8seq===0){if(i<=127){s(i);return}for(let o=1;o<6;o+=1)if((i>>7-o&1)===0){t.utf8seq=o;break}if(t.utf8seq===2)t.codepoint=i&31;else if(t.utf8seq===3)t.codepoint=i&15;else if(t.utf8seq===4)t.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|i&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Aa(i){const t=[],s={queue:0,queuedBits:0},o=c=>{t.push(c)};for(let c=0;c<i.length;c+=1)$1(i.charCodeAt(c),s,o);return new Uint8Array(t)}function c4(i){const t=[];return o4(i,s=>t.push(s)),new Uint8Array(t)}function fs(i){const t=[],s={queue:0,queuedBits:0},o=c=>{t.push(c)};return i.forEach(c=>Ax(c,s,o)),Ax(null,s,o),t.join("")}function u4(i){return Math.round(Date.now()/1e3)+i}function d4(){return Symbol("auth-callback")}const jt=()=>typeof window<"u"&&typeof document<"u",as={tested:!1,writable:!1},H1=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(as.tested)return as.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),as.tested=!0,as.writable=!0}catch{as.tested=!0,as.writable=!1}return as.writable};function h4(i){const t={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,u)=>{t[u]=c})}catch{}return s.searchParams.forEach((o,c)=>{t[c]=o}),t}const F1=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),f4=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",ga=async(i,t,s)=>{await i.setItem(t,JSON.stringify(s))},rs=async(i,t)=>{const s=await i.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},wt=async(i,t)=>{await i.removeItem(t)};class yc{constructor(){this.promise=new yc.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}yc.promiseConstructor=Promise;function Vl(i){const t=i.split(".");if(t.length!==3)throw new Wh("Invalid JWT structure");for(let o=0;o<t.length;o++)if(!Zk.test(t[o]))throw new Wh("JWT not in base64url format");return{header:JSON.parse(Cx(t[0])),payload:JSON.parse(Cx(t[1])),signature:Aa(t[2]),raw:{header:t[0],payload:t[1]}}}async function p4(i){return await new Promise(t=>{setTimeout(()=>t(null),i)})}function m4(i,t){return new Promise((o,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await i(u);if(!t(u,null,d)){o(d);return}}catch(d){if(!t(u,d)){c(d);return}}})()})}function g4(i){return("0"+i.toString(16)).substr(-2)}function y4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let c="";for(let u=0;u<56;u++)c+=s.charAt(Math.floor(Math.random()*o));return c}return crypto.getRandomValues(t),Array.from(t,g4).join("")}async function x4(i){const s=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(o);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function v4(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await x4(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ua(i,t,s=!1){const o=y4();let c=o;s&&(c+="/PASSWORD_RECOVERY"),await ga(i,`${t}-code-verifier`,c);const u=await v4(o);return[u,o===u?"plain":"s256"]}const b4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function w4(i){const t=i.headers.get(Fh);if(!t||!t.match(b4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function j4(i){if(!i)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(i<=t)throw new Error("JWT has expired")}function S4(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function da(i){if(!_4.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uh(){const i={};return new Proxy(i,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function T4(i,t){return new Proxy(i,{get:(s,o,c)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,o,c)}return!t.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,o,c)}})}function kx(i){return JSON.parse(JSON.stringify(i))}const ls=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),A4=[502,503,504];async function Ex(i){var t;if(!f4(i))throw new Gh(ls(i),0);if(A4.includes(i.status))throw new Gh(ls(i),i.status);let s;try{s=await i.json()}catch(u){throw new us(ls(u),u)}let o;const c=w4(i);if(c&&c.getTime()>=q1["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new _x(ls(s),i.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new Yt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new _x(ls(s),i.status,s.weak_password.reasons);throw new t4(ls(s),i.status||500,o)}const C4=(i,t,s,o)=>{const c={method:i,headers:t?.headers||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),c.body=JSON.stringify(o),Object.assign(Object.assign({},c),s))};async function ve(i,t,s,o){var c;const u=Object.assign({},o?.headers);u[Fh]||(u[Fh]=q1["2024-01-01"].name),o?.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const d=(c=o?.query)!==null&&c!==void 0?c:{};o?.redirectTo&&(d.redirect_to=o.redirectTo);const p=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await k4(i,t,s+p,{headers:u,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(m):{data:Object.assign({},m),error:null}}async function k4(i,t,s,o,c,u){const d=C4(t,o,c,u);let p;try{p=await i(s,Object.assign({},d))}catch(m){throw console.error(m),new Gh(ls(m),0)}if(p.ok||await Ex(p),o?.noResolveJson)return p;try{return await p.json()}catch(m){await Ex(m)}}function xn(i){var t;let s=null;R4(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=u4(i.expires_in)));const o=(t=i.user)!==null&&t!==void 0?t:i;return{data:{session:s,user:o},error:null}}function zx(i){const t=xn(i);return!t.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(t.data.weak_password=i.weak_password),t}function Ni(i){var t;return{data:{user:(t=i.user)!==null&&t!==void 0?t:i},error:null}}function E4(i){return{data:i,error:null}}function z4(i){const{action_link:t,email_otp:s,hashed_token:o,redirect_to:c,verification_type:u}=i,d=pc(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:t,email_otp:s,hashed_token:o,redirect_to:c,verification_type:u},m=Object.assign({},d);return{data:{properties:p,user:m},error:null}}function Rx(i){return i}function R4(i){return i.access_token&&i.refresh_token&&i.expires_in}const dh=["global","local","others"];class O4{constructor({url:t="",headers:s={},fetch:o}){this.url=t,this.headers=s,this.fetch=F1(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=dh[0]){if(dh.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dh.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(pe(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,s={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ni})}catch(o){if(pe(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:s}=t,o=pc(t,["options"]),c=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(c.new_email=o?.newEmail,delete c.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:z4,redirectTo:s?.redirectTo})}catch(s){if(pe(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ni})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,o,c,u,d,p,m;try{const g={nextPage:null,lastPage:0,total:0},y=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(u=(c=t?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Rx});if(y.error)throw y.error;const b=await y.json(),v=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(j=>{const _=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(j.split(";")[1].split("=")[1]);g[`${A}Page`]=_}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(pe(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){da(t);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ni})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){da(t);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ni})}catch(o){if(pe(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,s=!1){da(t);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ni})}catch(o){if(pe(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){da(t.userId);try{const{data:s,error:o}=await ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:o}}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _deleteFactor(t){da(t.userId),da(t.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,o,c,u,d,p,m;try{const g={nextPage:null,lastPage:0,total:0},y=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(u=(c=t?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Rx});if(y.error)throw y.error;const b=await y.json(),v=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(j=>{const _=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(j.split(";")[1].split("=")[1]);g[`${A}Page`]=_}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(pe(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(pe(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(t){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(pe(s))return{data:null,error:s};throw s}}}function Ox(i={}){return{getItem:t=>i[t]||null,setItem:(t,s)=>{i[t]=s},removeItem:t=>{delete i[t]}}}const ha={debug:!!(globalThis&&H1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class G1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class N4 extends G1{}async function D4(i,t,s){ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),ha.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async c=>{if(c){ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,c.name);try{return await s()}finally{ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,c.name)}}else{if(t===0)throw ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new N4(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(ha.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function M4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function W1(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function U4(i){return parseInt(i,16)}function B4(i){const t=new TextEncoder().encode(i);return"0x"+Array.from(t,o=>o.toString(16).padStart(2,"0")).join("")}function L4(i){var t;const{chainId:s,domain:o,expirationTime:c,issuedAt:u=new Date,nonce:d,notBefore:p,requestId:m,resources:g,scheme:y,uri:b,version:v}=i;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=i.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const w=W1(i.address),j=y?`${y}://${o}`:o,_=i.statement?`${i.statement}
`:"",A=`${j} wants you to sign in with your Ethereum account:
${w}

${_}`;let C=`URI: ${b}
Version: ${v}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(c&&(C+=`
Expiration Time: ${c.toISOString()}`),p&&(C+=`
Not Before: ${p.toISOString()}`),m&&(C+=`
Request ID: ${m}`),g){let D=`
Resources:`;for(const E of g){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);D+=`
- ${E}`}C+=D}return`${A}
${C}`}class rt extends Error{constructor({message:t,code:s,cause:o,name:c}){var u;super(t,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=c??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class ac extends rt{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function I4({error:i,options:t}){var s,o,c;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(t.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new rt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const d=window.location.hostname;if(Y1(d)){if(u.rp.id!==d)return new rt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function V4({error:i,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new rt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const o=window.location.hostname;if(Y1(o)){if(s.rpId!==o)return new rt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class P4{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const q4=new P4;function $4(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:t,user:s,excludeCredentials:o}=i,c=pc(i,["challenge","user","excludeCredentials"]),u=Aa(t).buffer,d=Object.assign(Object.assign({},s),{id:Aa(s.id).buffer}),p=Object.assign(Object.assign({},c),{challenge:u,user:d});if(o&&o.length>0){p.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const g=o[m];p.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Aa(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function H4(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:t,allowCredentials:s}=i,o=pc(i,["challenge","allowCredentials"]),c=Aa(t).buffer,u=Object.assign(Object.assign({},o),{challenge:c});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const p=s[d];u.allowCredentials[d]=Object.assign(Object.assign({},p),{id:Aa(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function F4(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i;return{id:i.id,rawId:i.id,response:{attestationObject:fs(new Uint8Array(i.response.attestationObject)),clientDataJSON:fs(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function G4(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i,o=i.getClientExtensionResults(),c=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:fs(new Uint8Array(c.authenticatorData)),clientDataJSON:fs(new Uint8Array(c.clientDataJSON)),signature:fs(new Uint8Array(c.signature)),userHandle:c.userHandle?fs(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Y1(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Nx(){var i,t;return!!(jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function W4(i){try{const t=await navigator.credentials.create(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ac("Browser returned unexpected credential type",t)}:{data:null,error:new ac("Empty credential response",t)}}catch(t){return{data:null,error:I4({error:t,options:i})}}}async function Y4(i){try{const t=await navigator.credentials.get(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ac("Browser returned unexpected credential type",t)}:{data:null,error:new ac("Empty credential response",t)}}catch(t){return{data:null,error:V4({error:t,options:i})}}}const K4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},X4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function rc(...i){const t=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),o={};for(const c of i)if(c)for(const u in c){const d=c[u];if(d!==void 0)if(Array.isArray(d))o[u]=d;else if(s(d))o[u]=d;else if(t(d)){const p=o[u];t(p)?o[u]=rc(p,d):o[u]=rc(d)}else o[u]=d}return o}function Q4(i,t){return rc(K4,i,t||{})}function J4(i,t){return rc(X4,i,t||{})}class Z4{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:o,signal:c},u){var d;try{const{data:p,error:m}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!p)return{data:null,error:m};const g=c??q4.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:y}=p.webauthn.credential_options.publicKey;if(!y.name){const b=o;if(b)y.name=`${y.id}:${b}`;else{const w=(await this.client.getUser()).data.user,j=((d=w?.user_metadata)===null||d===void 0?void 0:d.name)||w?.email||w?.id||"User";y.name=`${y.id}:${j}`}}y.displayName||(y.displayName=y.name)}switch(p.webauthn.type){case"create":{const y=Q4(p.webauthn.credential_options.publicKey,u?.create),{data:b,error:v}=await W4({publicKey:y,signal:g});return b?{data:{factorId:t,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}case"request":{const y=J4(p.webauthn.credential_options.publicKey,u?.request),{data:b,error:v}=await Y4(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:y,signal:g}));return b?{data:{factorId:t,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}}}catch(p){return pe(p)?{data:null,error:p}:{data:null,error:new us("Unexpected error in challenge",p)}}}async _verify({challengeId:t,factorId:s,webauthn:o}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:o})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!s)return{data:null,error:new eo("rpId is required for WebAuthn authentication")};try{if(!Nx())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:o},signal:c},{request:u});if(!d)return{data:null,error:p};const{webauthn:m}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:o,credential_response:m.credential_response}})}catch(d){return pe(d)?{data:null,error:d}:{data:null,error:new us("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!s)return{data:null,error:new eo("rpId is required for WebAuthn registration")};try{if(!Nx())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:p};const{data:m,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:o},signal:c},{create:u});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(d){return pe(d)?{data:null,error:d}:{data:null,error:new us("Unexpected error in register",d)}}}}M4();const eE={url:Xk,storageKey:Qk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Dx(i,t,s){return await s()}const fa={};class to{get jwks(){var t,s;return(s=(t=fa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){fa[this.storageKey]=Object.assign(Object.assign({},fa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=fa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){fa[this.storageKey]=Object.assign(Object.assign({},fa[this.storageKey]),{cachedAt:t})}constructor(t){var s,o,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},eE),t);if(this.storageKey=u.storageKey,this.instanceID=(s=to.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,to.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&jt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new O4({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=F1(u.fetch),this.lock=u.lock||Dx,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&jt()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=D4:this.lock=Dx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Z4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:H1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ox(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Ox(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(p){this._debug("#broadcastChannel","error",p)}})}this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${P1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},o="none";if(jt()&&(s=h4(window.location.href),this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce")),jt()&&this.detectSessionInUrl&&o!=="none"){const{data:c,error:u}=await this._getSessionFromURL(s,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),i4(u)){const m=(t=u.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:d,redirectType:p}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",p),await this._saveSession(d),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return pe(s)?this._returnResult({error:s}):this._returnResult({error:new us("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,o,c;try{const u=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(c=t?.options)===null||c===void 0?void 0:c.captchaToken}},xform:xn}),{data:d,error:p}=u;if(p||!d)return this._returnResult({data:{user:null,session:null},error:p});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(pe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,o,c;try{let u;if("email"in t){const{email:y,password:b,options:v}=t;let w=null,j=null;this.flowType==="pkce"&&([w,j]=await ua(this.storage,this.storageKey)),u=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:y,password:b,data:(s=v?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:w,code_challenge_method:j},xform:xn})}else if("phone"in t){const{phone:y,password:b,options:v}=t;u=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(o=v?.data)!==null&&o!==void 0?o:{},channel:(c=v?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:xn})}else throw new Ll("You must provide either an email or phone number and a password");const{data:d,error:p}=u;if(p||!d)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(await wt(this.storage,`${this.storageKey}-code-verifier`),pe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:d,options:p}=t;s=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:zx})}else if("phone"in t){const{phone:u,password:d,options:p}=t;s=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:zx})}else throw new Ll("You must provide either an email or phone number and a password");const{data:o,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o||!o.session||!o.user){const u=new ca;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:c})}catch(s){if(pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,o,c,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,o,c,u,d,p,m,g,y,b,v;let w,j;if("message"in t)w=t.message,j=t.signature;else{const{chain:_,wallet:A,statement:C,options:D}=t;let E;if(jt())if(typeof A=="object")E=A;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")E=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=A}const U=new URL((s=D?.url)!==null&&s!==void 0?s:window.location.href),L=await E.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=W1(L[0]);let F=(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!F){const z=await E.request({method:"eth_chainId"});F=U4(z)}const X={domain:U.host,address:q,statement:C,uri:U.href,version:"1",chainId:F,nonce:(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(u=D?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=D?.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=L4(X),j=await E.request({method:"personal_sign",params:[B4(w),q]})}try{const{data:_,error:A}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:j},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:xn});if(A)throw A;if(!_||!_.session||!_.user){const C=new ca;return this._returnResult({data:{user:null,session:null},error:C})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:A})}catch(_){if(pe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var s,o,c,u,d,p,m,g,y,b,v,w;let j,_;if("message"in t)j=t.message,_=t.signature;else{const{chain:A,wallet:C,statement:D,options:E}=t;let U;if(jt())if(typeof C=="object")U=C;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))U=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=C}const L=new URL((s=E?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in U&&U.signIn){const q=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),D?{statement:D}:null));let F;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")F=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)F=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)j=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),_=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${L.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(c=(o=E?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=E?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((p=E?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((m=E?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((g=E?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((b=(y=E?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...E.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const q=await U.signMessage(new TextEncoder().encode(j),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=q}}try{const{data:A,error:C}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:fs(_)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:xn});if(C)throw C;if(!A||!A.session||!A.user){const D=new ca;return this._returnResult({data:{user:null,session:null},error:D})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:C})}catch(A){if(pe(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(t){const s=await rs(this.storage,`${this.storageKey}-code-verifier`),[o,c]=(s??"").split("/");try{if(!o&&this.flowType==="pkce")throw new s4;const{data:u,error:d}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:xn});if(await wt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const p=new ca;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:d})}catch(u){if(await wt(this.storage,`${this.storageKey}-code-verifier`),pe(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:o,token:c,access_token:u,nonce:d}=t,p=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:c,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:xn}),{data:m,error:g}=p;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const y=new ca;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(s){if(pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,o,c,u,d;try{if("email"in t){const{email:p,options:m}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await ua(this.storage,this.storageKey));const{error:b}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(o=m?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:p,options:m}=t,{data:g,error:y}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(c=m?.data)!==null&&c!==void 0?c:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:y})}throw new Ll("You must provide either an email or phone number.")}catch(p){if(await wt(this.storage,`${this.storageKey}-code-verifier`),pe(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(t){var s,o;try{let c,u;"options"in t&&(c=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:p}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:xn});if(p)throw p;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(pe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(t){var s,o,c,u,d;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await ua(this.storage,this.storageKey));const g=await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((c=t?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:E4});return!((u=g.data)===null||u===void 0)&&u.url&&jt()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(p){if(await wt(this.storage,`${this.storageKey}-code-verifier`),pe(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:o}=t;if(o)throw o;if(!s)throw new Yt;const{error:c}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:o,type:c,options:u}=t,{error:d}=await ve(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:o,type:c,options:u}=t,{data:d,error:p}=await ve(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:p})}throw new Ll("You must provide either an email or phone number and a type")}catch(s){if(pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<oh:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){const d=await rs(this.userStorage,this.storageKey+"-user");d?.user?t.user=d.user:t.user=uh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=T4(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ni}):await this._useSession(async s=>{var o,c,u;const{data:d,error:p}=s;if(p)throw p;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:Ni})})}catch(s){if(pe(s))return lh(s)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async o=>{const{data:c,error:u}=o;if(u)throw u;if(!c.session)throw new Yt;const d=c.session;let p=null,m=null;this.flowType==="pkce"&&t.email!=null&&([p,m]=await ua(this.storage,this.storageKey));const{data:g,error:y}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:p,code_challenge_method:m}),jwt:d.access_token,xform:Ni});if(y)throw y;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yt;const s=Date.now()/1e3;let o=s,c=!0,u=null;const{payload:d}=Vl(t.access_token);if(d.exp&&(o=d.exp,c=o<=s),c){const{data:p,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(t.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});u={access_token:t.access_token,refresh_token:t.refresh_token,user:p.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(pe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var o;if(!t){const{data:d,error:p}=s;if(p)throw p;t=(o=d.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new Yt;const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!jt())throw new Il("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Il(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Sx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Il("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sx("No code detected.");const{data:D,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:c,access_token:u,refresh_token:d,expires_in:p,expires_at:m,token_type:g}=t;if(!u||!p||!d||!g)throw new Il("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(p);let v=y+b;m&&(v=parseInt(m));const w=v-y;w*1e3<=ma&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${b}s`);const j=v-b;y-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,y):y-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,y);const{data:_,error:A}=await this._getUser(u);if(A)throw A;const C={provider_token:o,provider_refresh_token:c,access_token:u,expires_in:b,expires_at:v,refresh_token:d,token_type:g,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(o){if(pe(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await rs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:c,error:u}=s;if(u&&!lh(u))return this._returnResult({error:u});const d=(o=c.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:p}=await this.admin.signOut(d,t);if(p&&!(n4(p)&&(p.status===404||p.status===401||p.status===403)||lh(p)))return this._returnResult({error:p})}return t!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=d4(),o={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async s=>{var o,c;try{const{data:{session:u},error:d}=s;if(d)throw d;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(t))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=await ua(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await wt(this.storage,`${this.storageKey}-code-verifier`),pe(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:o,error:c}=await this._useSession(async u=>{var d,p,m,g,y;const{data:b,error:v}=u;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(p=t.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return jt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:t.provider,url:o?.url},error:null})}catch(o){if(pe(o))return this._returnResult({data:{provider:t.provider,url:null},error:o});throw o}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var o;try{const{error:c,data:{session:u}}=s;if(c)throw c;const{options:d,provider:p,token:m,access_token:g,nonce:y}=t,b=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:p,id_token:m,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:xn}),{data:v,error:w}=b;return w?this._returnResult({data:{user:null,session:null},error:w}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ca}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:w}))}catch(c){if(await wt(this.storage,`${this.storageKey}-code-verifier`),pe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var o,c;const{data:u,error:d}=s;if(d)throw d;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await m4(async c=>(c>0&&await p4(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xn})),(c,u)=>{const d=200*Math.pow(2,c);return u&&ch(u)&&Date.now()+d-o<ma})}catch(o){if(this._debug(s,"error",o),pe(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",o),jt()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const c=await rs(this.storage,this.storageKey);if(c&&this.userStorage){let d=await rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await ga(this.userStorage,this.storageKey+"-user",d)),c.user=(t=d?.user)!==null&&t!==void 0?t:uh()}else if(c&&!c.user&&!c.user){const d=await rs(this.storage,this.storageKey+"-user");d&&d?.user?(c.user=d.user,await wt(this.storage,this.storageKey+"-user"),await ga(this.storage,this.storageKey,c)):c.user=uh()}if(this._debug(o,"session from storage",c),!this._isValidSession(c)){this._debug(o,"session is not valid"),c!==null&&await this._removeSession();return}const u=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<oh;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${oh}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),ch(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:p}=await this._getUser(c.access_token);!p&&d?.user?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(o,"error",c),console.error(c);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var s,o;if(!t)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new yc;const{data:u,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!u.session)throw new Yt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(c,"error",u),pe(u)){const d={data:null,error:u};return ch(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(t,s,o=!0){const c=`#_notifyAllSubscribers(${t})`;this._debug(c,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(t,s)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await ga(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const u=kx(c);await ga(this.storage,this.storageKey,u)}else{const c=kx(s);await ga(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ma);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((o.expires_at*1e3-t)/ma);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${ma}ms, refresh threshold is ${Hh} ticks`),c<=Hh&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof G1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,o){const c=[`provider=${encodeURIComponent(s)}`];if(o?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,d]=await ua(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(p.toString())}if(o?.queryParams){const u=new URLSearchParams(o.queryParams);c.push(u.toString())}return o?.skipBrowserRedirect&&c.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${c.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var o;const{data:c,error:u}=s;return u?this._returnResult({data:null,error:u}):await ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var o,c;const{data:u,error:d}=s;if(d)return this._returnResult({data:null,error:d});const p=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:g}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&m.type==="totp"&&(!((c=m?.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?F4(t.webauthn.credential_response):G4(t.webauthn.credential_response)})}:{code:t.code}),{data:p,error:m}=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:p}=d;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:$4(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:H4(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:o}=await this._challenge({factorId:t.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:o}=await this.getUser();if(o)return{data:null,error:o};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s?.factors)!==null&&t!==void 0?t:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(t){var s,o,c,u;if(t)try{const{payload:w}=Vl(t);let j=null;w.aal&&(j=w.aal);let _=j;const{data:{user:A},error:C}=await this.getUser(t);if(C)return this._returnResult({data:null,error:C});((o=(s=A?.factors)===null||s===void 0?void 0:s.filter(U=>U.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(_="aal2");const E=w.amr||[];return{data:{currentLevel:j,nextLevel:_,currentAuthenticationMethods:E},error:null}}catch(w){if(pe(w))return this._returnResult({data:null,error:w});throw w}const{data:{session:d},error:p}=await this.getSession();if(p)return this._returnResult({data:null,error:p});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=Vl(d.access_token);let g=null;m.aal&&(g=m.aal);let y=g;((u=(c=d.user.factors)===null||c===void 0?void 0:c.filter(w=>w.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(y="aal2");const v=m.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;return c?this._returnResult({data:null,error:c}):o?await ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async o=>{const{data:{session:c},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Yt});const d=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&jt()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(o){if(pe(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(t,s){try{return await this._useSession(async o=>{const{data:{session:c},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Yt});const d=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&jt()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(o){if(pe(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:o}=t;return o?this._returnResult({data:null,error:o}):s?await ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;return c?this._returnResult({data:null,error:c}):o?(await ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yt})})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let o=s.keys.find(p=>p.kid===t);if(o)return o;const c=Date.now();if(o=this.jwks.keys.find(p=>p.kid===t),o&&this.jwks_cached_at+e4>c)return o;const{data:u,error:d}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,o=u.keys.find(p=>p.kid===t),!o)?null:o}async getClaims(t,s={}){try{let o=t;if(!o){const{data:w,error:j}=await this.getSession();if(j||!w.session)return this._returnResult({data:null,error:j});o=w.session.access_token}const{header:c,payload:u,signature:d,raw:{header:p,payload:m}}=Vl(o);s?.allowExpired||j4(u.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:w}=await this.getUser(o);if(w)throw w;return{data:{claims:u,header:c,signature:d},error:null}}const y=S4(c.alg),b=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,d,c4(`${p}.${m}`)))throw new Wh("Invalid JWT signature");return{data:{claims:u,header:c,signature:d},error:null}}catch(o){if(pe(o))return this._returnResult({data:null,error:o});throw o}}}to.nextInstanceID={};const tE=to,nE="2.94.0";let Br="";typeof Deno<"u"?Br="deno":typeof document<"u"?Br="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Br="react-native":Br="node";const iE={"X-Client-Info":`supabase-js-${Br}/${nE}`},sE={headers:iE},aE={schema:"public"},rE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oE={};function no(i){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(i)}function lE(i,t){if(no(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var o=s.call(i,t);if(no(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function cE(i){var t=lE(i,"string");return no(t)=="symbol"?t:t+""}function uE(i,t,s){return(t=cE(t))in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function Mx(i,t){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);t&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),s.push.apply(s,o)}return s}function Je(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Mx(Object(s),!0).forEach(function(o){uE(i,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Mx(Object(s)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(s,o))})}return i}const dE=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),hE=()=>Headers,fE=(i,t,s)=>{const o=dE(s),c=hE();return async(u,d)=>{var p;const m=(p=await t())!==null&&p!==void 0?p:i;let g=new c(d?.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),o(u,Je(Je({},d),{},{headers:g}))}};function pE(i){return i.endsWith("/")?i:i+"/"}function mE(i,t){var s,o;const{db:c,auth:u,realtime:d,global:p}=i,{db:m,auth:g,realtime:y,global:b}=t,v={db:Je(Je({},m),c),auth:Je(Je({},g),u),realtime:Je(Je({},y),d),storage:{},global:Je(Je(Je({},b),p),{},{headers:Je(Je({},(s=b?.headers)!==null&&s!==void 0?s:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return i.accessToken?v.accessToken=i.accessToken:delete v.accessToken,v}function gE(i){const t=i?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var yE=class extends tE{constructor(i){super(i)}},xE=class{constructor(i,t,s){var o,c;this.supabaseUrl=i,this.supabaseKey=t;const u=gE(i);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:aE,realtime:oE,auth:Je(Je({},rE),{},{storageKey:d}),global:sE},m=mE(s??{},p);if(this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=m.global.headers)!==null&&c!==void 0?c:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=fE(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new nk(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new Kk(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Y5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,t,s)}channel(i,t={config:{}}){return this.realtime.channel(i,t)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,t,s;if(i.accessToken)return await i.accessToken();const{data:o}=await i.auth.getSession();return(t=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:t,detectSessionInUrl:s,storage:o,userStorage:c,storageKey:u,flowType:d,lock:p,debug:m,throwOnError:g},y,b){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yE({url:this.authUrl.href,headers:Je(Je({},v),y),storageKey:u,autoRefreshToken:i,persistSession:t,detectSessionInUrl:s,storage:o,userStorage:c,flowType:d,lock:p,debug:m,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new vk(this.realtimeUrl.href,Je(Je({},i),{},{params:Je(Je({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,t)=>{this._handleTokenChanged(i,"CLIENT",t?.access_token)})}_handleTokenChanged(i,t,s){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vE=(i,t,s)=>new xE(i,t,s);function bE(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const t=i.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}bE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wE="https://dgjyfwgtqzgaqayusmxs.supabase.co",jE="sb_publishable_wsYeUu4lzgaAucVo9B5hvw_HtBqQ8AZ",ee=vE(wE,jE),At=async(i,t,s,o,c)=>{try{await ee.from("audit_logs").insert([{user_id:i,action:t,entity_type:s,entity_id:o,details:c}])}catch(u){console.error("Failed to log action:",u)}},fn=({isOpen:i,onClose:t,onConfirm:s,title:o,description:c,confirmText:u="Confirm",cancelText:d="Cancel",type:p="question",confirmOnly:m=!1})=>{const g=T.useRef(null);T.useEffect(()=>{i&&setTimeout(()=>{g.current?.focus()},100)},[i]);const y=()=>{s(),t()},b=()=>{switch(p){case"danger":return r.jsx(Qy,{size:32,color:"#ef4444"});case"warning":return r.jsx(Qy,{size:32,color:"#f59e0b"});case"success":return r.jsx(ja,{size:32,color:"#10b981"});case"info":return r.jsx(Hx,{size:32,color:"#3b82f6"});default:return r.jsx(Qh,{size:32,color:"var(--umat-gold)"})}},v=()=>{switch(p){case"danger":return{background:"#ef4444",color:"white",border:"none"};case"warning":return{background:"#f59e0b",color:"black",border:"none"};default:return{background:"var(--umat-green)",color:"white",border:"none"}}};return r.jsx(xs,{children:i&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1050,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(5px)"},children:r.jsxs(ge.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"glass-card",style:{width:"100%",maxWidth:"450px",padding:"30px",background:"var(--bg-modal)",border:"1px solid var(--glass-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",marginBottom:"24px"},children:[r.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:p==="danger"?"rgba(239, 68, 68, 0.1)":"rgba(255, 255, 255, 0.05)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px"},children:b()}),r.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"1.25rem",color:"var(--text-main)"},children:o}),r.jsx("p",{style:{margin:0,color:"var(--text-muted)",fontSize:"0.95rem",lineHeight:"1.5"},children:c})]}),r.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[!m&&r.jsx("button",{onClick:t,className:"btn-outline",style:{padding:"10px 24px",flex:1},children:d}),r.jsx("button",{ref:g,onClick:y,style:{padding:"10px 24px",flex:1,borderRadius:"10px",fontWeight:600,cursor:"pointer",transition:"filter 0.2s",...v()},onMouseOver:w=>w.currentTarget.style.filter="brightness(1.1)",onMouseOut:w=>w.currentTarget.style.filter="brightness(1)",children:u})]})]})})})},K1=T.createContext(void 0),SE=({children:i})=>{const[t,s]=T.useState(null),[o,c]=T.useState(null),[u,d]=T.useState(null),[p,m]=T.useState(!0),[g,y]=T.useState({isOpen:!1,title:"",description:"",onConfirm:()=>{},type:"info",confirmOnly:!1});T.useEffect(()=>{ee.auth.getSession().then(({data:{session:q}})=>{d(q),s(q?.user??null),q?.user?b(q.user.id):m(!1)});const{data:{subscription:U}}=ee.auth.onAuthStateChange((q,F)=>{d(F),s(F?.user??null),F?.user?b(F.user.id):(c(null),m(!1))});let L=null;return t&&(L=ee.channel(`profile:${t.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${t.id}`},q=>{console.log("Profile updated in realtime:",q);const F=q.new;c(F),(F.status==="Inactive"||F.status==="Rejected")&&y({isOpen:!0,title:"Access Modified",description:"Your institutional access protocol has been updated by the administrator. You will be signed out for security synchronization.",type:"danger",confirmText:"Synchronize Now",confirmOnly:!0,onConfirm:async()=>{await j(),window.location.reload()}})}).subscribe()),()=>{U.unsubscribe(),L&&ee.removeChannel(L)}},[t?.id]);const b=async U=>{try{const{data:L,error:q}=await ee.from("profiles").select("*").eq("id",U).single();q?console.error("Error fetching profile:",q):(c(L),await ee.from("profiles").update({last_active:new Date().toISOString()}).eq("id",U))}catch(L){console.error("Error in fetchProfile:",L)}finally{m(!1)}},v=async(U,L)=>{const{data:q,error:F}=await ee.auth.signInWithPassword({email:U,password:L});if(F)return{error:F};if(q.user){const{data:X,error:z}=await ee.from("profiles").select("status").eq("id",q.user.id).single();if(z)console.error("Error fetching profile during login:",z);else if(X&&X.status!=="Active")return await ee.auth.signOut(),{error:{message:`Access denied. Your account status is: ${X.status}. Please contact the administrator.`}};await At(q.user.id,"Authentication Login","Account",q.user.id,{method:"institutional_portal"})}return{error:null}},w=async(U,L,q)=>{const{data:F,error:X}=await ee.auth.signUp({email:U,password:L,options:{data:{full_name:q.full_name,department:q.department}}});if(X)return{error:X};if(F.user){const{error:z}=await ee.from("profiles").insert([{id:F.user.id,full_name:q.full_name,email:U,department:q.department,role:"Board Member",status:"Pending",last_active:new Date().toISOString()}]);if(z)return console.error("Error creating profile:",z),{error:z};await At(F.user.id,"Institutional Registration","Account",F.user.id,{role:"Board Member",dept:q.department})}return{error:null}},j=async()=>{t&&await At(t.id,"Authentication Logout","Account",t.id),await ee.auth.signOut(),s(null),c(null),d(null)},_=async U=>{if(t){const{error:L}=await ee.from("profiles").update({avatar_url:U}).eq("id",t.id);L||c(q=>q?{...q,avatar_url:U}:null)}},E={user:t,profile:o,session:u,loading:p,signIn:v,signUp:w,signOut:j,updateProfileAvatar:_,uploadAvatar:async U=>{if(t)try{const L=U.name.split(".").pop(),q=`${Date.now()}_avatar.${L}`,F=`${t.id}/${q}`,{error:X}=await ee.storage.from("avatars").upload(F,U,{cacheControl:"3600",upsert:!0});if(X)throw X;const{data:{publicUrl:z}}=ee.storage.from("avatars").getPublicUrl(F);await _(z),await At(t.id,"Avatar Workspace Update","Profile",t.id,{filename:q})}catch(L){throw console.error("Error in uploadAvatar:",L),L}},updateProfile:async U=>{if(t){const{error:L}=await ee.from("profiles").update(U).eq("id",t.id);L||(c(q=>q?{...q,...U}:null),await At(t.id,"Profile Criteria Modified","Profile",t.id,U))}},resetPassword:async U=>{const{error:L}=await ee.auth.resetPasswordForEmail(U,{redirectTo:window.location.origin+"/reset-password"});return{error:L}}};return r.jsxs(K1.Provider,{value:E,children:[i,r.jsx(fn,{isOpen:g.isOpen,onClose:()=>y(U=>({...U,isOpen:!1})),onConfirm:g.onConfirm,title:g.title,description:g.description,type:g.type,confirmText:g.confirmText,confirmOnly:g.confirmOnly})]})},kt=()=>{const i=T.useContext(K1);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i},X1=T.createContext(void 0),_E=({children:i})=>{const{user:t}=kt(),[s,o]=T.useState([]),[c,u]=T.useState(!1),d=async()=>{if(t){u(!0);try{const{data:v,error:w}=await ee.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(w)throw w;v&&o(v)}catch(v){console.error("Error fetching notifications:",v)}finally{u(!1)}}};T.useEffect(()=>{let v=null;return t?(d(),v=ee.channel(`notifications:user:${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},w=>{console.log("Realtime notification refresh:",w.eventType),w.eventType==="INSERT"?o(j=>[w.new,...j]):w.eventType==="UPDATE"?o(j=>j.map(_=>_.id===w.new.id?w.new:_)):w.eventType==="DELETE"&&o(j=>j.filter(_=>_.id!==w.old.id))}).subscribe()):o([]),()=>{v&&ee.removeChannel(v)}},[t]);const p=async()=>{await d()},m=async v=>{if(t)try{const{error:w}=await ee.from("notifications").update({is_read:!0}).eq("id",v).eq("user_id",t.id);if(w)throw w;o(j=>j.map(_=>_.id===v?{..._,is_read:!0}:_))}catch(w){console.error("Error marking notification as read:",w)}},g=async()=>{if(t)try{const{error:v}=await ee.from("notifications").update({is_read:!0}).eq("user_id",t.id).eq("is_read",!1);if(v)throw v;o(w=>w.map(j=>({...j,is_read:!0})))}catch(v){console.error("Error marking all notifications as read:",v)}},y=async(v,w,j,_="info")=>{try{const{error:A}=await ee.from("notifications").insert([{user_id:v,title:w,message:j,type:_,is_read:!1}]);if(A)throw A}catch(A){console.error("Error creating notification:",A)}},b=s.filter(v=>!v.is_read).length;return r.jsx(X1.Provider,{value:{notifications:s,unreadCount:b,loading:c,markAsRead:m,markAllAsRead:g,createNotification:y,refreshNotifications:p},children:i})},ii=()=>{const i=T.useContext(X1);if(i===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return i},Q1=T.createContext(void 0),TE=({children:i})=>{const{user:t}=kt(),{createNotification:s}=ii(),[o,c]=T.useState([]),[u,d]=T.useState(!1),p=async()=>{if(t){d(!0);try{const{data:v,error:w}=await ee.from("meetings").select("*").order("date",{ascending:!0}).order("start_time",{ascending:!0});if(w)throw w;v&&c(v)}catch(v){console.error("Error fetching meetings:",v)}finally{d(!1)}}},m=oc.useRef(new Set),g=async v=>{if(t)try{const{data:w,error:j}=await ee.from("meetings").insert([{...v,status:"Upcoming",attendees:v.attendee_list?.length||0,owner_id:t.id}]).select().single();if(j)throw j;if(c(_=>[..._,w]),await s(t.id,"Meeting Scheduled",`You scheduled "${v.title}" for ${new Date(v.date).toLocaleDateString()}.`,"meeting"),v.attendee_list&&v.attendee_list.length>0)for(const _ of v.attendee_list)_!==t.id&&await s(_,"New Meeting Invitation",`You have been invited to "${v.title}" on ${new Date(v.date).toLocaleDateString()}.`,"meeting")}catch(w){throw console.error("Error scheduling meeting:",w),w}};T.useEffect(()=>{if(!t||o.length===0)return;const v=()=>{const j=new Date;o.forEach(_=>{if(_.status!=="Upcoming")return;const D=(new Date(`${_.date}T${_.start_time}`).getTime()-j.getTime())/(1e3*60);D>0&&D<=15&&!m.current.has(_.id)&&(m.current.add(_.id),s(t.id,"Meeting Reminder",`"${_.title}" starts in ${Math.ceil(D)} minutes.`,"meeting"))})},w=setInterval(v,6e4);return v(),()=>clearInterval(w)},[t,o]);const y=async(v,w)=>{try{const{error:j}=await ee.from("meetings").update({status:w}).eq("id",v);if(j)throw j;c(_=>_.map(A=>A.id===v?{...A,status:w}:A))}catch(j){console.error("Error updating meeting status:",j)}},b=async v=>{try{const{error:w}=await ee.from("meetings").delete().eq("id",v);if(w)throw w;c(j=>j.filter(_=>_.id!==v))}catch(w){console.error("Error deleting meeting:",w)}};return T.useEffect(()=>{if(!t)return;const v=ee.channel("meetings-realtime").on("postgres_changes",{event:"*",schema:"public",table:"meetings"},()=>{p()}).subscribe();return()=>{ee.removeChannel(v)}},[t]),T.useEffect(()=>{t?p():c([])},[t]),r.jsx(Q1.Provider,{value:{meetings:o,loading:u,fetchMeetings:p,scheduleMeeting:g,updateMeetingStatus:y,deleteMeeting:b},children:i})},xc=()=>{const i=T.useContext(Q1);if(i===void 0)throw new Error("useMeetings must be used within a MeetingProvider");return i},AE=({activeTab:i,setActiveTab:t,collapsed:s,setCollapsed:o,onUploadClick:c,onLogout:u,isMobileOpen:d})=>{const{meetings:p}=xc(),{unreadCount:m}=ii(),{profile:g}=kt(),y=g?.role==="Admin",b=p.filter(C=>C.status==="Upcoming"||C.status==="In Progress").length;T.useEffect(()=>{},[y]);const v=[{icon:r.jsx(Fj,{size:20}),label:"Dashboard"},{icon:r.jsx(Nj,{size:20}),label:"All Files"},{icon:r.jsx(af,{size:20}),label:"Shared with me"},{icon:r.jsx(Mj,{size:20}),label:"Categories"},{icon:r.jsx(Zn,{size:20}),label:"Meetings",badge:b>0?b.toString():void 0},{icon:r.jsx(Kl,{size:20}),label:"Notifications",badge:m>0?m>9?"9+":m.toString():void 0},{icon:r.jsx(ys,{size:20}),label:"Trash"}],w=[{icon:r.jsx(Wx,{size:20}),label:"Profile Settings"},{icon:r.jsx(hn,{size:20}),label:"Account Security"}],j=[{icon:r.jsx(On,{size:20}),label:"User Management"},{icon:r.jsx(ej,{size:20}),label:"Analytics"}],_=[{icon:r.jsx(Qh,{size:20}),label:"Help & Support"}],A=({item:C,isActive:D,onClick:E})=>r.jsxs(ge.div,{whileHover:{x:4},onClick:E,style:{display:"flex",alignItems:"center",justifyContent:s&&!d?"center":"flex-start",padding:"12px 14px",borderRadius:"12px",cursor:"pointer",marginBottom:"4px",background:D?"linear-gradient(90deg, rgba(0, 104, 55, 0.1) 0%, transparent 100%)":"transparent",borderLeft:(!s||d)&&D?"3px solid var(--umat-green)":"3px solid transparent",color:D?"var(--umat-green)":"var(--text-muted)",position:"relative",overflow:"hidden"},children:[r.jsx("div",{style:{minWidth:"24px",display:"flex",justifyContent:"center"},children:oc.cloneElement(C.icon,{color:D?"var(--umat-green)":"currentColor",size:20})}),(!s||d)&&r.jsx(ge.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},style:{marginLeft:"12px",fontWeight:D?600:400,fontSize:"0.95rem",whiteSpace:"nowrap"},children:C.label}),(!s||d)&&C.badge&&r.jsx("span",{style:{marginLeft:"auto",background:C.label==="Notifications"?"#ef4444":"var(--umat-gold)",color:C.label==="Notifications"?"white":"var(--bg-dark)",fontSize:"0.7rem",fontWeight:700,padding:"2px 6px",borderRadius:"10px",minWidth:"18px",textAlign:"center"},children:C.badge}),s&&!d&&C.badge&&r.jsx("div",{style:{position:"absolute",top:"8px",right:"8px",width:"8px",height:"8px",borderRadius:"50%",background:C.label==="Notifications"?"#ef4444":"var(--umat-gold)",border:"1.5px solid var(--bg-card)"}})]});return r.jsxs(ge.aside,{initial:!1,animate:{width:s&&!d?"80px":"280px"},className:`glass-card mobile-drawer ${d?"open":""}`,style:{margin:"20px",height:"calc(100vh - 40px)",display:"flex",flexDirection:"column",padding:"24px 16px",borderRadius:"24px",position:"sticky",top:"20px",overflowY:"auto",overflowX:"hidden",zIndex:d?2e3:"auto",background:"var(--bg-card)"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"32px",padding:"0 4px",cursor:"pointer",position:"relative"},children:[r.jsxs("div",{onClick:()=>(!s||d)&&t("Dashboard"),style:{display:"flex",alignItems:"center",justifyContent:s&&!d?"center":"flex-start",gap:"12px",flex:1},children:[r.jsx("img",{src:vs,alt:"UMAT Logo",style:{width:"40px",height:"auto"}}),(!s||d)&&r.jsxs(ge.div,{initial:{opacity:0},animate:{opacity:1},children:[r.jsxs("h2",{style:{fontSize:"1.1rem",margin:0,fontWeight:700,color:"var(--text-main)"},children:["UMAT ",r.jsx("span",{style:{color:"var(--umat-green)"},children:"ShareHub"})]}),r.jsx("p",{style:{fontSize:"0.65rem",color:"var(--text-muted)",margin:0,letterSpacing:"0.5px"},children:"OFFICIAL ACADEMIC PORTAL"})]})]}),!d&&r.jsx("div",{style:{display:"flex",gap:"8px",position:s?"absolute":"relative",left:s?"50%":"auto",transform:s?"translateX(-50%)":"none",top:s?"62px":"auto"},children:r.jsx("button",{onClick:()=>o(!s),style:{background:"var(--glass)",border:"1px solid var(--glass-border)",borderRadius:"8px",padding:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)",transition:"all 0.2s"},children:s?r.jsx(za,{size:16}):r.jsx(Kh,{size:16})})})]}),r.jsxs("div",{style:{flex:1,marginTop:s&&!d?"40px":"0"},children:[(!s||d)&&r.jsxs("button",{className:"btn-primary",style:{width:"100%",marginBottom:"24px",justifyContent:"center"},onClick:c,children:[r.jsx(dj,{size:18}),r.jsx("span",{children:"New Upload"})]}),r.jsxs("div",{style:{marginBottom:"24px"},children:[(!s||d)&&r.jsx("p",{style:{fontSize:"0.7rem",fontWeight:700,textTransform:"uppercase",color:"var(--text-muted)",marginBottom:"12px",paddingLeft:"14px",letterSpacing:"1px"},children:"Main Menu"}),v.map((C,D)=>r.jsx(A,{item:C,isActive:i===C.label,onClick:()=>t(C.label)},D))]}),y&&r.jsxs("div",{style:{marginBottom:"24px"},children:[(!s||d)&&r.jsx("p",{style:{fontSize:"0.7rem",fontWeight:700,textTransform:"uppercase",color:"var(--text-muted)",marginBottom:"12px",paddingLeft:"14px",letterSpacing:"1px"},children:"Admin Space"}),j.map((C,D)=>r.jsx(A,{item:C,isActive:i===C.label,onClick:()=>t(C.label)},D))]}),r.jsxs("div",{style:{marginBottom:"24px"},children:[(!s||d)&&r.jsx("p",{style:{fontSize:"0.7rem",fontWeight:700,textTransform:"uppercase",color:"var(--text-muted)",marginBottom:"12px",paddingLeft:"14px",letterSpacing:"1px"},children:"Personal"}),w.map((C,D)=>r.jsx(A,{item:C,isActive:i===C.label,onClick:()=>t(C.label)},D))]}),r.jsxs("div",{children:[(!s||d)&&r.jsx("p",{style:{fontSize:"0.7rem",fontWeight:700,textTransform:"uppercase",color:"var(--text-muted)",marginBottom:"12px",paddingLeft:"14px",letterSpacing:"1px"},children:"Support"}),_.map((C,D)=>r.jsx(A,{item:C,isActive:i===C.label,onClick:()=>t(C.label)},D))]})]}),r.jsx("div",{style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid var(--glass-border)"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:s&&!d?"center":"flex-start",gap:"12px",padding:"0 4px"},children:[r.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"var(--umat-navy)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--umat-gold)",fontWeight:"bold",fontSize:"0.9rem",border:"2px solid var(--umat-gold)",overflow:"hidden",flexShrink:0},children:g?.avatar_url?r.jsx("img",{src:g.avatar_url,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):(g?.full_name||"U").charAt(0)}),(!s||d)&&r.jsxs(ge.div,{initial:{opacity:0},animate:{opacity:1},style:{flex:1,overflow:"hidden"},children:[r.jsx("p",{style:{fontSize:"0.85rem",fontWeight:600,margin:0,color:"var(--text-main)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:g?.full_name||"User"}),r.jsx("p",{style:{fontSize:"0.7rem",color:"var(--text-muted)",margin:0,whiteSpace:"nowrap"},children:g?.role||"Institutional User"})]}),r.jsx(oS,{size:18,color:"var(--text-muted)",style:{cursor:"pointer",minWidth:"18px",marginLeft:s&&!d?"0":"auto"},onClick:u})]})})]})},CE=(i,t)=>{const s=i.split(".").pop()?.toLowerCase();if(["doc","docx"].includes(s||""))return{Icon:un,color:"#2b579a"};if(["xls","xlsx","csv"].includes(s||""))return{Icon:kj,color:"#217346"};if(["ppt","pptx"].includes(s||""))return{Icon:ES,color:"#d24726"};if(["pdf"].includes(s||""))return{Icon:un,color:"#f40f02"};if(["jpg","jpeg","png","gif","svg","webp"].includes(s||""))return{Icon:Yy,color:"#e91e63"};if(["mp4","mov","avi","mkv","webm"].includes(s||""))return{Icon:Ky,color:"#673ab7"};if(["mp3","wav","ogg","aac"].includes(s||""))return{Icon:hh,color:"#00bcd4"};if(["zip","rar","7z","tar","gz"].includes(s||""))return{Icon:Lx,color:"#ff9800"};if(["js","ts","tsx","html","css","json","py","sql"].includes(s||""))return{Icon:jj,color:"#607d8b"};if(t){if(t.startsWith("image/"))return{Icon:Yy,color:"#e91e63"};if(t.startsWith("video/"))return{Icon:Ky,color:"#673ab7"};if(t.startsWith("audio/"))return{Icon:hh,color:"#00bcd4"}}return{Icon:Rj,color:"var(--umat-green)"}},Bi=({name:i,mimeType:t,size:s=20,color:o})=>{const{Icon:c,color:u}=CE(i,t);return r.jsx(c,{size:s,color:o||u})},J1=T.createContext(void 0),kE=({children:i})=>{const{user:t,profile:s}=kt(),[o,c]=T.useState([]),[u,d]=T.useState([]),[p,m]=T.useState([]),[g,y]=T.useState([]),[b,v]=T.useState([]),[w,j]=T.useState(!1),[_,A]=T.useState(null),C=$=>({id:$.id,name:$.name,type:$.type,size:$.size,updated_at:$.updated_at,created_at:$.created_at,category:$.category,parent_id:$.parent_id,url:$.url,visibility:$.visibility,shared_with:$.shared_with||[],user_id:$.user_id,is_deleted:$.is_deleted,deleted_at:$.deleted_at,uploader_name:$.profiles?.full_name||"Unknown",uploader_avatar:$.profiles?.avatar_url,storage_path:$.storage_path,is_pinned:$.is_pinned||!1}),D=async($=null)=>{if(t){j(!0);try{let N=ee.from("files").select("*, profiles(full_name, avatar_url)").eq("is_deleted",!1).or(`user_id.eq.${t.id},visibility.eq.everyone,shared_with.cs.{${t.id}}`);$?N=N.eq("parent_id",$):N=N.is("parent_id",null);const{data:k,error:W}=await N.order("is_pinned",{ascending:!1}).order("type",{ascending:!1}).order("name",{ascending:!0});if(W)throw W;k&&c(k.map(C))}catch(N){console.error("Error fetching files:",N)}finally{j(!1)}}},E=async($,N)=>{try{const{error:k}=await ee.from("files").update({is_pinned:!N}).eq("id",$);if(k)throw k;c(W=>W.map(re=>re.id===$?{...re,is_pinned:!N}:re)),d(W=>W.map(re=>re.id===$?{...re,is_pinned:!N}:re)),t&&await At(t.id,N?"Institutional Unpin":"Institutional Pin","File",$)}catch(k){console.error("Error toggling pin:",k)}},U=async()=>{if(t)try{const{data:$,error:N}=await ee.from("files").select("*, profiles(full_name, avatar_url)").eq("is_deleted",!1).eq("type","file").or(`user_id.eq.${t.id},visibility.eq.everyone`).order("updated_at",{ascending:!1}).limit(8);if(N)throw N;$&&d($.map(C))}catch($){console.error("Error fetching recent files:",$)}},L=async()=>{if(t){j(!0);try{const{data:$,error:N}=await ee.from("files").select("*, profiles(full_name, avatar_url)").eq("is_deleted",!0).eq("user_id",t.id);if(N)throw N;$&&m($.map(C))}catch($){console.error("Error fetching trash:",$)}finally{j(!1)}}},q=async $=>{if(t){j(!0);try{let N=ee.from("files").select("*, profiles(full_name, avatar_url)").eq("is_deleted",!1).or(`user_id.eq.${t.id},visibility.eq.everyone,shared_with.cs.{${t.id}}`);$==="Images"?N=N.or("name.ilike.%.jpg,name.ilike.%.jpeg,name.ilike.%.png,name.ilike.%.gif,name.ilike.%.svg,name.ilike.%.webp"):$==="Videos"?N=N.or("name.ilike.%.mp4,name.ilike.%.mov,name.ilike.%.avi,name.ilike.%.webm"):$==="Audio"?N=N.or("name.ilike.%.mp3,name.ilike.%.wav,name.ilike.%.m4a"):$==="Documents"?N=N.or("name.ilike.%.pdf,name.ilike.%.doc,name.ilike.%.docx,name.ilike.%.xls,name.ilike.%.xlsx,name.ilike.%.ppt,name.ilike.%.pptx,name.ilike.%.txt,category.eq.General Board Documents,category.eq.Meeting Minutes,category.eq.Financial Reports,category.eq.Curriculum Review"):$==="Research"?N=N.ilike("category","%Research%"):N=N.eq("category",$);const{data:k,error:W}=await N;if(W)throw W;k&&v(k.map(C))}catch(N){console.error("Error fetching by category:",N)}finally{j(!1)}}},F=async($=null)=>{if(t){j(!0);try{let N=ee.from("files").select("*, profiles(full_name, avatar_url)").eq("is_deleted",!1).neq("user_id",t.id).or(`visibility.eq.everyone,shared_with.cs.{${t.id}}`);$?N=N.eq("parent_id",$):N=N.is("parent_id",null);const{data:k,error:W}=await N.order("type",{ascending:!1}).order("name",{ascending:!0});if(W)throw W;k&&y(k.map(C))}catch(N){console.error("Error fetching shared:",N)}finally{j(!1)}}},{createNotification:X}=ii(),z=async($,N,k,W,re,he)=>{if(!t)return;j(!0);let O;if(he){let G=0;const ie=$.size,oe=Math.max(500,ie/(500*1024)*1e3),Y=100,le=ie/oe*Y;O=setInterval(()=>{G=Math.min(G+le,ie*.9);const ue=Math.round(G/ie*100);he(ue)},Y)}try{const G=$.name.split(".").pop(),ie=`${Math.random().toString(36).substring(2)}_${Date.now()}.${G}`,oe=`${t.id}/${ie}`,{error:Y}=await ee.storage.from("files").upload(oe,$);if(Y)throw Y;O&&clearInterval(O),he&&he(100);const{data:{publicUrl:le}}=ee.storage.from("files").getPublicUrl(oe),{error:ue}=await ee.from("files").insert([{name:$.name,type:"file",size:`${($.size/(1024*1024)).toFixed(2)} MB`,category:k,parent_id:N,user_id:t.id,url:le,storage_path:oe,visibility:W,shared_with:re,is_deleted:!1}]);if(ue)throw ue;if(W==="specific"&&re.length>0)for(const we of re)we!==t.id&&await X(we,"New File Shared",`${s?.full_name||t.email} shared a file with you: "${$.name}"`,"file");else if(W==="everyone"){const{data:we}=await ee.from("profiles").select("id").eq("status","Active").neq("id",t.id);if(we)for(const Me of we)await X(Me.id,"New Public File",`${s?.full_name||t.email} uploaded a new public file: "${$.name}"`,"file")}await D(N),await U(),await At(t.id,"Institutional Upload","File",ie,{name:$.name,category:k})}catch(G){throw console.error("Error uploading file:",G),G}finally{O&&clearInterval(O),j(!1)}},te=async($,N,k)=>{if(t)try{const{error:W}=await ee.from("files").insert([{name:$,type:"folder",category:k,parent_id:N,user_id:t.id,visibility:"everyone",shared_with:[],is_deleted:!1}]);if(W)throw W;await D(N),await At(t.id,"Directory Creation","Folder",$,{category:k})}catch(W){throw console.error("Error creating folder:",W),W}},ae=async $=>{let N=[];const{data:k}=await ee.from("files").select("id, type").eq("parent_id",$);if(k&&k.length>0){for(const W of k)if(N.push(W.id),W.type==="folder"){const re=await ae(W.id);N=[...N,...re]}}return N},ye=async($,N=!1)=>{try{if(N){const{data:k}=await ee.from("files").select("id, storage_path, type").eq("id",$).single();if(!k)return;let W=[$],re=[];if(k.type==="folder"){const O=await ae($);if(W=[...W,...O],O.length>0){const{data:G}=await ee.from("files").select("storage_path").in("id",O).not("storage_path","is",null);G&&(re=G.map(ie=>ie.storage_path))}}else k.storage_path&&re.push(k.storage_path);if(re.length>0){const{error:O}=await ee.storage.from("files").remove(re);O&&console.error("Error removing files from storage:",O)}const{error:he}=await ee.from("files").delete().in("id",W);if(he)throw he}else{let k=[$];const{data:W}=await ee.from("files").select("type").eq("id",$).single();if(W&&W.type==="folder"){const he=await ae($);k=[...k,...he]}const{error:re}=await ee.from("files").update({is_deleted:!0,deleted_at:new Date().toISOString()}).in("id",k);if(re)throw re}c(k=>k.filter(W=>W.id!==$)),d(k=>k.filter(W=>W.id!==$)),L(),t&&await At(t.id,N?"Permanent Destruction":"Directory Deletion (Soft)","File/Folder",$)}catch(k){console.error("Error deleting item:",k)}},Ce=async $=>{try{let N=[$];const{data:k}=await ee.from("files").select("type").eq("id",$).single();if(k&&k.type==="folder"){const re=await ae($);N=[...N,...re]}const{error:W}=await ee.from("files").update({is_deleted:!1,deleted_at:null}).in("id",N);if(W)throw W;L(),t&&await At(t.id,"Institutional Restoration","File/Folder",$),(!k||k.type==="folder")&&D(null)}catch(N){console.error("Error restoring item:",N)}},Q=async()=>{if(t)try{const{data:$,error:N}=await ee.from("files").select("id, storage_path").eq("is_deleted",!0).eq("user_id",t.id);if(N)throw N;if(!$||$.length===0)return;const k=$.map(he=>he.id),W=$.map(he=>he.storage_path).filter(he=>he);if(W.length>0){const{error:he}=await ee.storage.from("files").remove(W);he&&console.error("Error clearing storage:",he)}const{error:re}=await ee.from("files").delete().in("id",k);if(re)throw re;m([]),await At(t.id,"Vault Cleanup (Empty Trash)","Trash","all")}catch($){console.error("Error emptying trash:",$)}};return T.useEffect(()=>{t?(D(_),U(),L()):(c([]),d([]),m([]))},[t,_]),T.useEffect(()=>{if(!t)return;const $=ee.channel("files-realtime").on("postgres_changes",{event:"*",schema:"public",table:"files"},N=>{console.log("Realtime update for files:",N),D(_),U(),L(),F()}).subscribe();return()=>{ee.removeChannel($)}},[t,_]),r.jsx(J1.Provider,{value:{items:o,recentItems:u,trashItems:p,sharedItems:g,categoryItems:b,loading:w,currentFolderId:_,setCurrentFolderId:A,fetchFiles:D,fetchRecentFiles:U,fetchTrashFiles:L,fetchFilesByCategory:q,fetchSharedFiles:F,uploadFile:z,createFolder:te,deleteItem:ye,restoreItem:Ce,emptyTrash:Q,togglePin:E},children:i})},js=()=>{const i=T.useContext(J1);if(i===void 0)throw new Error("useFiles must be used within a FileProvider");return i},EE=({file:i,onDownload:t})=>{if(!i.url)return r.jsxs("div",{className:"glass-card",style:{height:"calc(100vh - 200px)",background:"rgba(255,255,255,0.02)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"40px"},children:[r.jsx("div",{style:{padding:"20px",borderRadius:"50%",background:"var(--glass)",marginBottom:"16px"},children:r.jsx(qx,{size:40,color:"var(--text-muted)"})}),r.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"8px"},children:"Asset not accessible"}),r.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",maxWidth:"300px"},children:"This asset doesn't have a valid source URL for preview."})]});const s=i.name.split(".").pop()?.toLowerCase(),o=i.url;if(["jpg","jpeg","png","gif","svg","webp"].includes(s||""))return r.jsx("div",{style:{width:"100%",height:"calc(100vh - 200px)",background:"rgba(0,0,0,0.2)",borderRadius:"16px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx("img",{src:o,alt:i.name,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})});if(s==="pdf")return r.jsx("div",{style:{width:"100%",height:"calc(100vh - 200px)",background:"var(--glass)",borderRadius:"16px",overflow:"hidden"},children:r.jsx("iframe",{src:`${o}#view=FitH`,title:i.name,width:"100%",height:"100%",style:{border:"none"}})});if(["mp4","webm","ogg","mov"].includes(s||""))return r.jsx("div",{style:{width:"100%",height:"calc(100vh - 200px)",background:"black",borderRadius:"16px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsxs("video",{controls:!0,style:{maxWidth:"100%",maxHeight:"100%"},children:[r.jsx("source",{src:o}),"Your browser does not support the video tag."]})});if(["mp3","wav","ogg"].includes(s||""))return r.jsxs("div",{className:"glass-card",style:{width:"100%",height:"calc(100vh - 200px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"24px"},children:[r.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"rgba(0, 104, 55, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(dt,{className:"animate-pulse",size:40,color:"var(--umat-green)"})}),r.jsx("audio",{controls:!0,style:{width:"80%"},children:r.jsx("source",{src:o})}),r.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:["Playing: ",i.name]})]});if(["doc","docx","xls","xlsx","ppt","pptx"].includes(s||"")){const c=`https://docs.google.com/gview?url=${encodeURIComponent(o)}&embedded=true`;return r.jsx("div",{style:{width:"100%",height:"calc(100vh - 200px)",background:"white",borderRadius:"16px",overflow:"hidden"},children:r.jsx("iframe",{src:c,title:i.name,width:"100%",height:"100%",style:{border:"none"}})})}return r.jsxs("div",{className:"glass-card",style:{height:"calc(100vh - 200px)",background:"rgba(255,255,255,0.02)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"40px"},children:[r.jsx("div",{style:{padding:"20px",borderRadius:"50%",background:"var(--glass)",marginBottom:"16px"},children:r.jsx(un,{size:40,color:"var(--text-muted)"})}),r.jsxs("h3",{style:{fontSize:"1.2rem",marginBottom:"8px"},children:["Preview unavailable for ",s?.toUpperCase()||"this type"]}),r.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",maxWidth:"300px",marginBottom:"24px"},children:"Online preview is restricted for this institutional file format."}),r.jsxs("button",{className:"btn-primary",onClick:t,children:[r.jsx(so,{size:18,style:{marginRight:"8px"}}),"Download to View"]})]})},zE=async(i,t)=>new Promise(s=>{setTimeout(()=>{i.toLowerCase().includes("summary")||i.toLowerCase().includes("summarize")?s(`Based on the contents of **${t}**, here is a summary:

This document outlines the strategic initiatives for the 2024 academic year. Key points include:
1. Expansion of the mining engineering faculty.
2. New budget allocation for digital infrastructure.
3. Updated student welfare policies.

Everything appears to be in order for board review.`):i.toLowerCase().includes("budget")||i.toLowerCase().includes("finance")?s("The financial section indicates a total projected budget of **GHS 4.5M**. There is a 12% allocation for R&D and a 5% reserve for contingencies. The variance from last quarter is negligible."):i.toLowerCase().includes("date")||i.toLowerCase().includes("when")?s("The document mentions the effective date as **September 1, 2024**. The next review cycle is scheduled for January 2025."):s(`I found relevant information in **${t}**. The document discusses institutional policies and governance. specifically regarding your query about "${i}", it suggests following standard protocol defined in Section 4.2.`)},1500)}),RE=({fileName:i,onClose:t})=>{const[s,o]=T.useState([{id:"welcome",role:"assistant",content:`Hello! I've analyzed **${i}**. You can ask me to summarize it, find specific details, or explain complex terms.`,timestamp:new Date}]),[c,u]=T.useState(""),[d,p]=T.useState(!1),m=T.useRef(null),g=()=>{m.current?.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{g()},[s]);const y=async v=>{if(v&&v.preventDefault(),!c.trim())return;const w={id:Date.now().toString(),role:"user",content:c,timestamp:new Date};o(j=>[...j,w]),u(""),p(!0);try{const j=await zE(w.content,i),_={id:(Date.now()+1).toString(),role:"assistant",content:j,timestamp:new Date};o(A=>[...A,_])}catch(j){console.error("AI Error:",j);let _="I'm having trouble connecting to the neural core.";j.message&&j.message.includes("FunctionsFetchError")?_="My cognitive functions are currently offline. (Edge Function not deployed)":j.message&&(_=`Analysis Failed: ${j.message}`);const A={id:(Date.now()+1).toString(),role:"assistant",content:_,timestamp:new Date};o(C=>[...C,A])}finally{p(!1)}},b=["Summarize this document","What are the key financial figures?","List all action items","Explain the legal terms"];return r.jsxs(ge.div,{initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"glass-card",style:{position:"absolute",top:0,right:0,width:"400px",height:"100%",zIndex:50,borderRadius:"20px 0 0 20px",borderLeft:"1px solid var(--glass-border)",display:"flex",flexDirection:"column",background:"var(--bg-card)",boxShadow:"-10px 0 30px rgba(0,0,0,0.2)"},children:[r.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid var(--glass-border)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255,255,255,0.02)"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"linear-gradient(135deg, var(--umat-gold), #f59e0b)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"},children:r.jsx(Yw,{size:20,color:"white"})}),r.jsxs("div",{children:[r.jsx("h3",{style:{margin:0,fontSize:"0.95rem",fontWeight:700},children:"AI Analyst"}),r.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--text-muted)"},children:"Powered by ShareHub Intelligence"})]})]}),r.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)"},children:r.jsx(Xt,{size:20})})]}),r.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px",display:"flex",flexDirection:"column",gap:"20px"},children:[s.map(v=>r.jsxs("div",{style:{alignSelf:v.role==="user"?"flex-end":"flex-start",maxWidth:"85%"},children:[r.jsxs("div",{style:{padding:"12px 16px",borderRadius:v.role==="user"?"16px 16px 4px 16px":"16px 16px 16px 4px",background:v.role==="user"?"var(--umat-green)":"rgba(255,255,255,0.05)",color:v.role==="user"?"white":"var(--text-main)",border:v.role==="assistant"?"1px solid var(--glass-border)":"none",fontSize:"0.9rem",lineHeight:"1.5",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[v.role==="assistant"&&r.jsx(Kx,{size:14,color:"var(--umat-gold)",style:{marginRight:"8px",display:"inline",verticalAlign:"middle"}}),v.content.split(`
`).map((w,j)=>r.jsx("p",{style:{margin:w?"4px 0":"8px 0",minHeight:w?"auto":"8px"},children:w.replace(/\*\*(.*?)\*\*/g,(_,A)=>`<b>${A}</b>`).split(/(<b>.*?<\/b>)/).map((_,A)=>_.startsWith("<b>")?r.jsx("strong",{children:_.replace(/<\/?b>/g,"")},A):_)},j))]}),r.jsx("span",{style:{fontSize:"0.65rem",color:"var(--text-muted)",marginTop:"4px",display:"block",textAlign:v.role==="user"?"right":"left",opacity:.7},children:v.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},v.id)),d&&r.jsx("div",{style:{alignSelf:"flex-start",marginLeft:"10px"},children:r.jsxs("div",{style:{padding:"12px 16px",borderRadius:"16px 16px 16px 4px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--glass-border)",display:"flex",gap:"4px",alignItems:"center"},children:[r.jsx(ge.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6},style:{width:"6px",height:"6px",borderRadius:"50%",background:"var(--text-muted)"}}),r.jsx(ge.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:.2},style:{width:"6px",height:"6px",borderRadius:"50%",background:"var(--text-muted)"}}),r.jsx(ge.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:.4},style:{width:"6px",height:"6px",borderRadius:"50%",background:"var(--text-muted)"}})]})}),r.jsx("div",{ref:m})]}),s.length===1&&!d&&r.jsxs("div",{style:{padding:"0 20px 20px 20px",display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",fontWeight:600,margin:"0 0 4px 0"},children:"SUGGESTED ACTIONS"}),b.map((v,w)=>r.jsxs("button",{onClick:()=>{u(v),y()},style:{padding:"10px 14px",borderRadius:"10px",background:"rgba(255,255,255,0.03)",border:"1px solid var(--glass-border)",color:"var(--text-main)",fontSize:"0.85rem",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s"},className:"shadow-hover",children:[v,r.jsx(za,{size:14,color:"var(--text-muted)"})]},w))]}),r.jsx("div",{style:{padding:"20px",borderTop:"1px solid var(--glass-border)",background:"var(--bg-card)"},children:r.jsxs("form",{onSubmit:y,style:{display:"flex",gap:"8px",alignItems:"center",background:"var(--glass)",border:"1px solid var(--glass-border)",borderRadius:"14px",padding:"6px 6px 6px 16px"},children:[r.jsx("input",{type:"text",value:c,onChange:v=>u(v.target.value),placeholder:"Ask about this document...",style:{flex:1,background:"none",border:"none",outline:"none",color:"var(--text-main)",fontSize:"0.9rem"}}),r.jsx("button",{type:"submit",disabled:!c.trim()||d,style:{width:"36px",height:"36px",borderRadius:"10px",background:c.trim()?"var(--umat-green)":"rgba(128,128,128,0.2)",color:"white",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:c.trim()?"pointer":"default",transition:"all 0.2s"},children:d?r.jsx(dt,{size:18,className:"animate-spin"}):r.jsx(fh,{size:18})})]})})]})},vc=({file:i,onBack:t})=>{const{user:s,profile:o}=kt(),{createNotification:c}=ii(),[u,d]=T.useState(!1),[p,m]=T.useState("details"),{deleteItem:g}=js(),y=o?.role==="Admin",[b,v]=T.useState([]),[w,j]=T.useState(""),[_,A]=T.useState(null),[C,D]=T.useState(""),[E,U]=T.useState([]),[L,q]=T.useState(!1),[F,X]=T.useState(!1),[z,te]=T.useState(!1),[ae,ye]=T.useState(i?.visibility||"everyone"),[Ce,Q]=T.useState(""),[$,N]=T.useState([]),[k,W]=T.useState([]),[re,he]=T.useState(!1),O=oc.useRef(null),[G,ie]=T.useState({isOpen:!1,title:"",description:"",onConfirm:()=>{},type:"question",confirmOnly:!1});T.useEffect(()=>{if(i){we(),oe(),ye(i.visibility||"everyone");const ne=ee.channel(`file-details:${i.id}`).on("postgres_changes",{event:"*",schema:"public",table:"comments",filter:`file_id=eq.${i.id}`},je=>{console.log("Comment change detected:",je),we()}).on("postgres_changes",{event:"*",schema:"public",table:"file_versions",filter:`file_id=eq.${i.id}`},je=>{console.log("Version change detected:",je),oe()}).subscribe();return()=>{ee.removeChannel(ne)}}},[i]),T.useEffect(()=>{z&&ue()},[z]);const oe=async()=>{const{data:ne}=await ee.from("file_versions").select("*, profiles(full_name)").eq("file_id",i.id).order("version_number",{ascending:!1});ne&&W(ne)},Y=async ne=>{const je=ne.target.files?.[0];if(!(!je||!s)){he(!0);try{const{count:Be}=await ee.from("file_versions").select("*",{count:"exact",head:!0}).eq("file_id",i.id),Se=(Be||0)+1;i.storage_path||console.warn("No storage path for current file. Version will lack file reference.");const{error:ht}=await ee.from("file_versions").insert({file_id:i.id,version_number:Se,name:i.name,storage_path:i.storage_path||"",size:i.size,uploaded_by:i.user_id,change_summary:"Archived before new version upload"});if(ht)throw ht;const ft=je.name.split(".").pop(),_t=`${s.id}/${Math.random().toString(36).substring(2)}_${Date.now()}.${ft}`,{error:Tn}=await ee.storage.from("files").upload(_t,je);if(Tn)throw Tn;const{data:{publicUrl:ai}}=ee.storage.from("files").getPublicUrl(_t),Ss=je.size<1024*1024?`${(je.size/1024).toFixed(2)} KB`:`${(je.size/(1024*1024)).toFixed(2)} MB`,{error:fo}=await ee.from("files").update({name:je.name,size:Ss,storage_path:_t,url:ai,updated_at:new Date().toISOString()}).eq("id",i.id);if(fo)throw fo;if(await At(s.id,"VERSION_UPLOAD","File",i.id,{version:Se,file_name:i.name}),await c(s.id,"Version Updated",`New version (v${Se}.0) of "${i.name}" has been successfully committed.`,"file"),i.user_id!==s.id&&await c(i.user_id,"File Version Updated",`${o?.full_name||"A user"} updated a new version (v${Se}.0) of your file "${i.name}".`,"file"),i.visibility==="specific"&&i.shared_with&&i.shared_with.length>0){const jc=i.shared_with.filter(An=>An!==s.id&&An!==i.user_id);for(const An of jc)await c(An,"File Version Updated",`${o?.full_name||"A user"} updated a new version (v${Se}.0) of shared file "${i.name}".`,"file")}ie({isOpen:!0,title:"Version Synchronized",description:"A new iteration of this document has been committed to the institutional repository.",type:"success",confirmText:"Done",confirmOnly:!0,onConfirm:t})}catch(Be){console.error(Be),ie({isOpen:!0,title:"Commit Failed",description:`Failed to upload the new iteration: ${Be.message||"Check connection"}`,type:"danger",confirmText:"Close",confirmOnly:!0,onConfirm:()=>{}})}finally{he(!1),O.current&&(O.current.value="")}}},le=async ne=>{s&&ie({isOpen:!0,title:"Restore Version",description:`Are you sure you want to restore v${ne.version_number}.0? The current version will be archived.`,type:"warning",confirmText:"Restore",onConfirm:async()=>{try{const{count:je}=await ee.from("file_versions").select("*",{count:"exact",head:!0}).eq("file_id",i.id),Be=(je||0)+1;await ee.from("file_versions").insert({file_id:i.id,version_number:Be,name:i.name,storage_path:i.storage_path||"",size:i.size,uploaded_by:i.user_id,change_summary:"Archived before restoration"});const Se=ne,{error:ht}=await ee.from("files").update({name:Se.name,size:Se.size,storage_path:Se.storage_path}).eq("id",i.id);if(ht)throw ht;if(Se.storage_path){const{data:{publicUrl:ft}}=ee.storage.from("files").getPublicUrl(Se.storage_path);await ee.from("files").update({url:ft}).eq("id",i.id)}if(await At(s.id,"VERSION_RESTORE","File",i.id,{restored_version:ne.version_number,file_name:i.name}),await c(s.id,"Version Restored",`File "${i.name}" has been restored to v${ne.version_number}.0.`,"file"),i.user_id!==s.id&&await c(i.user_id,"File Version Restored",`${o?.full_name||"A user"} restored "${i.name}" to version v${ne.version_number}.0.`,"file"),i.visibility==="specific"&&i.shared_with&&i.shared_with.length>0){const ft=i.shared_with.filter(_t=>_t!==s.id&&_t!==i.user_id);for(const _t of ft)await c(_t,"File Version Restored",`${o?.full_name||"A user"} restored shared file "${i.name}" to v${ne.version_number}.0.`,"file")}ie({isOpen:!0,title:"Restoration Complete",description:`Role-back successful. The document is now reverted to v${ne.version_number}.0.`,type:"success",confirmText:"Done",confirmOnly:!0,onConfirm:()=>{}})}catch(je){console.error(je),ie({isOpen:!0,title:"Restoration Failed",description:`Failed to restore version: ${je.message}`,type:"danger",confirmText:"Close",confirmOnly:!0,onConfirm:()=>{}})}}})},ue=async()=>{try{const{data:ne,error:je}=await ee.from("profiles").select("*").neq("id",s?.id||"").order("full_name");if(je)throw je;ne&&N(ne)}catch(ne){console.error("Error fetching profiles:",ne)}},we=async()=>{if(i){q(!0);try{const{data:ne,error:je}=await ee.from("comments").select("*, profiles(full_name, email)").eq("file_id",i.id).order("created_at",{ascending:!1});if(je)throw je;ne&&U(ne)}catch(ne){console.error("Error fetching comments:",ne)}finally{q(!1)}}},Me=$.filter(ne=>ne.full_name.toLowerCase().includes(Ce.toLowerCase())&&!b.includes(ne.id)),si=ne=>{v(je=>je.includes(ne)?je.filter(Be=>Be!==ne):[...je,ne])},Ii=async()=>{if(i?.url){window.open(i.url,"_blank");try{const je=await(await fetch(i.url)).blob(),Be=window.URL.createObjectURL(je),Se=document.createElement("a");Se.href=Be,Se.setAttribute("download",i.name),document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),setTimeout(()=>window.URL.revokeObjectURL(Be),100)}catch(ne){console.error("Error downloading file:",ne)}}},Ma=async()=>{if(ae==="specific"&&b.length===0){ie({isOpen:!0,title:"Selection Required",description:"Please select at least one institutional user to grant specific access.",type:"warning",confirmText:"Select Users",confirmOnly:!0,onConfirm:()=>{}});return}try{const{error:ne}=await ee.from("files").update({visibility:ae,shared_with:ae==="specific"?b:[]}).eq("id",i.id);if(ne)throw ne;ie({isOpen:!0,title:"Accessibility Updated",description:`Permissions sync complete. This asset is now visible to ${{everyone:"everyone in the board",specific:"selected individuals",private:"yourself (Private Vault)"}[ae]}.`,type:"success",confirmText:"Continue",confirmOnly:!0,onConfirm:()=>{}}),te(!1)}catch(ne){console.error("Error updating sharing settings:",ne),ie({isOpen:!0,title:"Sync Failed",description:`Failed to update access controls: ${ne.message||"Check connection"}`,type:"danger",confirmText:"Close",confirmOnly:!0,onConfirm:()=>{}})}},uo=()=>{ie({isOpen:!0,title:"Delete Permanently",description:"Are you sure you want to permanently delete this file? This action cannot be undone.",type:"danger",confirmText:"Delete",onConfirm:async()=>{try{await g(i.id,!0),t()}catch(ne){console.error(ne),ie({isOpen:!0,title:"Purge Failed",description:`Failed to permanently deletes this asset: ${ne.message||"Check connection"}`,type:"danger",confirmText:"Close",confirmOnly:!0,onConfirm:()=>{}})}}})},_n=async(ne,je=null)=>{ne&&ne.preventDefault();const Be=je?C:w;if(!(!Be.trim()||!s||!i)){X(!0);try{const{data:Se,error:ht}=await ee.from("comments").insert([{file_id:i.id,user_id:s.id,content:Be,parent_id:je}]).select("*, profiles(full_name, email)").single();if(ht)throw ht;if(Se){U(ai=>[Se,...ai]);let ft=i.user_id,_t="New Comment on File",Tn=`${o?.full_name||"A board member"} commented on your file "${i.name}".`;if(je){const ai=E.find(Ss=>Ss.id===je);ai&&(ft=ai.user_id,_t="New Reply to your Comment",Tn=`${o?.full_name||"A board member"} replied to your comment on "${i.name}".`)}ft!==s.id&&await c(ft,_t,Tn,"comment")}je?(D(""),A(null)):j("")}catch(Se){console.error("Error adding comment:",Se),ie({isOpen:!0,title:"Remark Failed",description:`Failed to post your remark: ${Se.message||"Check connection"}`,type:"danger",confirmText:"Close",confirmOnly:!0,onConfirm:()=>{}})}finally{X(!1)}}},Ua=[{id:"everyone",label:"Everyone",icon:r.jsx(On,{size:16})},{id:"specific",label:"Specific",icon:r.jsx(ws,{size:16})},{id:"private",label:"Only Me",icon:r.jsx(gs,{size:16})}],Ba=(ne,je=0)=>{const Be=ne.profiles?.full_name?.split(" ").map(ht=>ht[0]).join("").toUpperCase()||"??",Se=je>0;return r.jsx("div",{className:"comment-thread",style:{marginLeft:`${je*24}px`},children:r.jsxs("div",{className:"comment-node",children:[r.jsx("div",{className:"comment-avatar",style:{scale:Se?"0.9":"1"},children:Be}),r.jsxs("div",{className:"comment-bubble",children:[r.jsxs("div",{className:"comment-meta",children:[r.jsx("span",{className:"comment-author",children:ne.profiles?.full_name||"Anonymous"}),r.jsx("span",{className:"comment-time",children:new Date(ne.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),r.jsx("p",{className:"comment-text",children:ne.content}),r.jsx("div",{style:{marginTop:"4px"},children:r.jsx("button",{onClick:()=>A(_===ne.id?null:ne.id),className:"reply-btn",children:_===ne.id?"Cancel":"Reply"})}),_===ne.id&&r.jsxs("form",{onSubmit:ht=>_n(ht,ne.id),style:{marginTop:"8px",display:"flex",gap:"8px"},children:[r.jsx("input",{type:"text",placeholder:"Write a reply...",value:C,onChange:ht=>D(ht.target.value),autoFocus:!0,className:"comment-input",style:{fontSize:"0.8rem",padding:"8px"}}),r.jsx("button",{type:"submit",disabled:!C.trim()||F,className:"comment-submit-btn",style:{width:"32px",height:"32px"},children:F?r.jsx(dt,{size:14,className:"animate-spin"}):r.jsx(fh,{size:14})})]})]})]})},ne.id)},wc=()=>{if(L&&E.length===0)return r.jsx("div",{style:{textAlign:"center",padding:"20px"},children:r.jsx(dt,{className:"animate-spin",size:24,color:"var(--umat-gold)"})});if(E.length===0)return r.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-muted)",fontSize:"0.85rem"},children:"No remarks yet. Start the conversation."});const ne=(Be,Se)=>{const ht=E.filter(ft=>ft.parent_id===Be.id).sort((ft,_t)=>new Date(ft.created_at).getTime()-new Date(_t.created_at).getTime());return r.jsxs("div",{children:[Ba(Be,Se),ht.map(ft=>ne(ft,Se+1))]},Be.id)},je=E.filter(Be=>!Be.parent_id).sort((Be,Se)=>new Date(Se.created_at).getTime()-new Date(Be.created_at).getTime());return r.jsx("div",{children:je.map(Be=>ne(Be,0))})},ho=()=>r.jsxs("div",{style:{animation:"fadeIn 0.2s ease-out"},children:[r.jsxs("div",{className:"fv-section-title",children:[r.jsx(Hx,{size:14})," File Metadata"]}),r.jsxs("div",{className:"fv-meta-grid",children:[r.jsxs("div",{className:"fv-meta-item",children:[r.jsx("span",{className:"fv-meta-label",children:"Format"}),r.jsx("span",{className:"fv-meta-value",children:i.type==="folder"?"Directory":(()=>{const ne=i.name.split(".").pop()?.toLowerCase();return["pdf"].includes(ne||"")?"PDF Document":["doc","docx"].includes(ne||"")?"Word Document":["xls","xlsx","csv"].includes(ne||"")?"Spreadsheet":["ppt","pptx"].includes(ne||"")?"Presentation":["jpg","jpeg","png","gif","svg","webp"].includes(ne||"")?"Image":["mp4","mov","avi","webm"].includes(ne||"")?"Video":["zip","rar","7z"].includes(ne||"")?"Archive":typeof ne=="string"&&ne.length<5?`${ne.toUpperCase()} File`:"Document"})()})]}),r.jsxs("div",{className:"fv-meta-item",children:[r.jsx("span",{className:"fv-meta-label",children:"Size"}),r.jsx("span",{className:"fv-meta-value",children:i.size||"N/A"})]}),r.jsxs("div",{className:"fv-meta-item",children:[r.jsx("span",{className:"fv-meta-label",children:"Date Modified"}),r.jsx("span",{className:"fv-meta-value",children:i.updated_at?new Date(i.updated_at).toLocaleDateString():"N/A"})]}),r.jsxs("div",{className:"fv-meta-item",children:[r.jsx("span",{className:"fv-meta-label",children:"Owner"}),r.jsx("span",{className:"fv-meta-value",children:i.uploader_name})]})]}),r.jsxs("div",{className:"fv-section-title",children:[r.jsx(hn,{size:14})," Actions & Security"]}),r.jsxs("div",{className:"fv-actions-grid",children:[r.jsxs("div",{className:"fv-action-card",onClick:Ii,children:[r.jsx(so,{size:20,color:"var(--umat-green)"}),r.jsx("span",{children:"Download"})]}),r.jsxs("div",{className:"fv-action-card",onClick:()=>m("history"),children:[r.jsx($l,{size:20,color:"var(--umat-gold)"}),r.jsx("span",{children:"History"})]}),r.jsxs("div",{className:"fv-action-card",onClick:()=>d(!0),children:[r.jsx(Kx,{size:20,color:"var(--umat-navy)"}),r.jsx("span",{children:"Ask AI"})]}),r.jsxs("div",{className:"fv-action-card",onClick:()=>te(!0),children:[r.jsx(af,{size:20,color:"#0EA5E9"}),r.jsx("span",{children:"Share"})]})]}),z&&r.jsxs("div",{className:"glass-card access-control-card",style:{marginBottom:"20px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[r.jsx("h4",{style:{margin:0,fontSize:"0.85rem",fontWeight:700},children:"Access Settings"}),r.jsx("button",{onClick:()=>te(!1),style:{background:"none",border:"none",cursor:"pointer"},children:r.jsx(Xt,{size:14})})]}),r.jsx("div",{style:{display:"flex",gap:"6px",marginBottom:"16px"},children:Ua.map(ne=>r.jsxs("div",{onClick:()=>ye(ne.id),className:`access-option ${ae===ne.id?"active":""}`,children:[r.jsx("div",{style:{color:ae===ne.id?"white":"var(--text-muted)",display:"flex",justifyContent:"center"},children:ne.icon}),r.jsx("p",{style:{fontSize:"0.65rem",fontWeight:600,margin:"4px 0 0 0",color:ae===ne.id?"white":"var(--text-muted)"},children:ne.label})]},ne.id))}),ae==="specific"&&r.jsxs(r.Fragment,{children:[r.jsx("input",{type:"text",placeholder:"Search users...",value:Ce,onChange:ne=>Q(ne.target.value),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"8px",borderRadius:"8px",color:"var(--text-main)",marginBottom:"12px",outline:"none",fontSize:"0.85rem"}}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginBottom:b.length>0?"12px":"0"},children:b.map(ne=>{const je=$.find(Be=>Be.id===ne);return r.jsxs("span",{style:{padding:"2px 8px",borderRadius:"15px",background:"var(--umat-green)",fontSize:"0.7rem",color:"white",display:"flex",alignItems:"center",gap:"4px"},children:[je?je.full_name.split(" ")[0]:"Unknown"," ",r.jsx(Xt,{size:10,onClick:()=>si(ne),style:{cursor:"pointer"}})]},ne)})}),Ce&&r.jsx("div",{style:{maxHeight:"120px",overflowY:"auto",marginBottom:"16px"},children:Me.map(ne=>r.jsxs("div",{onClick:()=>si(ne.id),style:{padding:"8px",borderRadius:"6px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",background:"var(--bg-modal)",marginBottom:"4px"},children:[r.jsx("p",{style:{margin:0,fontSize:"0.8rem"},children:ne.full_name}),r.jsx(_a,{size:12,color:"var(--umat-green)"})]},ne.id))})]}),r.jsxs("button",{className:"btn-primary",style:{width:"100%",justifyContent:"center",fontSize:"0.8rem",marginTop:"8px",padding:"10px"},onClick:Ma,children:[r.jsx(ms,{size:14,style:{marginRight:"8px"}})," Update Access"]})]}),(y||i.user_id===s?.id)&&r.jsx("div",{style:{marginTop:"32px",paddingTop:"20px",borderTop:"1px solid var(--glass-border)"},children:r.jsxs("button",{onClick:uo,style:{color:"#ef4444",fontSize:"0.85rem",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",cursor:"pointer",width:"100%"},children:[r.jsx(ys,{size:16})," Delete Permanently"]})})]}),La=()=>r.jsxs("div",{style:{animation:"fadeIn 0.2s ease-out",display:"flex",flexDirection:"column",height:"100%"},children:[r.jsxs("div",{className:"fv-section-title",children:[r.jsx(nf,{size:14})," Discussion Thread"]}),r.jsxs("form",{onSubmit:ne=>_n(ne),className:"comment-input-wrapper",children:[r.jsx("input",{type:"text",placeholder:"Add a remark...",value:w,onChange:ne=>j(ne.target.value),className:"comment-input"}),r.jsx("button",{type:"submit",disabled:!w.trim()||F,className:"comment-submit-btn",children:F?r.jsx(dt,{size:18,className:"animate-spin"}):r.jsx(fh,{size:18})})]}),r.jsx("div",{style:{flex:1,overflowY:"auto"},children:wc()})]}),Ia=()=>r.jsxs("div",{style:{animation:"fadeIn 0.2s ease-out"},children:[r.jsxs("div",{className:"fv-section-title",style:{justifyContent:"space-between"},children:[r.jsxs("span",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[r.jsx($l,{size:14})," Version Control"]}),(y||i.user_id===s?.id)&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>O.current?.click(),disabled:re,style:{background:"none",border:"none",color:"var(--umat-green)",cursor:"pointer",fontSize:"0.7rem",fontWeight:700},children:re?"UPLOADING...":"+ UPLOAD NEW"}),r.jsx("input",{type:"file",ref:O,style:{display:"none"},onChange:Y})]})]}),r.jsxs("div",{className:"versions-list",children:[r.jsxs("div",{className:"fv-version-item current",children:[r.jsxs("div",{children:[r.jsxs("h4",{style:{margin:"0 0 4px 0",fontSize:"0.9rem",color:"var(--umat-green)"},children:["v",(k.length||0)+1,".0 (Current)"]}),r.jsx("span",{className:"version-date",children:"Top-of-trunk  Now"})]}),r.jsx("span",{style:{fontSize:"0.65rem",fontWeight:700,color:"var(--umat-green)",textTransform:"uppercase",padding:"2px 6px",background:"rgba(0,104,55,0.1)",borderRadius:"4px"},children:"Active"})]}),k.map(ne=>r.jsxs("div",{className:"fv-version-item",children:[r.jsxs("div",{children:[r.jsxs("h4",{style:{margin:"0 0 4px 0",fontSize:"0.9rem"},children:["v",ne.version_number,".0"]}),r.jsxs("span",{className:"version-date",children:[new Date(ne.created_at).toLocaleDateString()," by ",ne.uploaded_by===s?.id?"You":"User"]})]}),(y||i.user_id===s?.id)&&r.jsx("button",{onClick:()=>le(ne),className:"restore-btn",children:"Restore"})]},ne.id)),k.length===0&&r.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[r.jsx($l,{size:32,style:{opacity:.2,marginBottom:"12px"}}),r.jsx("p",{style:{fontSize:"0.8rem",fontStyle:"italic"},children:"No previous versions archived."})]})]})]});return r.jsxs("div",{className:"main-content",style:{animation:"fadeIn 0.3s ease-out"},children:[r.jsx("div",{className:"file-detail-header",children:r.jsx("h1",{style:{fontSize:"1.5rem",margin:0},children:"File Viewer"})}),r.jsxs("div",{className:"file-viewer-container",children:[r.jsxs("div",{className:"file-viewer-main",children:[r.jsxs("div",{className:"file-viewer-toolbar",children:[r.jsxs("div",{className:"fv-breadcrumbs",children:[r.jsx("button",{onClick:t,className:"fv-back-btn",children:r.jsx(io,{size:18})}),r.jsx("div",{className:"fv-filename",children:i.name})]}),r.jsx("div",{})]}),r.jsx("div",{className:"preview-container",children:r.jsx(EE,{file:i,onDownload:Ii})}),u&&r.jsx(RE,{fileId:i.id,fileName:i.name,onClose:()=>d(!1)})]}),r.jsxs("div",{className:"file-viewer-sidebar",children:[r.jsxs("div",{className:"fv-tabs",children:[r.jsx("button",{className:`fv-tab-btn ${p==="details"?"active":""}`,onClick:()=>m("details"),children:"Details"}),r.jsx("button",{className:`fv-tab-btn ${p==="comments"?"active":""}`,onClick:()=>m("comments"),children:"Discussion"}),r.jsx("button",{className:`fv-tab-btn ${p==="history"?"active":""}`,onClick:()=>m("history"),children:"History"})]}),r.jsxs("div",{className:"fv-tab-content",children:[p==="details"&&ho(),p==="comments"&&La(),p==="history"&&Ia()]})]})]}),r.jsx(fn,{isOpen:G.isOpen,onClose:()=>ie(ne=>({...ne,isOpen:!1})),onConfirm:G.onConfirm,title:G.title,description:G.description,type:G.type,confirmText:G.confirmText,confirmOnly:G.confirmOnly})]})},Z1=T.createContext(void 0),OE=({children:i})=>{const[t,s]=T.useState(()=>localStorage.getItem("theme")||"light");T.useEffect(()=>{localStorage.setItem("theme",t),document.documentElement.setAttribute("data-theme",t),document.body.style.backgroundColor=t==="dark"?"#07090d":"#f8fafc"},[t]);const o=()=>{s(u=>u==="light"?"dark":"light")},c=u=>{s(u)};return r.jsx(Z1.Provider,{value:{theme:t,toggleTheme:o,setTheme:c},children:i})},eb=()=>{const i=T.useContext(Z1);if(i===void 0)throw new Error("useTheme must be used within a ThemeProvider");return i},Pl=({onUploadClick:i,setActiveTab:t})=>{const{theme:s,toggleTheme:o}=eb(),{recentItems:c,loading:u,fetchRecentFiles:d}=js(),{meetings:p,fetchMeetings:m}=xc(),{notifications:g,unreadCount:y,markAsRead:b,markAllAsRead:v}=ii(),{profile:w}=kt(),[j,_]=T.useState(""),[A,C]=T.useState(null),[D,E]=T.useState(!1),[U,L]=T.useState({isOpen:!1,title:"",description:"",onConfirm:()=>{},type:"question",confirmOnly:!1}),q=T.useRef(null);T.useEffect(()=>{const Q=$=>{q.current&&!q.current.contains($.target)&&E(!1)};return D&&document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[D]),T.useEffect(()=>{d(),m()},[w]);const F=p.filter(Q=>Q.status==="Upcoming"),X=[...F].sort((Q,$)=>new Date(Q.date+" "+Q.start_time).getTime()-new Date($.date+" "+$.start_time).getTime()).slice(0,3),z=[{label:"Cloud Documents",count:c.length.toString(),icon:r.jsx(un,{size:24}),trend:"Synchronized",color:"var(--umat-green)",tab:"All Files"},{label:"Upcoming Governance",count:F.length.toString(),icon:r.jsx(Zn,{size:24}),trend:"Scheduled Sessions",color:"var(--umat-gold)",tab:"Meetings"},{label:"Portal Security",count:"Active",icon:r.jsx(lc,{size:24}),trend:"End-to-End",color:"var(--umat-navy)",tab:"Dashboard"}],te=c.filter(Q=>Q.name.toLowerCase().includes(j.toLowerCase())),ae=()=>{t("Meetings")},ye=()=>{const Q=new Date().getHours();return Q<12?"Good Morning":Q<18?"Good Afternoon":"Good Evening"},Ce=()=>{if(!w?.full_name)return"Board Member";const Q=w.full_name.trim().split(/\s+/);return Q.length<=2?w.full_name:`${Q[0]} ${Q[Q.length-1]}`};return A?r.jsx(vc,{file:A,onBack:()=>C(null)}):r.jsxs("div",{className:"main-content",style:{paddingBottom:"60px"},children:[r.jsx("header",{style:{marginBottom:"40px",position:"relative"},children:r.jsxs("div",{className:"header-flexbox",children:[r.jsxs(ge.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"profile-greeting-container",children:[r.jsxs("div",{style:{position:"relative"},children:[r.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"20px",background:"linear-gradient(135deg, var(--umat-navy) 0%, var(--umat-green) 100%)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",border:"2px solid var(--umat-gold)",boxShadow:"0 10px 20px rgba(0, 107, 63, 0.2)"},children:w?.avatar_url?r.jsx("img",{src:w.avatar_url,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):r.jsx("span",{style:{fontSize:"1.5rem",fontWeight:800,color:"white"},children:(w?.full_name||"U").charAt(0)})}),r.jsx("div",{style:{position:"absolute",bottom:-2,right:-2,width:"18px",height:"18px",background:"#10b981",borderRadius:"50%",border:"3px solid var(--bg-card)"}})]}),r.jsxs("div",{children:[r.jsxs("h1",{className:"playfair",style:{fontSize:"2rem",margin:0},children:[ye(),", ",r.jsx("span",{className:"text-gradient",children:Ce()})]}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.05rem",margin:"4px 0 0 0",fontWeight:500},children:"Welcome to your board portal command center."})]})]}),r.jsxs("div",{className:"header-actions",children:[r.jsxs("div",{className:"glass-card search-container",children:[r.jsx(Sn,{size:18,color:"var(--text-muted)"}),r.jsx("input",{type:"text",placeholder:"Search...",value:j,onChange:Q=>_(Q.target.value),className:"search-input"})]}),r.jsxs("div",{style:{display:"flex",gap:"12px"},children:[r.jsx("div",{className:"theme-toggle-wrapper",children:r.jsx(ge.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"glass-card action-btn",onClick:o,children:s==="light"?r.jsx(Fx,{size:20,color:"var(--text-main)"}):r.jsx(Xx,{size:20,color:"var(--text-main)"})})}),r.jsxs("div",{style:{position:"relative"},ref:q,children:[r.jsxs(ge.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"glass-card action-btn",onClick:()=>E(!D),children:[r.jsx(Kl,{size:20,color:"var(--text-main)"}),y>0&&r.jsx("span",{className:"notif-dot"})]}),r.jsx(xs,{children:D&&r.jsxs(ge.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"glass-card",style:{position:"absolute",top:"60px",right:"0",width:"340px",maxHeight:"450px",overflowY:"auto",zIndex:100,background:"var(--bg-card)",padding:0,boxShadow:"0 30px 60px -12px rgba(0, 0, 0, 0.4)"},children:[r.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid var(--glass-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("h4",{style:{margin:0,fontSize:"1rem"},children:"Alert Center"}),y>0&&r.jsx("button",{onClick:Q=>{Q.stopPropagation(),v()},style:{background:"none",border:"none",color:"var(--umat-gold)",fontSize:"0.8rem",cursor:"pointer",fontWeight:600},children:"Clear All"})]}),r.jsx("div",{style:{padding:"10px"},children:g.length===0?r.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:"var(--text-muted)"},children:[r.jsx(Kl,{size:32,style:{opacity:.2,marginBottom:"12px"}}),r.jsx("p",{style:{margin:0,fontSize:"0.9rem"},children:"No new alerts."})]}):g.map(Q=>r.jsxs("div",{onClick:()=>b(Q.id),style:{padding:"16px",borderRadius:"12px",marginBottom:"8px",background:Q.is_read?"transparent":"rgba(251, 191, 36, 0.05)",cursor:"pointer",transition:"all 0.2s ease",border:Q.is_read?"1px solid transparent":"1px solid rgba(251, 191, 36, 0.1)"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[r.jsx("h5",{style:{margin:0,fontSize:"0.9rem",color:Q.is_read?"var(--text-main)":"var(--umat-gold)"},children:Q.title}),r.jsx(jn,{size:12,color:"var(--text-muted)"})]}),r.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-muted)",lineHeight:1.5},children:Q.message})]},Q.id))})]})})]}),r.jsxs("button",{className:"btn-primary",onClick:i,style:{padding:"12px 24px",borderRadius:"12px"},children:[r.jsx(_a,{size:20}),r.jsx("span",{children:"Contribute File"})]})]})]})]})}),r.jsx("section",{className:"stats-grid-container",children:z.map((Q,$)=>r.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$*.1},className:"glass-card shadow-hover",style:{padding:"32px",cursor:"pointer",background:"linear-gradient(135deg, var(--bg-card) 0%, rgba(255,255,255,0.02) 100%)",position:"relative",overflow:"hidden"},onClick:()=>t(Q.tab),children:[r.jsx("div",{style:{position:"absolute",top:"-20px",right:"-20px",width:"100px",height:"100px",background:`${Q.color}08`,borderRadius:"50%"}}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"24px"},children:[r.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:`${Q.color}15`,display:"flex",alignItems:"center",justifyContent:"center",color:Q.color,boxShadow:`0 8px 16px ${Q.color}10`},children:Q.icon}),r.jsxs("div",{children:[r.jsx("p",{style:{color:"var(--text-muted)",margin:0,fontSize:"0.85rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"1px"},children:Q.label}),r.jsx("h3",{className:"playfair",style:{fontSize:"2rem",margin:"4px 0 0 0"},children:Q.count})]})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.8rem",color:"var(--text-muted)"},children:[r.jsx(ms,{size:14,color:"#10b981"}),Q.trend]})]},$))}),r.jsxs("section",{className:"dashboard-layout-grid",children:[r.jsxs(ge.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"glass-card",style:{padding:"0",overflow:"hidden"},children:[r.jsxs("div",{style:{padding:"32px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid var(--glass-border)"},children:[r.jsxs("div",{children:[r.jsx("h3",{className:"playfair",style:{fontSize:"1.5rem",margin:0},children:"Recent Activity"}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem",margin:"4px 0 0 0"},children:"Latest contributions across the university board"})]}),r.jsx("button",{onClick:()=>t("All Files"),className:"btn-outline",style:{padding:"8px 16px",fontSize:"0.85rem"},children:"View All"})]}),r.jsxs("div",{className:"responsive-table",style:{padding:"0 16px"},children:[r.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"0 8px"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{textAlign:"left"},children:[r.jsx("th",{style:{padding:"16px 20px",color:"var(--text-muted)",fontWeight:600,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Document Name"}),r.jsx("th",{style:{padding:"16px 20px",color:"var(--text-muted)",fontWeight:600,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Author"}),r.jsx("th",{style:{padding:"16px 20px",color:"var(--text-muted)",fontWeight:600,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Date"}),r.jsx("th",{style:{padding:"16px 20px"}})]})}),r.jsx("tbody",{children:te.slice(0,6).map((Q,$)=>r.jsxs(ge.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5+$*.05},className:"table-row-premium",style:{cursor:"pointer"},onClick:()=>C(Q),children:[r.jsx("td",{style:{padding:"16px 20px",borderRadius:"12px 0 0 12px"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[r.jsx("div",{style:{padding:"10px",borderRadius:"10px",background:"rgba(255,255,255,0.03)",border:"1px solid var(--glass-border)"},children:r.jsx(Bi,{name:Q.name,size:22})}),r.jsxs("div",{children:[r.jsx("p",{style:{margin:0,fontWeight:600,fontSize:"0.95rem"},children:Q.name}),r.jsxs("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--text-muted)"},children:[Q.category,"  ",Q.size]})]})]})}),r.jsx("td",{style:{padding:"16px 20px"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[r.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"var(--umat-navy)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",color:"white",fontWeight:"bold",border:"1px solid var(--umat-gold)",overflow:"hidden"},children:Q.uploader_avatar?r.jsx("img",{src:Q.uploader_avatar,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):Q.uploader_name?.charAt(0)}),r.jsx("span",{style:{fontSize:"0.9rem",fontWeight:500},children:Q.uploader_name})]})}),r.jsx("td",{style:{padding:"16px 20px",color:"var(--text-muted)",fontSize:"0.9rem"},children:new Date(Q.updated_at).toLocaleDateString()}),r.jsx("td",{style:{padding:"16px 20px",textAlign:"right",borderRadius:"0 12px 12px 0"},children:r.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(16, 185, 129, 0.1)",color:"#10b981",borderRadius:"20px",fontSize:"0.75rem",fontWeight:600},children:[r.jsx(hn,{size:12})," SECURE"]})})]},$))})]}),u&&r.jsxs("div",{style:{padding:"60px",textAlign:"center"},children:[r.jsx(dt,{className:"spinning",size:32,color:"var(--umat-gold)"}),r.jsx("p",{style:{color:"var(--text-muted)",marginTop:"16px",fontSize:"0.9rem"},children:"Indexing resources..."})]}),!u&&te.length===0&&r.jsxs("div",{style:{padding:"60px",textAlign:"center"},children:[r.jsx(Sn,{size:48,style:{opacity:.1,marginBottom:"16px"}}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1rem"},children:"No documents found matching your criteria."})]})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:[r.jsxs(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"glass-card",style:{padding:"32px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[r.jsx("h3",{className:"playfair",style:{fontSize:"1.25rem",margin:0},children:"Board Meetings"}),r.jsx("span",{style:{fontSize:"0.8rem",color:"var(--umat-gold)",fontWeight:600},children:new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})})]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:X.length===0?r.jsx("div",{style:{textAlign:"center",padding:"20px",background:"rgba(255,255,255,0.02)",borderRadius:"16px"},children:r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem",margin:0},children:"No upcoming agendas."})}):X.map(Q=>r.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"flex-start"},children:[r.jsxs("div",{style:{minWidth:"54px",height:"64px",background:"var(--bg-card)",borderRadius:"16px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"1px solid var(--glass-border)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[r.jsx("span",{style:{fontSize:"0.7rem",color:"var(--umat-gold)",fontWeight:800,textTransform:"uppercase"},children:new Date(Q.date).toLocaleString("default",{month:"short"})}),r.jsx("span",{style:{fontSize:"1.4rem",fontWeight:900,color:"var(--text-main)",lineHeight:1},children:new Date(Q.date).getDate()}),r.jsx("span",{style:{fontSize:"0.6rem",color:"var(--text-muted)",fontWeight:600},children:new Date(Q.date).getFullYear()})]}),r.jsxs("div",{style:{flex:1},children:[r.jsx("h4",{style:{fontSize:"0.95rem",margin:"0 0 6px 0",fontWeight:700,lineHeight:1.4},children:Q.title}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[r.jsxs("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(jn,{size:12})," ",Q.start_time]}),r.jsxs("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(_a,{size:12})," ",Q.location]})]})]})]},Q.id))}),r.jsx("button",{className:"btn-outline",style:{width:"100%",marginTop:"32px",borderRadius:"12px"},onClick:ae,children:"Institutional Calendar"})]}),r.jsxs(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"glass-card",style:{padding:"32px",background:"linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(0,0,0,0.1))",border:"1px solid rgba(251, 191, 36, 0.2)"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[r.jsx("h3",{className:"playfair",style:{fontSize:"1.2rem",margin:0},children:"Meeting Hub"}),r.jsxs("div",{style:{padding:"4px 12px",background:"var(--umat-gold)",color:"var(--bg-dark)",borderRadius:"20px",fontSize:"0.75rem",fontWeight:800},children:[F.length," PENDING"]})]}),r.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",margin:"0 0 24px 0",lineHeight:1.6},children:"Initiate a new board session or synchronize existing agendas across the registry."}),r.jsxs("button",{className:"btn-primary",style:{width:"100%",justifyContent:"center",background:"var(--umat-navy)",borderRadius:"12px"},onClick:()=>t("Meetings"),children:[r.jsx(_a,{size:18})," Schedule Session"]})]})]})]}),r.jsx(fn,{isOpen:U.isOpen,onClose:()=>L(Q=>({...Q,isOpen:!1})),onConfirm:U.onConfirm,title:U.title,description:U.description,type:U.type,confirmText:U.confirmText,confirmOnly:U.confirmOnly}),r.jsx("style",{children:`
                .header-flexbox {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    width: 100%;
                    gap: 24px;
                }
                .profile-greeting-container {
                    display: flex;
                    align-items: center;
                    gap: 24px;
                    min-width: 0;
                }
                .profile-greeting-container div:last-child {
                    min-width: 0;
                }
                .profile-greeting-container h1 {
                    display: block;
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                }
                .header-actions {
                    display: flex;
                    align-items: center;
                    gap: 16px;
                    flex-shrink: 0;
                }
                .search-container {
                    padding: 10px 20px;
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    background: var(--bg-card);
                    box-shadow: none;
                    border: 1px solid var(--glass-border);
                }
                .search-input {
                    background: none;
                    border: none;
                    color: var(--text-main);
                    outline: none;
                    width: 220px;
                    font-size: 0.95rem;
                }
                .action-btn {
                    width: 48px;
                    height: 48px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    cursor: pointer;
                    background: var(--bg-card);
                    color: var(--text-main);
                    position: relative;
                }
                .notif-dot {
                    position: absolute;
                    top: 10px;
                    right: 10px;
                    background: var(--umat-gold);
                    width: 10px;
                    height: 10px;
                    border-radius: 50%;
                    border: 2px solid var(--bg-card);
                }
                .stats-grid-container {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                    gap: 24px;
                    margin-bottom: 40px;
                }
                .dashboard-layout-grid {
                    display: grid;
                    grid-template-columns: minmax(600px, 3fr) 340px;
                    gap: 32px;
                }
                .responsive-table {
                    width: 100%;
                    overflow-x: auto;
                    -webkit-overflow-scrolling: touch;
                }
                .responsive-table table {
                    min-width: 600px;
                    width: 100%;
                }
                @media (max-width: 1600px) {
                    .dashboard-layout-grid {
                        grid-template-columns: 1fr;
                    }
                }

                @media (max-width: 768px) {
                    .header-flexbox {
                        flex-direction: column;
                        align-items: flex-start;
                        gap: 24px;
                    }
                    .header-actions {
                        width: 100%;
                        justify-content: flex-start;
                        flex-wrap: wrap;
                    }
                    .search-container {
                        width: 100%;
                    }
                    .search-input {
                        width: 100%;
                    }
                    .stats-grid-container {
                        grid-template-columns: 1fr;
                    }
                    .profile-greeting-container h1 {
                        font-size: 1.5rem !important;
                        white-space: normal;
                    }
                    .profile-greeting-container p {
                        font-size: 0.9rem !important;
                    }
                }

                @media (max-width: 480px) {
                    .profile-greeting-container {
                        gap: 16px;
                    }
                    .profile-greeting-container .avatar-wrapper {
                        width: 48px !important;
                        height: 48px !important;
                    }
                }

                .table-row-premium {
                    transition: all 0.2s ease;
                }
                .table-row-premium:hover {
                    background: rgba(255, 255, 255, 0.03) !important;
                    transform: translateX(4px);
                }
                
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
                .spinning {
                    animation: spin 1s linear infinite;
                }
            `})]})},tb=({isOpen:i,onClose:t,uploadTo:s,targetFolderId:o=null})=>{const{uploadFile:c}=js(),{user:u}=kt(),{createNotification:d}=ii(),[p,m]=T.useState([]),[g,y]=T.useState(!1),[b,v]=T.useState("General Board Documents"),[w,j]=T.useState(!1),[_,A]=T.useState("everyone"),[C,D]=T.useState([]),[E,U]=T.useState(""),[L,q]=T.useState([]),[F,X]=T.useState(o),[z,te]=T.useState(s||"Root Repository"),[ae,ye]=T.useState([]),[Ce,Q]=T.useState({isOpen:!1,title:"",description:"",onConfirm:()=>{},type:"info",confirmOnly:!1});T.useEffect(()=>{i||(m([]),j(!1),v("General Board Documents"),U(""),D([]),A("everyone"),Q(Y=>({...Y,isOpen:!1})))},[i]),T.useEffect(()=>{X(o),te(s||"Root Repository")},[o,s,i]),T.useEffect(()=>{i&&(async()=>{if(u)try{const{data:le,error:ue}=await ee.from("files").select("id, name").eq("type","folder").eq("is_deleted",!1).or(`user_id.eq.${u.id},visibility.eq.everyone,shared_with.cs.{${u.id}}`);if(ue)throw ue;le&&ye(le)}catch(le){console.error("Error fetching folders",le)}})()},[i,u]),T.useEffect(()=>{i&&u&&(async()=>{try{const{data:le,error:ue}=await ee.from("profiles").select("*").neq("id",u?.id||"").order("full_name");if(ue)throw ue;le&&q(le)}catch(le){console.error("Error fetching profiles",le)}})()},[i,u]);const $=L.filter(Y=>Y.full_name.toLowerCase().includes(E.toLowerCase())&&!C.some(le=>le.id===Y.id)),N=(Y,le)=>{D(ue=>ue.some(we=>we.id===Y)?ue.filter(we=>we.id!==Y):[...ue,{id:Y,name:le}])},k=T.useCallback(Y=>{Y.preventDefault(),Y.stopPropagation(),Y.type==="dragenter"||Y.type==="dragover"?y(!0):Y.type==="dragleave"&&y(!1)},[]),W=50*1024*1024,re=[".exe",".bat",".cmd",".sh",".php",".pl",".py",".js",".vbs",".msi"],he=Y=>{if(!Y)return;const le=[],ue=[];Array.from(Y).forEach(we=>{if(we.size>W){ue.push(`${we.name} (Too large, max 50MB)`);return}const Me="."+we.name.split(".").pop()?.toLowerCase();if(re.includes(Me)){ue.push(`${we.name} (File type not allowed)`);return}le.push({id:Math.random().toString(36).substr(2,9),file:we,progress:0,status:"pending"})}),ue.length>0&&Q({isOpen:!0,title:"Security Sync Blocked",description:`The following assets were rejected by institutional security scan:

${ue.join(`
`)}`,type:"warning",confirmText:"Acknowledge",confirmOnly:!0,onConfirm:()=>{}}),m(we=>[...we,...le])},O=T.useCallback(Y=>{Y.preventDefault(),Y.stopPropagation(),y(!1),he(Y.dataTransfer.files)},[]),G=async()=>{j(!0);try{for(const Y of p){m(ue=>ue.map(we=>we.id===Y.id?{...we,status:"uploading"}:we));const le=C.map(ue=>ue.id);await c(Y.file,F,b,_,le,ue=>{m(we=>we.map(Me=>Me.id===Y.id?{...Me,progress:ue}:Me))}),m(ue=>ue.map(we=>we.id===Y.id?{...we,status:"completed",progress:100}:we))}u&&p.length>0&&await d(u.id,"Files Uploaded Successfully",`${p.length} documents have been uploaded and secured in ${z}.`,"file"),setTimeout(()=>{t()},800)}catch(Y){console.error(Y),Q({isOpen:!0,title:"Transmission Failed",description:`Failed to synchronize assets with institutional storage: ${Y.message||"Check connection"}`,type:"danger",confirmText:"Retry Later",confirmOnly:!0,onConfirm:()=>{}})}finally{j(!1)}},ie=Y=>{m(le=>le.filter(ue=>ue.id!==Y))};if(!i)return null;const oe=[{id:"everyone",label:"Everyone",icon:r.jsx(On,{size:18}),desc:"All board members"},{id:"specific",label:"Specific",icon:r.jsx(ws,{size:18}),desc:"Select individuals"},{id:"private",label:"Only Me",icon:r.jsx(gs,{size:18}),desc:"Private vault"}];return r.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,animation:"fadeIn 0.3s ease-out"},children:[r.jsxs("div",{className:"glass-card modal-content-responsive",style:{animation:"slideUp 0.4s ease-out"},children:[r.jsx("button",{onClick:t,style:{position:"absolute",top:"20px",right:"20px",background:"none",color:"var(--text-muted)"},children:r.jsx(Xt,{size:24})}),r.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:"8px"},children:"Upload Institutional Files"}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"32px"},children:[r.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Destination:"}),r.jsxs("div",{style:{position:"relative",flex:1,maxWidth:"300px"},children:[r.jsxs("select",{value:F||"",onChange:Y=>{const le=Y.target.value||null;X(le),te(le?ae.find(ue=>ue.id===le)?.name||"Folder":"Root Repository")},style:{width:"100%",background:"rgba(0, 104, 55, 0.1)",border:"none",color:"var(--umat-green)",padding:"8px 36px 8px 16px",borderRadius:"8px",fontSize:"0.9rem",fontWeight:700,outline:"none",appearance:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Root Repository"}),ae.map(Y=>r.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),r.jsx(Hr,{size:14,style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",color:"var(--umat-green)"}})]}),w&&r.jsx(dt,{size:14,className:"animate-spin",color:"var(--umat-green)"})]}),r.jsxs("div",{className:"upload-form-grid",children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"var(--text-muted)",marginBottom:"12px",textTransform:"uppercase"},children:"Target Category"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsxs("select",{value:b,onChange:Y=>v(Y.target.value),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",color:"var(--text-main)",padding:"12px 16px",borderRadius:"10px",outline:"none",appearance:"none"},children:[r.jsx("option",{children:"General Board Documents"}),r.jsx("option",{children:"Meeting Minutes"}),r.jsx("option",{children:"Financial Reports"}),r.jsx("option",{children:"Curriculum Review"}),r.jsx("option",{children:"Research Proposals"})]}),r.jsx(Hr,{size:18,style:{position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",color:"var(--text-muted)"}})]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"var(--text-muted)",marginBottom:"12px",textTransform:"uppercase"},children:"Who can see this?"}),r.jsx("div",{style:{display:"flex",gap:"8px"},children:oe.map(Y=>r.jsxs("div",{onClick:()=>A(Y.id),style:{flex:1,padding:"10px",borderRadius:"10px",background:_===Y.id?"rgba(0, 107, 63, 0.1)":"var(--glass)",border:_===Y.id?"1px solid var(--umat-green)":"1px solid var(--glass-border)",cursor:"pointer",textAlign:"center",transition:"all 0.2s"},children:[r.jsx("div",{style:{color:_===Y.id?"var(--umat-green)":"var(--text-muted)",marginBottom:"4px"},children:Y.icon}),r.jsx("p",{style:{fontSize:"0.75rem",fontWeight:600,margin:0},children:Y.label})]},Y.id))})]})]}),_==="specific"&&r.jsxs("div",{className:"glass-card",style:{padding:"20px",background:"rgba(255,255,255,0.02)",marginBottom:"32px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[r.jsx("h4",{style:{margin:0,fontSize:"0.9rem"},children:"Select Institutional Users"}),r.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:[C.length," selected"]})]}),r.jsx("input",{type:"text",placeholder:"Search by name or role...",value:E,onChange:Y=>U(Y.target.value),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"10px",borderRadius:"8px",color:"var(--text-main)",marginBottom:"12px",outline:"none",cursor:"text"}}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:C.length>0?"12px":"0"},children:C.map(Y=>r.jsxs("span",{style:{padding:"4px 12px",borderRadius:"20px",background:"var(--umat-green)",fontSize:"0.75rem",color:"white",display:"flex",alignItems:"center",gap:"6px"},children:[Y.name," ",r.jsx(Xt,{size:12,onClick:()=>N(Y.id,Y.name),style:{cursor:"pointer"}})]},Y.id))}),E&&$.length>0&&r.jsx("div",{style:{maxHeight:"120px",overflowY:"auto",borderTop:"1px solid var(--glass-border)",paddingTop:"8px"},children:$.map(Y=>r.jsxs("div",{onClick:()=>N(Y.id,Y.full_name),style:{padding:"8px",borderRadius:"6px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},className:"shadow-hover",children:[r.jsxs("div",{children:[r.jsx("p",{style:{margin:0,fontSize:"0.85rem"},children:Y.full_name}),r.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"var(--text-muted)"},children:Y.role})]}),r.jsx(_a,{size:14,color:"var(--umat-gold)"})]},Y.id))})]}),r.jsxs("div",{onDragEnter:k,onDragLeave:k,onDragOver:k,onDrop:O,style:{border:`2px dashed ${g?"var(--umat-gold)":"var(--glass-border)"}`,borderRadius:"16px",padding:"40px",textAlign:"center",background:g?"rgba(251, 191, 36, 0.05)":"var(--glass)",transition:"all 0.3s ease",cursor:"pointer",marginBottom:"32px"},onClick:()=>document.getElementById("file-upload")?.click(),children:[r.jsx("input",{id:"file-upload",type:"file",multiple:!0,style:{display:"none"},onChange:Y=>he(Y.target.files)}),r.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:"rgba(0, 107, 63, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px auto"},children:r.jsx(Xl,{size:24,color:"var(--umat-green)"})}),r.jsx("h3",{style:{fontSize:"1rem",marginBottom:"4px"},children:"Click or Drop files here"}),r.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Security scan will be performed on upload"})]}),p.length>0&&r.jsx("div",{style:{maxHeight:"180px",overflowY:"auto",paddingRight:"10px",marginBottom:"32px"},children:p.map(Y=>r.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",padding:"12px 16px",marginBottom:"10px",display:"flex",alignItems:"center",gap:"16px",border:"1px solid var(--glass-border)"},children:[r.jsx(un,{size:18,color:"var(--umat-green)"}),r.jsxs("div",{style:{flex:1},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[r.jsx("span",{style:{fontSize:"0.85rem",fontWeight:500},children:Y.file.name.length>30?Y.file.name.substring(0,30)+"...":Y.file.name}),r.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:[Math.round(Y.progress),"%"]})]}),r.jsx("div",{style:{height:"3px",background:"var(--glass-border)",borderRadius:"10px"},children:r.jsx("div",{style:{width:`${Y.progress}%`,height:"100%",background:Y.status==="completed"?"#10b981":"var(--umat-gold)",borderRadius:"10px",transition:"width 0.3s ease"}})})]}),Y.status==="completed"?r.jsx(ms,{size:18,color:"#10b981"}):r.jsx("button",{onClick:()=>ie(Y.id),disabled:w,style:{background:"none",border:"none",color:"rgba(239, 68, 68, 0.6)",cursor:"pointer"},children:r.jsx(ys,{size:16})})]},Y.id))}),r.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"16px",marginTop:"32px"},children:[r.jsx("button",{className:"btn-outline",onClick:t,disabled:w,children:"Cancel"}),r.jsx("button",{className:"btn-primary",disabled:p.length===0||w,onClick:G,style:{opacity:p.length===0||w?.6:1},children:w?r.jsx(dt,{className:"animate-spin",size:20}):`Upload ${p.length} ${p.length===1?"Asset":"Assets"}`})]})]}),r.jsx(fn,{isOpen:Ce.isOpen,onClose:()=>Q(Y=>({...Y,isOpen:!1})),onConfirm:Ce.onConfirm,title:Ce.title,description:Ce.description,type:Ce.type,confirmText:Ce.confirmText,confirmOnly:Ce.confirmOnly})]})},nb=({isOpen:i,onClose:t,onSubmit:s,title:o,description:c,placeholder:u,defaultValue:d="",confirmText:p="Confirm",requireInput:m=!0})=>{const[g,y]=T.useState(d),b=T.useRef(null);T.useEffect(()=>{i&&(y(d),setTimeout(()=>{b.current?.focus()},100))},[i,d]);const v=w=>{w.preventDefault(),!(m&&!g.trim())&&(s(g),t())};return r.jsx(xs,{children:i&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(5px)"},children:r.jsxs(ge.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"glass-card",style:{width:"100%",maxWidth:"400px",padding:"30px",background:"var(--bg-modal)",border:"1px solid var(--glass-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},children:[r.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"1.25rem",color:"var(--text-main)"},children:o}),c&&r.jsx("p",{style:{margin:"0 0 20px 0",color:"var(--text-muted)",fontSize:"0.9rem"},children:c}),r.jsxs("form",{onSubmit:v,children:[r.jsx("input",{ref:b,type:"text",value:g,onChange:w=>y(w.target.value),placeholder:u,style:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--bg-dark)",color:"var(--text-main)",fontSize:"1rem",outline:"none",marginBottom:"24px"},autoFocus:!0}),r.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[r.jsx("button",{type:"button",onClick:t,className:"btn-outline",style:{padding:"10px 20px"},children:"Cancel"}),r.jsx("button",{type:"submit",className:"btn-primary",style:{padding:"10px 20px"},disabled:m&&!g.trim(),children:p})]})]})]})})})},NE=()=>{const{items:i,loading:t,currentFolderId:s,setCurrentFolderId:o,createFolder:c,deleteItem:u,togglePin:d}=js(),{user:p,profile:m}=kt(),g=m?.role==="Admin",[y,b]=T.useState("list"),[v,w]=T.useState([]),[j,_]=T.useState(null),[A,C]=T.useState(""),[D,E]=T.useState("All Types"),[U,L]=T.useState(!1),[q,F]=T.useState(!1),[X,z]=T.useState({isOpen:!1,title:"",description:"",onConfirm:()=>{},type:"info",confirmOnly:!1});T.useEffect(()=>{_(null)},[]);const te=k=>{w(W=>[...W,k]),o(k.id)},ae=()=>{if(v.length===0)return;const k=[...v];k.pop(),w(k),o(k.length>0?k[k.length-1].id:null)},ye=k=>{if(k===-1)w([]),o(null);else{const W=v.slice(0,k+1);w(W),o(W[W.length-1].id)}},Ce=()=>{F(!0)},Q=async k=>{if(k)try{await c(k,s,"Uncategorized"),z({isOpen:!0,title:"Repository Structure Updated",description:`The institutional folder "${k}" has been successfully established in the secure repository.`,type:"success",confirmText:"Continue",confirmOnly:!0,onConfirm:()=>{}})}catch(W){z({isOpen:!0,title:"Folder Creation Failed",description:`Failed to establish folder: ${W.message||"Check connection"}`,type:"danger",confirmText:"Close",confirmOnly:!0,onConfirm:()=>{}})}},N=i.filter(k=>{const W=k.name.toLowerCase().includes(A.toLowerCase()),re=k.type==="file",he=D==="All Types"?!0:D==="PDF Documents"?k.name.endsWith(".pdf"):D==="Word Sheets"?k.name.endsWith(".docx")||k.name.endsWith(".doc"):D==="Spreadsheets"?k.name.endsWith(".xlsx")||k.name.endsWith(".csv"):!re;return W&&he});return j?r.jsx(vc,{file:j,onBack:()=>_(null)}):r.jsxs("div",{className:"main-content",children:[r.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",flexWrap:"wrap",gap:"24px"},children:[r.jsxs("div",{children:[r.jsxs("div",{className:"breadcrumb-container",style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--text-muted)",fontSize:"0.8rem",marginBottom:"8px"},children:[r.jsx("span",{style:{cursor:"pointer"},onClick:()=>ye(-1),children:"All Files"}),v.map((k,W)=>r.jsxs(oc.Fragment,{children:[r.jsx(za,{size:14}),r.jsx("span",{style:{cursor:"pointer"},onClick:()=>ye(W),children:k.name})]},k.id))]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[s&&r.jsx("button",{onClick:ae,className:"shadow-hover",style:{background:"var(--umat-green)",border:"none",color:"white",width:"36px",height:"36px",borderRadius:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},children:r.jsx(io,{size:18})}),r.jsx("h1",{style:{fontSize:"1.5rem",margin:0},children:v.length>0?v[v.length-1].name:"File Repository"})]})]}),r.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[r.jsxs("button",{className:"btn-outline",onClick:Ce,style:{padding:"8px 12px",fontSize:"0.85rem"},children:[r.jsx(Bj,{size:16}),r.jsx("span",{className:"hidden-mobile",style:{marginLeft:"8px"},children:"New Folder"})]}),r.jsxs("button",{className:"btn-primary",onClick:()=>L(!0),style:{padding:"8px 12px",fontSize:"0.85rem"},children:[r.jsx(Xl,{size:16}),r.jsx("span",{style:{marginLeft:"8px"},children:s?"Upload":"Upload Files"})]}),r.jsxs("div",{className:"glass-card hidden-mobile",style:{display:"flex",borderRadius:"8px",padding:"4px"},children:[r.jsx("button",{onClick:()=>b("list"),style:{padding:"6px",borderRadius:"6px",background:y==="list"?"var(--umat-green)":"transparent",color:y==="list"?"white":"var(--text-muted)"},children:r.jsx(tf,{size:18})}),r.jsx("button",{onClick:()=>b("grid"),style:{padding:"6px",borderRadius:"6px",background:y==="grid"?"var(--umat-green)":"transparent",color:y==="grid"?"white":"var(--text-muted)"},children:r.jsx(ef,{size:18})})]})]})]}),r.jsxs("div",{className:"glass-card flex-mobile-column",style:{padding:"16px 24px",marginBottom:"32px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"16px"},children:[r.jsx("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:r.jsxs("select",{value:D,onChange:k=>E(k.target.value),style:{background:"var(--glass)",border:"1px solid var(--glass-border)",color:"var(--text-main)",padding:"8px 12px",borderRadius:"8px",outline:"none",width:"100%",maxWidth:"200px",fontSize:"0.9rem"},children:[r.jsx("option",{children:"All Types"}),r.jsx("option",{children:"PDF Documents"}),r.jsx("option",{children:"Word Sheets"}),r.jsx("option",{children:"Spreadsheets"})]})}),r.jsxs("div",{style:{position:"relative",width:"100%",maxWidth:"400px"},children:[r.jsx(Sn,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{type:"text",placeholder:"Search current folder...",value:A,onChange:k=>C(k.target.value),style:{background:"var(--glass)",border:"1px solid var(--glass-border)",color:"var(--text-main)",padding:"8px 12px 8px 40px",borderRadius:"8px",width:"100%",outline:"none",fontSize:"0.9rem"}})]})]}),t?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",color:"var(--umat-gold)"},children:r.jsx(dt,{className:"animate-spin",size:48})}):y==="list"?r.jsx("div",{className:"glass-card",style:{padding:"0 24px 24px 24px",minHeight:"400px",overflowX:"hidden"},children:r.jsx("div",{className:"responsive-table",children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"700px"},children:[r.jsx("thead",{className:"file-list-header",children:r.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid var(--glass-border)"},children:[r.jsx("th",{style:{padding:"16px 0",color:"var(--text-muted)",fontWeight:500,fontSize:"0.85rem"},children:"Name"}),r.jsx("th",{style:{padding:"16px 0",color:"var(--text-muted)",fontWeight:500,fontSize:"0.85rem"},children:"Uploaded By"}),r.jsx("th",{style:{padding:"16px 0",color:"var(--text-muted)",fontWeight:500,fontSize:"0.85rem"},children:"Category"}),r.jsx("th",{style:{padding:"16px 0",color:"var(--text-muted)",fontWeight:500,fontSize:"0.85rem"},children:"Size"}),r.jsx("th",{style:{padding:"16px 0",color:"var(--text-muted)",fontWeight:500,fontSize:"0.85rem"},children:"Modified"}),r.jsx("th",{style:{padding:"16px 0"}})]})}),r.jsxs("tbody",{children:[N.map(k=>r.jsxs("tr",{className:"file-list-row",style:{borderBottom:"1px solid var(--glass-border)",cursor:"pointer",background:k.is_pinned?"rgba(251, 191, 36, 0.05)":"transparent"},onClick:()=>k.type==="folder"?te(k):_(k),children:[r.jsx("td",{style:{padding:"16px 0"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[k.type==="folder"?r.jsx(Sa,{size:20,color:"var(--umat-gold)",fill:"var(--umat-gold)",fillOpacity:.2}):r.jsx(Bi,{name:k.name,size:20}),r.jsx("span",{style:{fontWeight:500},children:k.name}),k.is_pinned&&r.jsx(Pd,{size:14,fill:"var(--umat-gold)",color:"var(--umat-gold)",style:{transform:"rotate(45deg)"}})]})}),r.jsx("td",{style:{padding:"16px 0"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},title:k.uploader_name,children:[r.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"var(--umat-navy)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",color:"white",fontWeight:"bold",border:"1px solid var(--umat-gold)",overflow:"hidden",flexShrink:0},children:k.uploader_avatar?r.jsx("img",{src:k.uploader_avatar,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):(k.uploader_name||"U").charAt(0)}),r.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-main)",fontWeight:500},children:k.uploader_name})]})}),r.jsx("td",{children:r.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:k.category})}),r.jsx("td",{children:r.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:k.size||"--"})}),r.jsx("td",{children:r.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:new Date(k.updated_at||Date.now()).toLocaleDateString()})}),r.jsx("td",{style:{padding:"16px 0",textAlign:"right"},children:r.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[r.jsx("button",{onClick:W=>{W.stopPropagation(),d(k.id,k.is_pinned||!1)},style:{background:"none",border:"none",cursor:"pointer",color:k.is_pinned?"var(--umat-gold)":"var(--text-muted)"},title:k.is_pinned?"Unpin":"Pin",children:k.is_pinned?r.jsx(TS,{size:18}):r.jsx(Pd,{size:18})}),(g||k.user_id===p?.id)&&r.jsx("button",{onClick:W=>{W.stopPropagation(),z({isOpen:!0,title:k.type==="folder"?"Remove Folder":"Remove Asset",description:`Are you sure you want to move "${k.name}" to the institutional trash? It can be recovered for up to 30 days.`,type:"warning",confirmText:"Move to Trash",onConfirm:()=>u(k.id)})},style:{background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)"},children:r.jsx(Jh,{size:18})})]})})]},k.id)),N.length===0&&r.jsx("tr",{children:r.jsxs("td",{colSpan:6,style:{padding:"80px",textAlign:"center"},children:[r.jsx(Sa,{color:"var(--glass-border)",size:64,style:{marginBottom:"16px",opacity:.3}}),r.jsx("p",{style:{color:"var(--text-muted)"},children:"This institutional folder is empty."})]})})]})]})})}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"20px"},children:N.map(k=>r.jsxs("div",{className:"glass-card shadow-hover",style:{padding:"24px",textAlign:"center",position:"relative",cursor:"pointer",border:k.is_pinned?"1px solid var(--umat-gold)":"none"},onClick:()=>k.type==="folder"?te(k):_(k),children:[r.jsx("button",{onClick:W=>{W.stopPropagation(),d(k.id,k.is_pinned||!1)},style:{position:"absolute",top:"12px",right:"12px",background:"none",border:"none",color:k.is_pinned?"var(--umat-gold)":"var(--text-muted)",cursor:"pointer"},children:r.jsx(Pd,{size:16,fill:k.is_pinned?"currentColor":"none"})}),r.jsx("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"center"},children:k.type==="folder"?r.jsx(Sa,{size:48,color:"var(--umat-gold)",fill:"var(--umat-gold)",fillOpacity:.2}):r.jsx(Bi,{name:k.name,size:48})}),r.jsx("h4",{style:{fontSize:"1rem",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:k.name}),r.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"12px"},children:k.type==="folder"?"Folder":k.size}),r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",marginTop:"auto",borderTop:"1px solid var(--glass-border)",paddingTop:"12px"},title:k.uploader_name,children:[k.uploader_avatar?r.jsx("img",{src:k.uploader_avatar,alt:k.uploader_name,style:{width:"28px",height:"28px",borderRadius:"50%",objectFit:"cover",border:"1px solid var(--umat-gold)"}}):r.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"var(--umat-navy)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",color:"white",fontWeight:"bold",border:"1px solid var(--umat-gold)"},children:k.uploader_name?.charAt(0)}),r.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:k.uploader_name})]})]},k.id))}),r.jsx(tb,{isOpen:U,onClose:()=>L(!1),uploadTo:i.find(k=>k.id===s)?.name,targetFolderId:s}),r.jsx(nb,{isOpen:q,onClose:()=>F(!1),onSubmit:Q,title:"Create New Folder",description:"Enter a name for the new folder.",placeholder:"Institutional Folder Name",confirmText:"Create Folder"}),r.jsx(fn,{isOpen:X.isOpen,onClose:()=>z(k=>({...k,isOpen:!1})),onConfirm:X.onConfirm,title:X.title,description:X.description,type:X.type,confirmText:X.confirmText,confirmOnly:X.confirmOnly}),r.jsx("style",{children:`
                @media (max-width: 768px) {
                    .main-content header {
                        flex-direction: column;
                        align-items: flex-start !important;
                    }
                    .main-content header > div:last-child {
                        width: 100%;
                        justify-content: space-between;
                    }
                    .main-content header .btn-primary, .main-content header .btn-outline {
                        flex: 1;
                        justify-content: center;
                    }
                    .hidden-mobile {
                        display: none !important;
                    }
                    .breadcrumb-container {
                        overflow-x: auto;
                        white-space: nowrap;
                        width: 100%;
                        padding-bottom: 8px;
                    }
                    .file-list-header th:not(:first-child):not(:last-child) {
                        display: none;
                    }
                    .file-list-row td:not(:first-child):not(:last-child) {
                        display: none;
                    }
                }
            `})]})},DE=({isOpen:i,onClose:t,meeting:s})=>{const[o,c]=T.useState([]),[u,d]=T.useState("logistics");if(T.useEffect(()=>{i&&s&&((async()=>{if(s?.attendee_list&&s.attendee_list.length>0)try{const{data:v,error:w}=await ee.from("profiles").select("id, full_name, avatar_url, department, role").in("id",s.attendee_list);if(w)throw w;v&&c(v)}catch(v){console.error("Error fetching attendee profiles:",v)}else c([])})(),d("logistics"))},[i,s]),!i||!s)return null;const p=s.attached_docs||[],m=()=>r.jsxs("div",{style:{animation:"fadeIn 0.2s ease-out"},children:[r.jsxs("div",{className:"fv-section-title",children:[r.jsx(jn,{size:14})," Schedule & Location"]}),r.jsxs("div",{className:"fv-meta-grid",children:[r.jsxs("div",{className:"fv-meta-item",children:[r.jsxs("span",{className:"fv-meta-label",style:{display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(Zn,{size:12})," Date"]}),r.jsx("span",{className:"fv-meta-value",children:s.date})]}),r.jsxs("div",{className:"fv-meta-item",children:[r.jsxs("span",{className:"fv-meta-label",style:{display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(jn,{size:12})," Time"]}),r.jsxs("span",{className:"fv-meta-value",children:[s.start_time," - ",s.end_time||"..."]})]}),r.jsxs("div",{className:"fv-meta-item",style:{gridColumn:"span 2"},children:[r.jsxs("span",{className:"fv-meta-label",style:{display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(ka,{size:12})," Venue"]}),r.jsx("span",{className:"fv-meta-value",children:s.location})]})]}),r.jsxs("div",{className:"fv-section-title",children:[r.jsx(hn,{size:14})," Actions"]}),r.jsxs("div",{className:"fv-actions-grid",children:[s.status!=="Completed"&&r.jsxs("div",{className:"fv-action-card",onClick:()=>window.open("#","_blank"),children:[r.jsx(rf,{size:20,color:"var(--umat-green)"}),r.jsx("span",{children:"Join Call"})]}),r.jsxs("div",{className:"fv-action-card",children:[r.jsx(Zn,{size:20,color:"var(--umat-gold)"}),r.jsx("span",{children:"Sync Cal"})]}),r.jsxs("div",{className:"fv-action-card",children:[r.jsx(so,{size:20,color:"var(--umat-navy)"}),r.jsx("span",{children:"Brief"})]}),r.jsxs("div",{className:"fv-action-card",children:[r.jsx(Vx,{size:20,color:"var(--text-muted)"}),r.jsx("span",{children:"More"})]})]}),r.jsxs("div",{style:{marginTop:"auto",background:"rgba(0,104,55,0.05)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(0,104,55,0.1)"},children:[r.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"8px"},children:[r.jsx(Xh,{size:16,color:"var(--umat-green)"}),r.jsx("span",{style:{fontSize:"0.8rem",fontWeight:700,color:"var(--umat-green)"},children:"Participation Confirmed"})]}),r.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--text-muted)",lineHeight:1.4},children:"Your attendance has been automatically logged by the system."})]})]}),g=()=>r.jsxs("div",{style:{animation:"fadeIn 0.2s ease-out",display:"flex",flexDirection:"column",gap:"12px"},children:[r.jsxs("div",{className:"fv-section-title",children:[r.jsx(On,{size:14})," Confirmed Profile (",o.length,")"]}),o.map(b=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",borderRadius:"10px",background:"var(--glass)"},children:[r.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"var(--umat-navy)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:700},children:b.avatar_url?r.jsx("img",{src:b.avatar_url,alt:"",style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"}}):b.full_name.charAt(0)}),r.jsxs("div",{style:{flex:1},children:[r.jsx("p",{style:{margin:0,fontSize:"0.85rem",fontWeight:600},children:b.full_name}),r.jsxs("p",{style:{margin:0,fontSize:"0.7rem",color:"var(--text-muted)"},children:[b.role||"Member","  ",b.department||"General"]})]})]},b.id)),o.length===0&&r.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-muted)",fontSize:"0.8rem"},children:"Fetching attendee list..."})]}),y=()=>r.jsxs("div",{style:{animation:"fadeIn 0.2s ease-out"},children:[r.jsxs("div",{className:"fv-section-title",children:[r.jsx(un,{size:14})," Official Minutes"]}),r.jsxs("div",{style:{padding:"20px",border:"1px dashed var(--glass-border)",borderRadius:"12px",textAlign:"center",color:"var(--text-muted)",marginBottom:"20px"},children:[r.jsx(un,{size:32,style:{opacity:.2,marginBottom:"8px"}}),r.jsx("p",{style:{fontSize:"0.8rem",margin:"0"},children:"Minutes have not been published yet."})]}),r.jsxs("div",{className:"fv-section-title",children:[r.jsx(nf,{size:14})," Private Notes"]}),r.jsx("textarea",{placeholder:"Take private notes for this session...",style:{width:"100%",height:"120px",background:"var(--glass)",border:"1px solid var(--glass-border)",borderRadius:"12px",padding:"12px",color:"var(--text-main)",outline:"none",resize:"none",fontSize:"0.85rem"}})]});return r.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(8px)",zIndex:4e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},onClick:t,children:r.jsxs("div",{className:"file-viewer-container",style:{width:"95vw",maxWidth:"1200px",height:"85vh",background:"var(--bg-card)",animation:"scaleIn 0.3s cubic-bezier(0.16, 1, 0.3, 1)"},onClick:b=>b.stopPropagation(),children:[r.jsxs("div",{className:"file-viewer-main",children:[r.jsxs("div",{className:"file-viewer-toolbar",children:[r.jsxs("div",{className:"fv-breadcrumbs",children:[r.jsx("div",{className:"fv-back-btn",style:{cursor:"default",background:"var(--umat-navy)",color:"var(--umat-gold)",borderColor:"transparent"},children:r.jsx(Zn,{size:18})}),r.jsxs("div",{children:[r.jsx("div",{className:"fv-filename",children:s.title}),r.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)",display:"block",marginTop:"-2px"},children:[s.category,"  ",s.status]})]})]}),r.jsx("button",{onClick:t,style:{background:"rgba(0,0,0,0.05)",border:"none",width:"32px",height:"32px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:r.jsx(Xt,{size:18})})]}),r.jsxs("div",{className:"preview-container",style:{display:"block",padding:"40px",maxWidth:"800px",margin:"0 auto"},children:[r.jsxs("div",{style:{marginBottom:"40px"},children:[r.jsxs("h2",{style:{fontSize:"1.5rem",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[r.jsx(FS,{size:24,color:"var(--umat-gold)"})," Agenda & Brief"]}),r.jsx("div",{style:{lineHeight:1.8,fontSize:"1rem",color:"var(--text-main)"},children:s.description?r.jsx("p",{children:s.description}):r.jsx("p",{style:{color:"var(--text-muted)",fontStyle:"italic"},children:"No detailed agenda provided for this session."})})]}),p.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{style:{fontSize:"1rem",marginBottom:"16px",textTransform:"uppercase",letterSpacing:"1px",fontWeight:800,color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx(Gx,{size:16})," Attached Resources"]}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"16px"},children:p.map((b,v)=>r.jsxs("div",{className:"shadow-hover",style:{padding:"16px",borderRadius:"12px",background:"var(--glass)",border:"1px solid var(--glass-border)",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},onClick:()=>window.open(b.url,"_blank"),children:[r.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:"rgba(0,104,55,0.1)",color:"var(--umat-green)",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(un,{size:20})}),r.jsxs("div",{style:{overflow:"hidden"},children:[r.jsx("p",{style:{margin:0,fontWeight:600,fontSize:"0.85rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:b.name}),r.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"var(--text-muted)"},children:"Document"})]})]},v))})]})]})]}),r.jsxs("div",{className:"file-viewer-sidebar",children:[r.jsxs("div",{className:"fv-tabs",children:[r.jsx("button",{className:`fv-tab-btn ${u==="logistics"?"active":""}`,onClick:()=>d("logistics"),children:"Logistics"}),r.jsx("button",{className:`fv-tab-btn ${u==="attendees"?"active":""}`,onClick:()=>d("attendees"),children:"Attendees"}),r.jsx("button",{className:`fv-tab-btn ${u==="minutes"?"active":""}`,onClick:()=>d("minutes"),children:"Minutes"})]}),r.jsxs("div",{className:"fv-tab-content",children:[u==="logistics"&&m(),u==="attendees"&&g(),u==="minutes"&&y()]})]})]})})},ME=({isOpen:i,onClose:t})=>{const{scheduleMeeting:s}=xc(),[o,c]=T.useState(!1),[u,d]=T.useState({title:"",date:"",time:"",endTime:"",location:"",link:"",category:"Academic",description:""}),[p,m]=T.useState([]),[g,y]=T.useState([]),[b,v]=T.useState([]),[w,j]=T.useState(""),[_,A]=T.useState(!1),[C,D]=T.useState({isOpen:!1,title:"",description:"",onConfirm:()=>{},type:"info",confirmOnly:!1});T.useEffect(()=>{i&&E()},[i]);const E=async()=>{try{const{data:z,error:te}=await ee.from("profiles").select("*").order("full_name");if(te)throw te;z&&v(z)}catch(z){console.error("Error fetching profiles:",z)}},U=z=>{z.target.files&&m(te=>[...te,...Array.from(z.target.files)])},L=z=>{m(te=>te.filter((ae,ye)=>ye!==z))},q=z=>{y(te=>te.includes(z)?te.filter(ae=>ae!==z):[...te,z])},F=async z=>{z.preventDefault(),c(!0);try{const te=[];for(const ae of p){await new Promise(Ce=>setTimeout(Ce,500));const ye=URL.createObjectURL(ae);te.push({name:ae.name,url:ye})}await s({title:u.title,date:u.date,start_time:u.time,end_time:u.endTime,location:u.location,link:u.link,description:u.description,category:u.category,attendees:g.length,attendee_list:g,attached_docs:te}),D({isOpen:!0,title:"Meeting Synchronized",description:"The board meeting has been scheduled. Institutional notifications and calendar invites have been dispatched.",type:"success",confirmText:"Done",confirmOnly:!0,onConfirm:t})}catch(te){console.error(te),D({isOpen:!0,title:"Scheduling Failed",description:`Failed to broadcast meeting details: ${te.message||"Check connection"}`,type:"danger",confirmText:"Close",confirmOnly:!0,onConfirm:()=>{}})}finally{c(!1)}};if(!i)return null;const X=b.filter(z=>z.full_name?.toLowerCase().includes(w.toLowerCase())||z.email?.toLowerCase().includes(w.toLowerCase()));return r.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:5e3,animation:"fadeIn 0.3s ease-out"},onClick:t,children:r.jsxs("div",{style:{width:"90%",maxWidth:"650px",padding:"40px",maxHeight:"90vh",overflowY:"auto",animation:"slideUp 0.4s ease-out",background:"var(--bg-modal)",borderRadius:"24px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",color:"var(--text-main)"},onClick:z=>z.stopPropagation(),children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[r.jsxs("div",{children:[r.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:"8px",color:"var(--text-main)"},children:"Schedule Board Meeting"}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Fill in the details to notify institutional board members."})]}),r.jsx("button",{onClick:t,style:{background:"none",border:"none",color:"#94a3b8",cursor:"pointer"},children:r.jsx(Xt,{size:24})})]}),r.jsxs("form",{onSubmit:F,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)",textTransform:"uppercase"},children:"Meeting Title"}),r.jsx("input",{required:!0,type:"text",placeholder:"e.g. Q1 Strategic Review",value:u.title,onChange:z=>d({...u,title:z.target.value}),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 16px",borderRadius:"10px",color:"var(--text-main)",outline:"none"}})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)"},children:"Date"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(Zn,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{required:!0,type:"date",value:u.date,onChange:z=>d({...u,date:z.target.value}),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 40px",borderRadius:"10px",color:"var(--text-main)",outline:"none"}})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)"},children:"Start Time"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(jn,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{required:!0,type:"time",value:u.time,onChange:z=>d({...u,time:z.target.value}),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 40px",borderRadius:"10px",color:"var(--text-main)",outline:"none"}})]})]})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)"},children:"Location / Room"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(ka,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{type:"text",placeholder:"e.g. Senate Room A",value:u.location,onChange:z=>d({...u,location:z.target.value}),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 40px",borderRadius:"10px",color:"var(--text-main)",outline:"none"}})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)"},children:"Category"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(Hr,{size:18,style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)",pointerEvents:"none"}}),r.jsxs("select",{value:u.category,onChange:z=>d({...u,category:z.target.value}),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 16px",borderRadius:"10px",color:"var(--text-main)",outline:"none",appearance:"none",cursor:"pointer"},children:[r.jsx("option",{value:"Academic",children:"Academic"}),r.jsx("option",{value:"Board",children:"Board Plenary"}),r.jsx("option",{value:"Finance",children:"Finance"}),r.jsx("option",{value:"Development",children:"Development"})]})]})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)"},children:"Virtual Meeting Link (Zoom/Teams)"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(eS,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{type:"url",placeholder:"https://zoom.us/j/...",value:u.link,onChange:z=>d({...u,link:z.target.value}),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 40px",borderRadius:"10px",color:"var(--text-main)",outline:"none"}})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)"},children:"Description / Brief Agenda"}),r.jsx("textarea",{placeholder:"Provide a short overview of the meeting topics...",value:u.description,onChange:z=>d({...u,description:z.target.value}),style:{width:"100%",height:"100px",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 16px",borderRadius:"10px",color:"var(--text-main)",outline:"none",resize:"none"}})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsxs("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"#475569"},children:["Invite Attendees (",g.length,")"]}),r.jsxs("div",{style:{position:"relative"},children:[r.jsxs("button",{type:"button",className:"btn-outline",onClick:()=>A(!_),style:{width:"100%",justifyContent:"space-between"},children:[r.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx(On,{size:18})," ",g.length>0?`${g.length} Selected`:"Select Members"]}),r.jsx(Hr,{size:16})]}),_&&r.jsxs("div",{className:"glass-card",style:{position:"absolute",top:"100%",left:0,width:"100%",zIndex:10,marginTop:"8px",padding:"12px",maxHeight:"200px",overflowY:"auto"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",borderBottom:"1px solid var(--glass-border)",paddingBottom:"8px"},children:[r.jsx(Sn,{size:14,color:"var(--text-muted)"}),r.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search members...",value:w,onChange:z=>j(z.target.value),style:{background:"transparent",border:"none",outline:"none",color:"var(--text-main)",width:"100%",fontSize:"0.9rem"}})]}),X.map(z=>r.jsxs("div",{onClick:()=>q(z.id),style:{padding:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",borderRadius:"6px",background:g.includes(z.id)?"rgba(0, 104, 55, 0.1)":"transparent"},className:"hover-bg",children:[r.jsx("span",{style:{fontSize:"0.9rem"},children:z.full_name||z.email}),g.includes(z.id)&&r.jsx(ms,{size:14,color:"var(--umat-green)"})]},z.id))]})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"#475569"},children:"Attachments"}),r.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:[p.map((z,te)=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"#f1f5f9",borderRadius:"20px",fontSize:"0.85rem",border:"1px solid #e2e8f0",color:"#475569"},children:[r.jsx(Gx,{size:12}),r.jsx("span",{style:{maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:z.name}),r.jsx(Xt,{size:12,style:{cursor:"pointer",color:"#ef4444"},onClick:()=>L(te)})]},te)),r.jsxs("button",{type:"button",className:"btn-outline",onClick:()=>document.getElementById("meeting-file-input")?.click(),style:{padding:"6px 12px",borderRadius:"20px",fontSize:"0.85rem",height:"auto",minHeight:"32px"},children:[r.jsx(Aj,{size:14,style:{marginRight:"6px"}})," Add Document"]}),r.jsx("input",{id:"meeting-file-input",type:"file",multiple:!0,style:{display:"none"},onChange:U})]})]}),r.jsxs("button",{type:"submit",disabled:o,className:"btn-primary",style:{marginTop:"20px",width:"100%",height:"50px",justifyContent:"center",fontSize:"1rem",opacity:o?.7:1},children:[o?r.jsx(dt,{className:"animate-spin"}):r.jsx(sf,{size:20}),o?"Scheduling...":"Schedule & Notify Board"]})]}),r.jsx(fn,{isOpen:C.isOpen,onClose:()=>D(z=>({...z,isOpen:!1})),onConfirm:C.onConfirm,title:C.title,description:C.description,type:C.type,confirmText:C.confirmText,confirmOnly:C.confirmOnly})]})})},UE=()=>{const{meetings:i,loading:t,fetchMeetings:s}=xc(),[o,c]=T.useState("Upcoming"),[u,d]=T.useState(null),[p,m]=T.useState(!1),[g,y]=T.useState(!1),[b,v]=T.useState({isOpen:!1,title:"",description:"",onConfirm:()=>{},type:"info",confirmOnly:!1});T.useEffect(()=>{s()},[]);const w=i.filter(U=>o==="Upcoming"?U.status==="Upcoming"||U.status==="In Progress":U.status==="Completed"),j=i.find(U=>U.status==="In Progress")||i.find(U=>U.status==="Upcoming"),_=U=>{d(U),m(!0)},A=U=>{U.stopPropagation(),j?.link?window.open(j.link,"_blank"):v({isOpen:!0,title:"Link Unavailable",description:"No virtual meeting link has been provided for this institutional session. Please contact the board secretary.",type:"warning",confirmText:"Acknowledge",confirmOnly:!0,onConfirm:()=>{}})},C=U=>{U.stopPropagation(),v({isOpen:!0,title:"Packing Resources",description:"Preparing all meeting resources (Agendas, Minutes, and Presentations) for download... Your archive will be ready momentarily.",type:"info",confirmText:"Start Pack",confirmOnly:!0,onConfirm:()=>{setTimeout(()=>{v({isOpen:!0,title:"Download Ready",description:"Your institutional resource archive (UMaT_Meeting_Resources.zip) is ready and the transmission has started.",type:"success",confirmText:"Great",confirmOnly:!0,onConfirm:()=>{}})},1500)}})},D=()=>{y(!0)},E=()=>{v({isOpen:!0,title:"IT Support Sync",description:"Connecting you to UMaT IT Support. A support representative will be with you shortly via the secure institutional portal chat.",type:"info",confirmText:"Begin Session",confirmOnly:!0,onConfirm:()=>{}})};return r.jsxs("div",{className:"main-content",children:[r.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",flexWrap:"wrap",gap:"20px"},children:[r.jsxs("div",{children:[r.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"4px"},children:"Meeting Center"}),r.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:["Manage board meetings, agendas, and academic minutes. ",t&&r.jsx(dt,{className:"animate-spin inline-block ml-2",size:16})]})]}),r.jsxs("button",{className:"btn-primary",onClick:D,style:{padding:"8px 16px",fontSize:"0.9rem"},children:[r.jsx(_a,{size:18}),"Schedule Meeting"]})]}),r.jsxs("div",{className:"flex-mobile-column",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"30px"},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[j?r.jsxs("div",{className:"glass-card trending-meeting-card",style:{padding:"30px",background:"var(--umat-green)",border:"1px solid rgba(251, 191, 36, 0.3)",animation:"fadeIn 0.8s ease-out",cursor:"pointer"},onClick:()=>_(j),children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[r.jsxs("div",{children:[r.jsx("span",{style:{background:"var(--umat-gold)",color:"var(--bg-dark)",padding:"4px 12px",borderRadius:"20px",fontSize:"0.75rem",fontWeight:800,textTransform:"uppercase",letterSpacing:"1px"},children:"Happening Soon"}),r.jsx("h2",{style:{fontSize:"1.75rem",marginTop:"16px",marginBottom:"8px",color:"white"},children:j.title}),r.jsxs("div",{style:{display:"flex",gap:"20px",color:"rgba(255,255,255,0.8)",fontSize:"0.95rem"},children:[r.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(jn,{size:16})," ",j.start_time," - ",j.end_time]}),r.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(ka,{size:16})," ",j.location]})]})]}),r.jsx("button",{className:"glass-card",style:{padding:"12px 24px",background:"rgba(255,255,255,0.15)",fontWeight:600,cursor:"pointer",color:"white",border:"1px solid rgba(255,255,255,0.2)"},onClick:A,children:"Join Session"})]}),r.jsx("div",{style:{padding:"20px",background:"rgba(0,0,0,0.1)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r.jsx("div",{style:{padding:"10px",background:"var(--umat-green)",borderRadius:"8px"},children:r.jsx(un,{size:20,color:"var(--umat-gold)"})}),r.jsxs("div",{children:[r.jsx("p",{style:{margin:0,fontWeight:600,color:"white"},children:"Agenda and Resources"}),r.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"rgba(255,255,255,0.7)"},children:"Required reading for members"})]})]}),r.jsx("button",{style:{background:"none",color:"var(--umat-gold)",fontWeight:600,fontSize:"0.9rem",cursor:"pointer",border:"none"},onClick:C,children:"Download All"})]})})]}):r.jsxs("div",{className:"glass-card",style:{padding:"30px",textAlign:"center",color:"var(--text-muted)"},children:[r.jsx(Zn,{size:48,style:{marginBottom:"16px",opacity:.3}}),r.jsx("p",{children:"No meetings currently in progress."})]}),r.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[r.jsxs("h3",{style:{fontSize:"1.25rem"},children:[o," Board Meetings"]}),r.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.jsx("button",{className:"btn-outline",style:{padding:"6px 12px",fontSize:"0.85rem",background:o==="Upcoming"?"var(--glass-border)":"transparent"},onClick:()=>c("Upcoming"),children:"Upcoming"}),r.jsx("button",{className:"btn-outline",style:{padding:"6px 12px",fontSize:"0.85rem",border:"none",background:o==="Past"?"var(--glass-border)":"transparent"},onClick:()=>c("Past"),children:"Past"})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[w.map(U=>r.jsxs("div",{className:"glass-card meeting-item",style:{padding:"20px",display:"flex",alignItems:"center",gap:"20px",transition:"all 0.3s ease",cursor:"pointer"},onClick:()=>_(U),children:[r.jsxs("div",{className:"meeting-item-date",style:{minWidth:"60px",height:"70px",background:"var(--glass)",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"1px solid var(--glass-border)"},children:[r.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)",textTransform:"uppercase"},children:new Date(U.date).toLocaleString("default",{month:"short"})}),r.jsx("span",{style:{fontSize:"1.5rem",fontWeight:800,color:"var(--umat-gold)"},children:new Date(U.date).getDate()})]}),r.jsxs("div",{style:{flex:1},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"4px"},children:[r.jsx("h4",{style:{fontSize:"1.1rem",margin:0},children:U.title}),r.jsx("span",{style:{fontSize:"0.7rem",padding:"2px 8px",borderRadius:"4px",background:"rgba(0, 107, 63, 0.1)",color:"var(--umat-green)",fontWeight:600},children:U.category})]}),r.jsxs("div",{style:{display:"flex",gap:"20px",fontSize:"0.85rem",color:"var(--text-muted)"},children:[r.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx(jn,{size:14})," ",U.start_time]}),r.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx(ka,{size:14})," ",U.location]}),r.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx(On,{size:14})," ",U.attendees||0," Members"]})]})]})]},U.id)),w.length===0&&r.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-muted)"},children:["No ",o.toLowerCase()," meetings found."]})]})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[r.jsxs("div",{className:"glass-card",style:{padding:"24px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[r.jsx("h3",{style:{fontSize:"1.1rem"},children:"Calendar"}),r.jsxs("div",{style:{display:"flex",gap:"12px"},children:[r.jsx(Kh,{size:18,cursor:"pointer"}),r.jsx(za,{size:18,cursor:"pointer"})]})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px",textAlign:"center"},children:[["S","M","T","W","T","F","S"].map((U,L)=>r.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)",fontWeight:700},children:U},L)),Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate()}).map((U,L)=>{const q=L+1,F=new Date(new Date().getFullYear(),new Date().getMonth(),q).toISOString().split("T")[0],X=i.some(te=>te.date===F),z=q===new Date().getDate();return r.jsxs("div",{style:{padding:"8px 0",fontSize:"0.85rem",borderRadius:"8px",background:z?"var(--umat-green)":"transparent",color:z?"white":"var(--text-main)",border:X?"1px solid var(--umat-gold)":"none",position:"relative",cursor:"default"},children:[q,X&&r.jsx("div",{style:{position:"absolute",bottom:"4px",left:"50%",transform:"translateX(-50%)",width:"4px",height:"4px",borderRadius:"50%",background:"var(--umat-gold)"}})]},L)})]})]}),r.jsxs("div",{className:"glass-card",style:{padding:"24px"},children:[r.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"20px"},children:"Action Items"}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",alignItems:"center",color:"var(--text-muted)"},children:[r.jsx(Xh,{size:32,style:{opacity:.2,marginBottom:"8px"}}),r.jsx("p",{style:{margin:0,fontSize:"0.9rem"},children:"No pending action items."})]})]}),r.jsxs("div",{className:"glass-card",style:{padding:"24px",background:"rgba(251, 191, 36, 0.05)",border:"1px dashed var(--umat-gold)",textAlign:"center"},children:[r.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginBottom:"16px"},children:"Need help with the portal?"}),r.jsxs("button",{className:"btn-outline",style:{fontSize:"0.85rem",width:"100%"},onClick:E,children:[r.jsx(Px,{size:14,style:{marginRight:"8px"}}),"Contact IT Support"]})]})]})]}),r.jsx(DE,{isOpen:p,onClose:()=>m(!1),meeting:u}),r.jsx(ME,{isOpen:g,onClose:()=>y(!1)}),r.jsx(fn,{isOpen:b.isOpen,onClose:()=>v(U=>({...U,isOpen:!1})),onConfirm:b.onConfirm,title:b.title,description:b.description,type:b.type,confirmText:b.confirmText,confirmOnly:b.confirmOnly}),r.jsx("style",{children:`
                @media (max-width: 768px) {
                    .main-content header {
                        flex-direction: column;
                        align-items: flex-start !important;
                    }
                    .main-content header .btn-primary {
                        width: 100%;
                        justify-content: center;
                    }
                    .trending-meeting-card {
                        padding: 20px !important;
                    }
                    .trending-meeting-card h2 {
                        font-size: 1.4rem !important;
                    }
                    .meeting-item {
                        flex-direction: column;
                        align-items: flex-start !important;
                        gap: 16px !important;
                    }
                    .meeting-item-date {
                        width: 100% !important;
                        flex-direction: row !important;
                        height: auto !important;
                        padding: 10px !important;
                        gap: 10px;
                    }
                }
            `})]})},BE=({isOpen:i,onClose:t,onSave:s,initialData:o})=>{const[c,u]=T.useState(o);if(T.useEffect(()=>{u(o)},[o,i]),!i)return null;const d=p=>{p.preventDefault(),s(c),t()};return r.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:7e3,animation:"fadeIn 0.3s ease-out"},onClick:t,children:r.jsxs("div",{className:"glass-card",style:{width:"90%",maxWidth:"500px",padding:"40px",animation:"slideUp 0.4s ease-out",background:"var(--bg-modal)"},onClick:p=>p.stopPropagation(),children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[r.jsxs("div",{children:[r.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:"8px"},children:"Edit Profile"}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Update your institutional identity details."})]}),r.jsx("button",{onClick:t,style:{background:"none",border:"none",color:"var(--text-muted)",cursor:"pointer"},children:r.jsx(Xt,{size:24})})]}),r.jsxs("form",{onSubmit:d,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)",textTransform:"uppercase"},children:"Full Name"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(ws,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{required:!0,type:"text",value:c.name,onChange:p=>u({...c,name:p.target.value}),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 40px",borderRadius:"10px",color:"var(--text-main)",outline:"none"}})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)",textTransform:"uppercase"},children:"Official Email"}),r.jsx("span",{style:{fontSize:"0.7rem",color:"var(--umat-gold)",fontWeight:600},children:"Locked by Institution"})]}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(bs,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)",opacity:.5}}),r.jsx("input",{readOnly:!0,type:"email",value:c.email,style:{width:"100%",background:"rgba(0,0,0,0.05)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 40px",borderRadius:"10px",color:"var(--text-muted)",outline:"none",cursor:"not-allowed"}})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)",textTransform:"uppercase"},children:"Designation"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(Ix,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{required:!0,type:"text",value:c.designation,onChange:p=>u({...c,designation:p.target.value}),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 40px",borderRadius:"10px",color:"var(--text-main)",outline:"none"}})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)",textTransform:"uppercase"},children:"Staff ID"}),r.jsx("span",{style:{fontSize:"0.7rem",color:"var(--umat-gold)",fontWeight:600},children:"Locked by Institution"})]}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(hn,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)",opacity:.5}}),r.jsx("input",{readOnly:!0,type:"text",value:c.staffId,style:{width:"100%",background:"rgba(0,0,0,0.05)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 40px",borderRadius:"10px",color:"var(--text-muted)",outline:"none",cursor:"not-allowed"}})]})]}),r.jsxs("button",{type:"submit",className:"btn-primary",style:{marginTop:"10px",width:"100%",height:"50px",justifyContent:"center",fontSize:"1rem"},children:[r.jsx(sf,{size:20})," Save Changes"]})]})]})})},ib=({isOpen:i,onClose:t})=>{const{user:s}=kt(),[o,c]=T.useState([]);T.useEffect(()=>{i&&s&&u()},[i,s]);const u=async()=>{if(s)try{const d=(await ee.from("profiles").select("role").eq("id",s.id).single()).data?.role==="Admin";let p=ee.from("audit_logs").select("*, profiles(full_name, email)").order("created_at",{ascending:!1}).limit(50);d||(p=p.eq("user_id",s.id));const{data:m,error:g}=await p;if(g)throw g;m&&c(m.map(y=>({id:y.id,action:y.action,detail:y.details?.filename||y.details?.reason||y.entity_type||"System Action",user:y.profiles?.full_name||y.profiles?.email||"System",ip:y.details?.ip||"Institutional Network",time:new Date(y.created_at).toLocaleString(),status:"success"})))}catch(d){console.error("Error fetching audit logs:",d)}};return T.useEffect(()=>{if(!i||!s)return;u();const d=ee.channel("audit-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"audit_logs"},()=>u()).subscribe();return()=>{ee.removeChannel(d)}},[i,s]),i?r.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",backdropFilter:"blur(15px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:6e3,animation:"fadeIn 0.3s ease-out"},onClick:t,children:[r.jsxs("div",{className:"glass-card audit-modal-container",style:{animation:"slideUp 0.4s ease-out"},onClick:d=>d.stopPropagation(),children:[r.jsxs("header",{className:"audit-header-flex",children:[r.jsxs("div",{children:[r.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:"8px"},children:"Institutional Audit Trail"}),r.jsxs("p",{style:{color:"var(--text-muted)"},children:["Security and activity logs for account ",r.jsx("strong",{children:s?.email})]})]}),r.jsxs("div",{style:{display:"flex",gap:"12px"},children:[r.jsxs("button",{className:"btn-outline",style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx(so,{size:18})," Export CSV"]}),r.jsx("button",{onClick:t,style:{background:"var(--glass)",border:"1px solid var(--glass-border)",color:"var(--text-main)",cursor:"pointer",padding:"10px",borderRadius:"50%"},children:r.jsx(Xt,{size:24})})]})]}),r.jsxs("div",{className:"audit-toolbar-flex",children:[r.jsxs("div",{style:{position:"relative"},children:[r.jsx(Sn,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{type:"text",placeholder:"Search logs by action or detail...",className:"audit-search-input"})]}),r.jsxs("div",{style:{display:"flex",gap:"12px"},children:[r.jsxs("button",{className:"btn-outline",style:{padding:"8px 16px",fontSize:"0.85rem"},children:[r.jsx(cc,{size:16,style:{marginRight:"8px"}})," Filter By Type"]}),r.jsxs("button",{className:"btn-outline",style:{padding:"8px 16px",fontSize:"0.85rem"},children:[r.jsx(jn,{size:16,style:{marginRight:"8px"}})," Last 30 Days"]})]})]}),r.jsx("div",{className:"audit-table-wrapper",children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{textAlign:"left",color:"var(--text-muted)",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"1px"},children:[r.jsx("th",{style:{padding:"16px",borderBottom:"1px solid var(--glass-border)"},children:"Status"}),r.jsx("th",{style:{padding:"16px",borderBottom:"1px solid var(--glass-border)"},children:"Action"}),r.jsx("th",{style:{padding:"16px",borderBottom:"1px solid var(--glass-border)"},children:"Detail"}),r.jsx("th",{style:{padding:"16px",borderBottom:"1px solid var(--glass-border)"},children:"Location / IP"}),r.jsx("th",{style:{padding:"16px",borderBottom:"1px solid var(--glass-border)"},children:"Timestamp"})]})}),r.jsx("tbody",{children:o.map(d=>r.jsxs("tr",{style:{borderBottom:"1px solid var(--glass-border)",transition:"background 0.2s"},className:"hover-row",children:[r.jsx("td",{style:{padding:"16px"},children:d.status==="success"?r.jsx(Xh,{size:18,color:"#10b981"}):r.jsx(lc,{size:18,color:"#ef4444"})}),r.jsx("td",{style:{padding:"16px"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx(Wx,{size:14,color:"var(--umat-gold)"}),r.jsx("span",{style:{fontWeight:600},children:d.action})]})}),r.jsx("td",{style:{padding:"16px",color:"var(--text-main)",fontSize:"0.9rem"},children:d.detail}),r.jsx("td",{style:{padding:"16px",color:"var(--text-muted)",fontSize:"0.85rem"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(ws,{size:12})," ",d.ip]})}),r.jsx("td",{style:{padding:"16px",color:"var(--umat-gold)",fontSize:"0.85rem",fontWeight:500},children:d.time})]},d.id))})]})}),r.jsxs("div",{style:{padding:"24px 40px",background:"var(--glass)",borderTop:"1px solid var(--glass-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-muted)"},children:["Showing ",o.length," historical events"]}),r.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.jsx("button",{className:"btn-outline",style:{padding:"6px 12px"},children:"Previous"}),r.jsx("button",{className:"btn-outline",style:{padding:"6px 12px",background:"var(--glass-border)"},children:"Next"})]})]})]}),r.jsx("style",{children:`
                    .hover-row:hover {
                        background: rgba(255, 255, 255, 0.02);
                    }
                `})]}):null},LE=()=>{const{user:i,profile:t,uploadAvatar:s,updateProfile:o}=kt(),[c,u]=T.useState(!1),[d,p]=T.useState(!1),{theme:m,setTheme:g}=eb(),[y,b]=T.useState("English (Ghana)"),[v,w]=T.useState("instant"),[j,_]=T.useState("90"),[A,C]=T.useState({isOpen:!1,title:"",description:"",onConfirm:()=>{},type:"info",confirmOnly:!1}),[D,E]=T.useState({name:"",designation:"",email:"",staffId:"",avatar:null});T.useEffect(()=>{t&&E({name:t.full_name||"",designation:t.role||"Member",email:t.email||i?.email||"",staffId:t.department||"N/A",avatar:t.avatar_url||null})},[t,i]);const U=()=>{u(!0)},L=async z=>{if(i)try{await o({full_name:z.name,department:z.staffId}),E(te=>({...te,...z})),C({isOpen:!0,title:"Profile Updated",description:"Your institutional profile has been updated successfully.",type:"success",confirmText:"Great",confirmOnly:!0,onConfirm:()=>{}})}catch(te){console.error("Error updating profile:",te),C({isOpen:!0,title:"Update Error",description:"Failed to update your profile. Please check your connection.",type:"danger",confirmText:"Close",confirmOnly:!0,onConfirm:()=>{}})}},q=()=>{document.getElementById("avatar-input")?.click()},F=async z=>{const te=z.target.files?.[0];if(te&&i)try{await s(te),C({isOpen:!0,title:"Avatar Uploaded",description:"Your profile picture has been updated across the portal.",type:"success",confirmText:"Perfect",confirmOnly:!0,onConfirm:()=>{}})}catch(ae){console.error("Error uploading avatar:",ae),C({isOpen:!0,title:"Upload Failed",description:`Failed to upload avatar: ${ae.message}. Please ensure the 'avatars' storage bucket exists.`,type:"danger",confirmText:"Close",confirmOnly:!0,onConfirm:()=>{}})}},X=()=>{C({isOpen:!0,title:"Preferences Saved",description:"Your workspace settings have been synchronized.",type:"success",confirmText:"Done",confirmOnly:!0,onConfirm:()=>{}})};return r.jsxs("div",{className:"main-content",children:[r.jsxs("header",{style:{marginBottom:"32px",textAlign:"left"},children:[r.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"8px"},children:"Portal Settings"}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Customize your institutional workspace and profile details."})]}),r.jsxs("div",{className:"flex-mobile-column",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"30px"},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[r.jsxs("div",{className:"glass-card",style:{padding:"32px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px",marginBottom:"32px",flexWrap:"wrap"},children:[r.jsxs("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(45deg, var(--umat-green), var(--umat-gold))",padding:"3px",position:"relative",flexShrink:0},children:[r.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:"var(--bg-dark)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:D.avatar?r.jsx("img",{src:D.avatar,alt:"Avatar",style:{width:"100%",height:"100%",objectFit:"cover"}}):r.jsx(ws,{size:40,color:"var(--umat-gold)"})}),r.jsx("input",{type:"file",id:"avatar-input",hidden:!0,accept:"image/*",onChange:F})]}),r.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[r.jsx("h2",{style:{fontSize:"1.25rem",marginBottom:"4px",color:"var(--text-main)"},children:D.name}),r.jsx("p",{style:{color:"var(--umat-gold)",fontWeight:600,fontSize:"0.85rem",marginBottom:"12px"},children:D.designation}),r.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[r.jsxs("button",{className:"btn-primary",style:{padding:"8px 12px",fontSize:"0.8rem"},onClick:U,children:[r.jsx(wS,{size:14}),r.jsx("span",{style:{marginLeft:"8px"},children:"Edit Profile"})]}),r.jsx("button",{className:"btn-outline",style:{padding:"8px 12px",fontSize:"0.8rem"},onClick:q,children:"Change Avatar"})]})]})]}),r.jsxs("div",{className:"flex-mobile-column",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[r.jsxs("div",{className:"glass-card",style:{padding:"16px",background:"var(--glass)"},children:[r.jsx("p",{style:{fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:700,marginBottom:"4px"},children:"Official Email"}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx(bs,{size:14,color:"var(--umat-green)"}),r.jsx("span",{style:{fontWeight:500,fontSize:"0.9rem",wordBreak:"break-all"},children:D.email})]})]}),r.jsxs("div",{className:"glass-card",style:{padding:"16px",background:"var(--glass)"},children:[r.jsx("p",{style:{fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:700,marginBottom:"4px"},children:"Staff ID / Dept"}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx(hn,{size:14,color:"var(--umat-green)"}),r.jsx("span",{style:{fontWeight:500,fontSize:"0.9rem"},children:D.staffId})]})]})]})]}),r.jsxs("div",{className:"glass-card",style:{padding:"32px"},children:[r.jsx("h3",{style:{fontSize:"1.25rem",marginBottom:"24px",display:"flex",alignItems:"center",gap:"10px"},children:"Workspace Preferences"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"24px"},children:[r.jsxs("div",{children:[r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",fontWeight:600,marginBottom:"12px"},children:[r.jsx(Zh,{size:16,color:"var(--umat-gold)"})," Display Language"]}),r.jsxs("select",{value:y,onChange:z=>b(z.target.value),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px",borderRadius:"10px",color:"var(--text-main)",outline:"none"},children:[r.jsx("option",{children:"English (Ghana)"}),r.jsx("option",{children:"English (British)"}),r.jsx("option",{children:"French (West Africa)"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",fontWeight:600,marginBottom:"12px"},children:[r.jsx(Kl,{size:16,color:"var(--umat-gold)"})," Notification Frequency"]}),r.jsxs("select",{value:v,onChange:z=>w(z.target.value),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px",borderRadius:"10px",color:"var(--text-main)",outline:"none"},children:[r.jsx("option",{value:"instant",children:"Instant Alerts"}),r.jsx("option",{value:"daily",children:"Daily Digest"}),r.jsx("option",{value:"none",children:"Muted"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",fontWeight:600,marginBottom:"12px"},children:[r.jsx(Lx,{size:16,color:"var(--umat-gold)"})," Auto-Archive Drafts"]}),r.jsxs("select",{value:j,onChange:z=>_(z.target.value),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px",borderRadius:"10px",color:"var(--text-main)",outline:"none"},children:[r.jsx("option",{value:"30",children:"After 30 Days"}),r.jsx("option",{value:"90",children:"After 90 Days"}),r.jsx("option",{value:"0",children:"Never"})]})]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:r.jsxs("button",{className:"btn-primary",style:{height:"48px",justifyContent:"center"},onClick:X,children:[r.jsx(ja,{size:18})," Save Preferences"]})})]})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[r.jsxs("div",{className:"glass-card",style:{padding:"24px"},children:[r.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"20px"},children:"Interface Theme"}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[r.jsxs("div",{onClick:()=>g("dark"),style:{padding:"12px 16px",borderRadius:"12px",background:m==="dark"?"rgba(0, 104, 55, 0.1)":"var(--glass)",border:m==="dark"?"1px solid var(--umat-green)":"1px solid var(--glass-border)",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[r.jsx(Fx,{size:18,color:m==="dark"?"var(--umat-green)":"var(--text-muted)"}),r.jsx("span",{style:{flex:1,fontWeight:m==="dark"?600:400},children:"Ebony Night (Dark)"}),m==="dark"&&r.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"var(--umat-green)"}})]}),r.jsxs("div",{onClick:()=>g("light"),style:{padding:"12px 16px",borderRadius:"12px",background:m==="light"?"rgba(0, 104, 55, 0.1)":"var(--glass)",border:m==="light"?"1px solid var(--umat-green)":"1px solid var(--glass-border)",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[r.jsx(Xx,{size:18,color:m==="light"?"var(--umat-green)":"var(--text-muted)"}),r.jsx("span",{style:{flex:1,fontWeight:m==="light"?600:400},children:"Institutional Light"}),m==="light"&&r.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"var(--umat-green)"}})]})]})]}),r.jsxs("div",{className:"glass-card",style:{padding:"24px",background:"linear-gradient(145deg, rgba(0, 104, 55, 0.1), transparent)",border:"1px solid rgba(0, 104, 55, 0.2)"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[r.jsx("h3",{style:{fontSize:"1.1rem",margin:0},children:"Security Integrity"}),r.jsx("div",{style:{padding:"4px 10px",background:"var(--umat-green)",color:"white",borderRadius:"20px",fontSize:"0.65rem",fontWeight:800},children:"VERIFIED"})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"MFA Status"}),r.jsx("span",{style:{fontSize:"0.85rem",fontWeight:600,color:"var(--umat-gold)"},children:"Active (App)"})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Protocol Access"}),r.jsx("span",{style:{fontSize:"0.85rem",fontWeight:600},children:"192.168.1.12 (Accra)"})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Trust Level"}),r.jsx("div",{style:{display:"flex",gap:"2px"},children:[1,2,3,4,5].map(z=>r.jsx("div",{style:{width:"12px",height:"4px",background:z<=5?"var(--umat-green)":"rgba(255,255,255,0.1)",borderRadius:"2px"}},z))})]})]}),r.jsx("button",{className:"btn-outline",style:{width:"100%",fontSize:"0.8rem",marginTop:"24px",borderStyle:"dashed"},onClick:()=>p(!0),children:"Review Security Logs"})]})]})]}),r.jsx(BE,{isOpen:c,onClose:()=>u(!1),onSave:L,initialData:D}),r.jsx(ib,{isOpen:d,onClose:()=>p(!1)}),r.jsx(fn,{isOpen:A.isOpen,onClose:()=>C(z=>({...z,isOpen:!1})),onConfirm:A.onConfirm,title:A.title,description:A.description,type:A.type,confirmText:A.confirmText,confirmOnly:A.confirmOnly})]})},IE=()=>{const{user:i}=kt(),[t,s]=T.useState(!1),[o,c]=T.useState(!0),[u,d]=T.useState(!0),[p,m]=T.useState(!1),[g,y]=T.useState({current:"",next:""}),[b,v]=T.useState("30"),[w,j]=T.useState([]),[_,A]=T.useState({isOpen:!1,title:"",description:"",onConfirm:()=>{},type:"danger",confirmOnly:!1});T.useEffect(()=>{i&&C()},[i]);const C=async()=>{if(i)try{const{data:L,error:q}=await ee.from("audit_logs").select("*").eq("user_id",i.id).order("created_at",{ascending:!1}).limit(5);if(q)throw q;L&&j(L.map(F=>({action:F.action,device:F.details?.device||"Institutional System",time:new Date(F.created_at).toLocaleTimeString()+" Today",status:"success",ip:F.details?.ip||"Institutional NW"})))}catch(L){console.error("Error fetching security logs:",L)}};T.useEffect(()=>{if(!i)return;C();const L=ee.channel(`security-logs:${i.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"audit_logs",filter:`user_id=eq.${i.id}`},()=>C()).subscribe();return()=>{ee.removeChannel(L)}},[i]);const D=async L=>{if(L.preventDefault(),!g.next){A({isOpen:!0,title:"Missing Information",description:"Please enter a new passphrase to update your credentials.",type:"warning",confirmText:"Got it",confirmOnly:!0,onConfirm:()=>{}});return}if(i)try{const{error:q}=await ee.auth.updateUser({password:g.next});if(q)throw q;A({isOpen:!0,title:"Passphrase Updated",description:"Your passphrase has been updated successfully across all institutional systems.",type:"success",confirmText:"Done",confirmOnly:!0,onConfirm:()=>{}}),await At(i.id,"PASSWORD_CHANGE","user",i.id,{device:navigator.userAgent.slice(0,50),ip:"Auto-detected"}),y({current:"",next:""})}catch(q){A({isOpen:!0,title:"Update Error",description:`Failed to update passphrase: ${q.message}`,type:"danger",confirmText:"Close",confirmOnly:!0,onConfirm:()=>{}})}},E=()=>{A({isOpen:!0,title:"Emergency Account Lock",description:"EMERGENCY LOCK: This will sign you out of ALL devices and invalidate all active sessions. Proceed?",type:"danger",confirmText:"LOCK ACCOUNT",onConfirm:async()=>{try{const{error:L}=await ee.auth.signOut({scope:"global"});if(L)throw L;A({isOpen:!0,title:"Lock Engaged",description:"Global security lock engaged. All sessions revoked. You will be redirected shortly.",type:"success",confirmText:"Reload Now",confirmOnly:!0,onConfirm:()=>window.location.reload()})}catch(L){console.error("Failed to engage emergency lock:",L),A({isOpen:!0,title:"Lock Failed",description:`Failed to engage emergency lock: ${L.message}`,type:"danger",confirmText:"Retry",confirmOnly:!0,onConfirm:()=>{}})}}})},U=()=>{A({isOpen:!0,title:"Generating Backup",description:"Generating secure backup keys... Your institutional repository vault download will start automatically.",type:"info",confirmText:"Begin Download",confirmOnly:!0,onConfirm:()=>{}})};return r.jsxs("div",{className:"main-content",children:[r.jsxs("header",{style:{marginBottom:"32px"},children:[r.jsx("h1",{style:{fontSize:"2rem",marginBottom:"8px"},children:"Security Controls"}),r.jsx("p",{style:{color:"var(--text-muted)"},children:"Advanced protection for your UMaT digital assets."})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 380px",gap:"30px"},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[r.jsxs("div",{className:"glass-card",style:{padding:"32px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[r.jsx("div",{style:{padding:"10px",background:"rgba(0, 107, 63, 0.1)",borderRadius:"12px"},children:r.jsx(Yx,{color:"var(--umat-green)"})}),r.jsx("h3",{style:{fontSize:"1.25rem",margin:0},children:"Authentication Methods"})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("div",{children:[r.jsx("h4",{style:{fontSize:"1rem",marginBottom:"4px"},children:"Two-Step Verification (MFA)"}),r.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Protect your account with an extra layer of security via SMS or Authenticator."})]}),r.jsx("div",{onClick:()=>c(!o),style:{width:"50px",height:"26px",borderRadius:"20px",background:o?"var(--umat-green)":"var(--glass-border)",padding:"3px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",justifyContent:o?"flex-end":"flex-start"},children:r.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:"white"}})})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("div",{children:[r.jsx("h4",{style:{fontSize:"1rem",marginBottom:"4px"},children:"Immediate Login Alerts"}),r.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Get notified instantly on your phone when a new login occurs."})]}),r.jsx("div",{onClick:()=>d(!u),style:{width:"50px",height:"26px",borderRadius:"20px",background:u?"var(--umat-green)":"var(--glass-border)",padding:"3px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",justifyContent:u?"flex-end":"flex-start"},children:r.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:"white"}})})]})]})]}),r.jsxs("div",{className:"glass-card",style:{padding:"32px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[r.jsx("div",{style:{padding:"10px",background:"rgba(251, 191, 36, 0.1)",borderRadius:"12px"},children:r.jsx(gs,{color:"var(--umat-gold)"})}),r.jsx("h3",{style:{fontSize:"1.25rem",margin:0},children:"Passphrase Update"})]}),r.jsxs("form",{onSubmit:D,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[r.jsxs("div",{style:{position:"relative"},children:[r.jsx(gs,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{type:t?"text":"password",placeholder:"Current Passphrase",value:g.current,onChange:L=>y({...g,current:L.target.value}),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 48px",borderRadius:"10px",color:"var(--text-main)",outline:"none"}})]}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(Xj,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{type:t?"text":"password",placeholder:"New Secure Passphrase",value:g.next,onChange:L=>y({...g,next:L.target.value}),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 48px",borderRadius:"10px",color:"var(--text-main)",outline:"none"}}),r.jsx("div",{onClick:()=>s(!t),style:{position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",cursor:"pointer",color:"var(--text-muted)"},children:t?r.jsx(yj,{size:18}):r.jsx(qx,{size:18})})]})]}),r.jsx("button",{type:"submit",className:"btn-primary",style:{width:"fit-content",alignSelf:"flex-end"},children:"Sync Everywhere"})]})]}),r.jsxs("div",{className:"glass-card",style:{padding:"32px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[r.jsx("div",{style:{padding:"10px",background:"rgba(59, 130, 246, 0.1)",borderRadius:"12px"},children:r.jsx(Qx,{color:"#3b82f6"})}),r.jsx("h3",{style:{fontSize:"1.25rem",margin:0},children:"Advanced Security Tools"})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[r.jsxs("div",{className:"glass-card shadow-hover",style:{padding:"20px",cursor:"pointer",background:"rgba(239, 68, 68, 0.05)",border:"1px dashed rgba(239, 68, 68, 0.3)"},onClick:E,children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px",color:"#ef4444"},children:[r.jsx(ys,{size:18}),r.jsx("span",{style:{fontWeight:600},children:"Emergency Lock"})]}),r.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-muted)",margin:0},children:"Revoke all active sessions and force re-authentication on all devices."})]}),r.jsxs("div",{className:"glass-card shadow-hover",style:{padding:"20px",cursor:"pointer",background:"rgba(16, 185, 129, 0.05)"},onClick:U,children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px",color:"var(--umat-green)"},children:[r.jsx(so,{size:18}),r.jsx("span",{style:{fontWeight:600},children:"Backup Vault"})]}),r.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-muted)",margin:0},children:"Export your encrypted security keys for offline recovery purposes."})]})]})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[r.jsxs("div",{className:"glass-card",style:{padding:"24px"},children:[r.jsxs("h3",{style:{fontSize:"1.1rem",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[r.jsx(ph,{size:18,color:"var(--umat-gold)"})," Managed Sessions"]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[r.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[r.jsx("div",{style:{padding:"8px",background:"var(--glass)",borderRadius:"8px"},children:r.jsx(ph,{size:16})}),r.jsxs("div",{style:{flex:1},children:[r.jsx("p",{style:{margin:0,fontSize:"0.85rem",fontWeight:600},children:"iPhone 15 Pro"}),r.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"var(--umat-green)"},children:"Active Now  Tarkwa, GH"})]})]}),r.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[r.jsx("div",{style:{padding:"8px",background:"var(--glass)",borderRadius:"8px"},children:r.jsx(Zh,{size:16})}),r.jsxs("div",{style:{flex:1},children:[r.jsx("p",{style:{margin:0,fontSize:"0.85rem",fontWeight:600},children:"Chrome on Windows"}),r.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:"var(--text-muted)"},children:"Last active: 2 hrs ago  Kumasi, GH"})]}),r.jsx("button",{style:{background:"none",border:"none",color:"#ef4444",fontSize:"0.75rem",cursor:"pointer"},children:"Logout"})]})]})]}),r.jsxs("div",{className:"glass-card",style:{padding:"24px"},children:[r.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"16px"},children:"Session Preferences"}),r.jsxs("div",{style:{marginBottom:"16px"},children:[r.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-muted)",display:"block",marginBottom:"8px"},children:"Auto-Logout Period"}),r.jsxs("select",{value:b,onChange:L=>v(L.target.value),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"8px",borderRadius:"8px",color:"var(--text-main)",outline:"none"},children:[r.jsx("option",{value:"15",children:"15 Minutes"}),r.jsx("option",{value:"30",children:"30 Minutes"}),r.jsx("option",{value:"60",children:"1 Hour"}),r.jsx("option",{value:"0",children:"Never (Unsafe)"})]})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#3b82f6",fontSize:"0.85rem",cursor:"pointer"},children:[r.jsx(ka,{size:14}),r.jsx("span",{children:"Set Trusted IP Range"})]})]}),r.jsxs("div",{className:"glass-card",style:{padding:"24px"},children:[r.jsxs("h3",{style:{fontSize:"1.1rem",marginBottom:"16px",display:"flex",alignItems:"center",gap:"10px"},children:[r.jsx($l,{size:18})," Audit Trail"]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:w.slice(0,2).map((L,q)=>r.jsxs("div",{style:{fontSize:"0.8rem"},children:[r.jsx("p",{style:{margin:0,fontWeight:500,color:L.status==="alert"?"#ef4444":"var(--text-main)"},children:L.action}),r.jsxs("p",{style:{margin:0,color:"var(--text-muted)",fontSize:"0.75rem"},children:[L.time,"  ",L.ip]})]},q))}),r.jsx("button",{className:"btn-outline",style:{width:"100%",marginTop:"16px",fontSize:"0.8rem"},onClick:()=>m(!0),children:"View All Logs"})]})]})]}),r.jsx(ib,{isOpen:p,onClose:()=>m(!1)}),r.jsx(fn,{isOpen:_.isOpen,onClose:()=>A(L=>({...L,isOpen:!1})),onConfirm:_.onConfirm,title:_.title,description:_.description,type:_.type,confirmText:_.confirmText,confirmOnly:_.confirmOnly})]})},VE=()=>{const[i,t]=T.useState({totalMembers:0,totalFiles:0,recentUploads:0,storageUsed:"0 MB"}),[s,o]=T.useState(!0),[c,u]=T.useState([]),[d,p]=T.useState([]),[m,g]=T.useState([]),y=async()=>{o(!0);try{const{count:b}=await ee.from("profiles").select("*",{count:"exact",head:!0}),{data:v}=await ee.from("files").select("id, name, size, created_at, category, type, is_deleted, profiles(full_name, avatar_url)").eq("is_deleted",!1),{data:w}=await ee.from("files").select("size, type"),{data:j}=await ee.from("file_versions").select("size");if(!v)return;const _=v.filter(Q=>Q.type==="file"),A=_.length,C=Q=>{if(!Q)return 0;const $=Q.split(" ");let N=parseFloat($[0]);if(isNaN(N))return 0;const k=$[1]?.toUpperCase();return k==="KB"||k==="K"?N=N/1024:k==="GB"||k==="G"?N=N*1024:(k==="TB"||k==="T")&&(N=N*1024*1024),N};let D=0;w&&w.forEach(Q=>{Q.type==="file"&&(D+=C(Q.size))}),j&&j.forEach(Q=>D+=C(Q.size));const E=new Date;E.setDate(E.getDate()-1);const U=_.filter(Q=>new Date(Q.created_at)>E).length;t({totalMembers:b||0,totalFiles:A,recentUploads:U,storageUsed:D<1024?`${D.toFixed(2)} MB`:`${(D/1024).toFixed(2)} GB`});const L={};_.forEach(Q=>{const $=Q.category||"Uncategorized";L[$]=(L[$]||0)+1});const q={"General Board Documents":"var(--umat-gold)","Meeting Minutes":"#3b82f6","Financial Reports":"#8b5cf6",Academic:"#94a3b8",Uncategorized:"var(--umat-green)"},F=Object.entries(L).map(([Q,$])=>({label:Q,count:$,color:q[Q]||"#cbd5e1"})).sort((Q,$)=>$.count-Q.count).slice(0,5);u(F);const X=[],z=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],te=new Date;let ae=1;for(let Q=6;Q>=0;Q--){const $=new Date;$.setDate(te.getDate()-Q);const N=z[$.getDay()],k=new Date($.getFullYear(),$.getMonth(),$.getDate()),W=new Date($.getFullYear(),$.getMonth(),$.getDate()+1),re=_.filter(he=>{const O=new Date(he.created_at);return O>=k&&O<W}).length;re>ae&&(ae=re),X.push({day:N,count:re,height:0})}X.forEach(Q=>Q.height=ae>0?Q.count/ae*100:0),g(X);const Ce=[...v].sort((Q,$)=>new Date($.created_at).getTime()-new Date(Q.created_at).getTime()).slice(0,5).map(Q=>({id:Q.id,user:Q.profiles?.full_name||"System",avatar:Q.profiles?.avatar_url,action:`uploaded ${Q.name}`,time:new Date(Q.created_at).toLocaleString(),type:"upload"}));p(Ce)}catch(b){console.error("Error fetching analytics:",b)}finally{o(!1)}};return T.useEffect(()=>{y();const b=ee.channel("analytics-users").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},()=>y()).subscribe(),v=ee.channel("analytics-files").on("postgres_changes",{event:"*",schema:"public",table:"files"},()=>y()).subscribe();return()=>{ee.removeChannel(b),ee.removeChannel(v)}},[]),r.jsxs("div",{className:"main-content",children:[r.jsxs("header",{style:{marginBottom:"32px"},children:[r.jsx("h1",{style:{fontSize:"2rem",marginBottom:"8px"},children:"Portal Analytics"}),r.jsxs("p",{style:{color:"var(--text-muted)"},children:["Detailed insights into UMAT ShareHub engagement and storage metrics. ",s&&"(Updating...)"]})]}),r.jsxs("div",{className:"stats-grid",children:[r.jsxs("div",{className:"glass-card",style:{padding:"24px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[r.jsx("div",{style:{padding:"10px",borderRadius:"12px",background:"rgba(0, 107, 63, 0.1)"},children:r.jsx(On,{color:"var(--umat-green)",size:24})}),r.jsxs("span",{style:{fontSize:"0.8rem",color:"#10b981",display:"flex",alignItems:"center"},children:[r.jsx(Yl,{size:14})," Active"]})]}),r.jsx("h3",{style:{fontSize:"1.8rem",margin:"0 0 4px 0"},children:i.totalMembers}),r.jsx("p",{style:{color:"var(--text-muted)",margin:0,fontSize:"0.9rem"},children:"Total Members"})]}),r.jsxs("div",{className:"glass-card",style:{padding:"24px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[r.jsx("div",{style:{padding:"10px",borderRadius:"12px",background:"rgba(251, 191, 36, 0.1)"},children:r.jsx($x,{color:"var(--umat-gold)",size:24})}),r.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",alignItems:"center"},children:"Used Space"})]}),r.jsx("h3",{style:{fontSize:"1.8rem",margin:"0 0 4px 0"},children:i.storageUsed}),r.jsx("p",{style:{color:"var(--text-muted)",margin:0,fontSize:"0.9rem"},children:"Encrypted Cloud Storage"})]}),r.jsxs("div",{className:"glass-card",style:{padding:"24px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[r.jsx("div",{style:{padding:"10px",borderRadius:"12px",background:"rgba(59, 130, 246, 0.1)"},children:r.jsx(un,{color:"#3b82f6",size:24})}),r.jsxs("span",{style:{fontSize:"0.8rem",color:"#10b981",display:"flex",alignItems:"center"},children:[r.jsx(Yl,{size:14})," ",i.totalFiles," Total"]})]}),r.jsx("h3",{style:{fontSize:"1.8rem",margin:"0 0 4px 0"},children:i.totalFiles}),r.jsx("p",{style:{color:"var(--text-muted)",margin:0,fontSize:"0.9rem"},children:"Documents Managed"})]}),r.jsxs("div",{className:"glass-card",style:{padding:"24px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[r.jsx("div",{style:{padding:"10px",borderRadius:"12px",background:"rgba(139, 92, 246, 0.1)"},children:r.jsx(Xl,{color:"#8b5cf6",size:24})}),r.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)",display:"flex",alignItems:"center"},children:"Last 24h"})]}),r.jsx("h3",{style:{fontSize:"1.8rem",margin:"0 0 4px 0"},children:i.recentUploads}),r.jsx("p",{style:{color:"var(--text-muted)",margin:0,fontSize:"0.9rem"},children:"New Files"})]})]}),r.jsxs("div",{className:"flex-mobile-column",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"30px",marginTop:"30px"},children:[r.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[r.jsxs("h3",{style:{fontSize:"1.25rem",display:"flex",alignItems:"center",gap:"10px"},children:[r.jsx(Xy,{size:20,color:"var(--umat-green)"})," Upload Trends"]}),r.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Last 7 Days"})]}),r.jsxs("div",{style:{height:"300px",display:"flex",alignItems:"flex-end",justifyContent:"space-between",paddingBottom:"20px",position:"relative"},children:[r.jsx("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",zIndex:0},children:[1,2,3,4].map(b=>r.jsx("div",{style:{borderBottom:"1px dashed var(--glass-border)",width:"100%"}},b))}),m.map((b,v)=>r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",zIndex:1,width:"10%"},title:`${b.count} uploads`,children:[r.jsx("div",{style:{height:`${b.height}%`,minHeight:"4px",width:"100%",background:"linear-gradient(to top, var(--umat-green), var(--umat-gold))",borderRadius:"6px 6px 0 0",opacity:.9,transition:"height 0.5s ease-out"}}),r.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:b.day})]},v))]})]}),r.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[r.jsx("h3",{style:{fontSize:"1.25rem",marginBottom:"30px"},children:"Content Distribution"}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:c.length===0?r.jsx("p",{style:{color:"var(--text-muted)"},children:"No file data available yet."}):c.map((b,v)=>r.jsxs("div",{children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"0.9rem"},children:[r.jsx("span",{children:b.label}),r.jsx("span",{style:{fontWeight:600},children:b.count})]}),r.jsx("div",{style:{height:"8px",background:"var(--glass)",borderRadius:"10px",overflow:"hidden"},children:r.jsx("div",{style:{width:`${b.count/i.totalFiles*100}%`,height:"100%",background:b.color,borderRadius:"10px",transition:"width 0.5s ease-out"}})})]},v))})]})]}),r.jsxs("div",{className:"flex-mobile-column",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"30px",marginTop:"30px"},children:[r.jsxs("div",{className:"glass-card",style:{padding:"30px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[r.jsx("h3",{style:{fontSize:"1.25rem"},children:"Latest Activity"}),r.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--umat-green)",fontWeight:700,display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx("div",{style:{width:"6px",height:"6px",background:"var(--umat-green)",borderRadius:"50%",boxShadow:"0 0 5px var(--umat-green)"}}),"LIVE"]})]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:d.length===0?r.jsx("p",{style:{color:"var(--text-muted)"},children:"No recent activity to show."}):d.map(b=>r.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center",paddingBottom:"16px",borderBottom:"1px solid var(--glass-border)"},children:[r.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"rgba(0, 107, 63, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:b.avatar?r.jsx("img",{src:b.avatar,alt:b.user,style:{width:"100%",height:"100%",objectFit:"cover"}}):r.jsx(Xl,{size:18,color:"var(--umat-green)"})}),r.jsxs("div",{style:{flex:1},children:[r.jsxs("p",{style:{margin:0,fontSize:"0.9rem"},children:[r.jsx("span",{style:{fontWeight:600},children:b.user})," ",b.action]}),r.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--text-muted)"},children:b.time})]})]},b.id))})]}),r.jsxs("div",{className:"glass-card",style:{padding:"40px",background:"linear-gradient(135deg, var(--umat-green-dark), transparent)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},children:[r.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"var(--umat-gold)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"24px",boxShadow:"0 0 30px rgba(251, 191, 36, 0.3)"},children:r.jsx(Xy,{size:40,color:"var(--bg-dark)"})}),r.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:"16px"},children:"Performance Summary"}),r.jsxs("p",{style:{color:"var(--text-muted)",marginBottom:"32px",maxWidth:"300px"},children:["System is running smoothy. ",i.recentUploads," new files added in the last 24 hours."]}),r.jsx("button",{className:"btn-primary",children:"Download Report"})]})]})]})},PE=({isOpen:i,onClose:t,onSubmit:s,initialData:o})=>{const[c,u]=T.useState({name:"",email:"",department:"",role:"Board Member",status:"Active"});if(T.useEffect(()=>{u(o||{name:"",email:"",department:"",role:"Board Member",status:"Active"})},[o,i]),!i)return null;const d=p=>{p.preventDefault(),s(c),t()};return r.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:7e3,animation:"fadeIn 0.3s ease-out"},onClick:t,children:r.jsxs("div",{className:"glass-card",style:{width:"90%",maxWidth:"550px",padding:"40px",animation:"slideUp 0.4s ease-out",background:"var(--bg-modal)"},onClick:p=>p.stopPropagation(),children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[r.jsxs("div",{children:[r.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:"8px"},children:o?"Edit Institutional User":"Register New User"}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Configure access levels for institutional members."})]}),r.jsx("button",{onClick:t,style:{background:"none",border:"none",color:"var(--text-muted)",cursor:"pointer"},children:r.jsx(Xt,{size:24})})]}),r.jsxs("form",{onSubmit:d,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)",textTransform:"uppercase"},children:"Full Name & Honorific"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(ws,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{required:!0,type:"text",placeholder:"e.g. Prof. Jane Doe",value:c.name,onChange:p=>u({...c,name:p.target.value}),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 40px",borderRadius:"10px",color:"var(--text-main)",outline:"none"}})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)",textTransform:"uppercase"},children:"Institutional Email"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(bs,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{required:!0,type:"email",placeholder:"user@umat.edu.gh",value:c.email,onChange:p=>u({...c,email:p.target.value}),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 40px",borderRadius:"10px",color:"var(--text-main)",outline:"none"}})]})]}),r.jsxs("div",{className:"meeting-cols-2",children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)",textTransform:"uppercase"},children:"Department"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(Ix,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{required:!0,type:"text",placeholder:"e.g. Geomatic Eng.",value:c.department,onChange:p=>u({...c,department:p.target.value}),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 40px",borderRadius:"10px",color:"var(--text-main)",outline:"none"}})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)",textTransform:"uppercase"},children:"Security Role"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(hn,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsxs("select",{value:c.role,onChange:p=>u({...c,role:p.target.value}),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 40px",borderRadius:"10px",color:"var(--text-main)",outline:"none",appearance:"none",cursor:"pointer"},children:[r.jsx("option",{value:"Admin",children:"System Admin"}),r.jsx("option",{value:"Board Member",children:"Board Member"}),r.jsx("option",{value:"Viewer",children:"Academic Viewer"}),r.jsx("option",{value:"Guest",children:"Guest Access"})]})]})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,color:"var(--text-muted)",textTransform:"uppercase"},children:"Account Status"}),r.jsx("div",{style:{display:"flex",gap:"16px"},children:["Active","Pending","Inactive"].map(p=>r.jsxs("button",{type:"button",onClick:()=>u({...c,status:p}),style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:c.status===p?"var(--umat-green)":"var(--glass)",color:c.status===p?"white":"var(--text-muted)",fontSize:"0.85rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[p==="Active"&&r.jsx(ja,{size:14}),p==="Pending"&&r.jsx(lc,{size:14}),p]},p))})]}),r.jsx("div",{style:{marginTop:"20px",padding:"16px",borderRadius:"10px",background:"rgba(251, 191, 36, 0.05)",border:"1px solid rgba(251, 191, 36, 0.2)"},children:r.jsxs("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--umat-gold)",display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx(hn,{size:14})," Note: New users will receive an automated passphrase setup email."]})}),r.jsxs("button",{type:"submit",className:"btn-primary",style:{marginTop:"10px",width:"100%",height:"50px",justifyContent:"center",fontSize:"1rem"},children:[r.jsx(sf,{size:20})," ",o?"Update Member Profile":"Authorize New Access"]})]})]})})},qE=()=>{const[i,t]=T.useState([]),[s,o]=T.useState(""),[c,u]=T.useState("All Roles"),[d,p]=T.useState(!1),[m,g]=T.useState(null),{createNotification:y}=ii(),{profile:b}=kt(),[v,w]=T.useState(!0),[j,_]=T.useState({isOpen:!1,title:"",description:"",onConfirm:()=>{},type:"question",confirmOnly:!1}),A=async()=>{w(!0);try{const{data:z,error:te}=await ee.from("profiles").select("*").order("full_name",{ascending:!0});if(te)throw te;const{data:ae,error:ye}=await ee.from("user_invites").select("*"),Q=((ye?[]:ae)||[]).map($=>({id:`invite-${$.email}`,full_name:$.email,email:$.email,department:$.department||"Pending Join",role:$.role,status:"Invited",last_active:null,is_invite:!0}));z&&t([...z,...Q])}catch(z){console.error("Error fetching users:",z)}finally{w(!1)}};T.useEffect(()=>{A();const z=ee.channel("profiles_changes").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},()=>{A()}).subscribe();return()=>{ee.removeChannel(z)}},[]);const C=z=>{if(!z)return"Never";const te=new Date,ae=new Date(z),ye=Math.floor((te.getTime()-ae.getTime())/1e3);return ye<60?"Just now":ye<3600?`${Math.floor(ye/60)} mins ago`:ye<86400?`${Math.floor(ye/3600)} hours ago`:ae.toLocaleDateString()},D=[{label:"Active Members",value:i.filter(z=>z.status==="Active").length,icon:On,color:"var(--umat-navy)"},{label:"Active Now",value:i.filter(z=>z.last_active?(new Date().getTime()-new Date(z.last_active).getTime())/1e3<300:!1).length,icon:jn,color:"var(--umat-green)"},{label:"Pending Approvals",value:i.filter(z=>z.status==="Pending").length,icon:dt,color:"#fbbf24"}],E=i.filter(z=>{const te=(z.full_name||"").toLowerCase().includes(s.toLowerCase())||(z.email||"").toLowerCase().includes(s.toLowerCase())||(z.department||"").toLowerCase().includes(s.toLowerCase()),ae=c==="All Roles"||z.role===c;return te&&ae}),U=()=>{g(null),p(!0)},L=z=>{g(z),p(!0)},q=(z,te)=>{_({isOpen:!0,title:"Revoke Access",description:`Are you sure you want to revoke institutional access for ${te}?`,type:"danger",confirmText:"Revoke Access",onConfirm:async()=>{try{if(z.startsWith("invite-")){const ye=z.replace("invite-",""),{error:Ce}=await ee.from("user_invites").delete().eq("email",ye);if(Ce)throw Ce;_({isOpen:!0,title:"Invitation Cancelled",description:`The invitation for ${ye} has been successfully withdrawn.`,type:"success",confirmText:"Done",confirmOnly:!0,onConfirm:A})}else{const{error:ye}=await ee.from("profiles").update({status:"Inactive"}).eq("id",z);if(ye)throw ye;b&&(await At(b.id,"ACCESS_REVOKED","user",z,{revoked_user:te,timestamp:new Date().toISOString()}),await y(b.id,"Access Revoked",`Institutional access for ${te} has been suspended.`,"warning"))}A()}catch(ae){console.error("Error revoking access:",ae),_({isOpen:!0,title:"Operation Failed",description:`Failed to revoke institutional access: ${ae.message||"Check connection"}`,type:"danger",confirmText:"Close",confirmOnly:!0,onConfirm:()=>{}})}}})},F=(z,te)=>{_({isOpen:!0,title:"Approve Access",description:`Approve access for ${te}? They will gain full access to assigned resources.`,type:"success",confirmText:"Approve",onConfirm:async()=>{try{const{error:ae}=await ee.from("profiles").update({status:"Active"}).eq("id",z);if(ae)throw ae;b&&await At(b.id,"USER_APPROVAL","user",z,{approved_user:te,timestamp:new Date().toISOString()}),await y(z,"Institutional Access Approved","Your application for the UMaT Board Portal has been approved. You now have full access to your assigned resources.","success"),b&&await y(b.id,"Member Approved",`${te} has been successfully authorized.`,"info"),_({isOpen:!0,title:"Member Approved",description:`${te} has been successfully authorized and granted access.`,type:"success",confirmText:"Perfect",confirmOnly:!0,onConfirm:A})}catch(ae){console.error("Error approving user:",ae),_({isOpen:!0,title:"Approval Error",description:`Failed to approve member: ${ae.message||"Check RLS policies"}`,type:"danger",confirmText:"Close",confirmOnly:!0,onConfirm:()=>{}})}}})},X=async z=>{w(!0);try{if(m&&!m.is_invite){const{error:te}=await ee.from("profiles").update({full_name:z.name,role:z.role,department:z.department,status:z.status}).eq("id",m.id);if(te)throw te;_({isOpen:!0,title:"Profile Updated",description:"Member profile details have been successfully synchronized.",type:"success",confirmText:"Return",confirmOnly:!0,onConfirm:A})}else{const te=m?.is_invite?m.email:z.email,{error:ae}=await ee.from("user_invites").upsert([{email:te,role:z.role,department:z.department,invited_by:b?.id}],{onConflict:"email"});if(ae)throw ae;_({isOpen:!0,title:"Invitation Managed",description:`Invitation ${m?.is_invite?"updated":"sent"} to ${te} successfully.`,type:"success",confirmText:"Done",confirmOnly:!0,onConfirm:A})}}catch(te){console.error("Error updating profile:",te),_({isOpen:!0,title:"Operation Failed",description:`Failed to sync profile change: ${te.message||"Check connection"}`,type:"danger",confirmText:"Close",confirmOnly:!0,onConfirm:()=>{}})}finally{w(!1),A()}};return r.jsxs("div",{className:"main-content",children:[r.jsxs("header",{className:"header-flex",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",flexWrap:"wrap",gap:"20px"},children:[r.jsxs("div",{children:[r.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"4px"},children:"Access Control"}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Security and role management for the Board Portal."})]}),r.jsxs("button",{className:"btn-primary",onClick:U,style:{padding:"8px 16px",fontSize:"0.9rem"},children:[r.jsx(t_,{size:18}),r.jsx("span",{style:{marginLeft:"8px"},children:"Authorize New Member"})]})]}),r.jsx("div",{className:"stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginBottom:"32px"},children:D.map((z,te)=>r.jsxs("div",{className:"glass-card",style:{padding:"24px",display:"flex",alignItems:"center",gap:"20px"},children:[r.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"12px",background:`${z.color}20`,display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(z.icon,{size:24,color:z.color})}),r.jsxs("div",{children:[r.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-muted)",fontWeight:600},children:z.label}),r.jsx("h3",{style:{margin:0,fontSize:"1.5rem",fontWeight:800},children:z.value})]})]},te))}),r.jsxs("div",{className:"glass-card search-filter-row",style:{padding:"16px 20px",marginBottom:"32px",display:"flex",gap:"16px",alignItems:"center"},children:[r.jsxs("div",{style:{position:"relative",flex:1,width:"100%"},children:[r.jsx(Sn,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{type:"text",placeholder:"Search institutional directory...",value:s,onChange:z=>o(z.target.value),style:{width:"100%",background:"var(--bg-dark)",border:"1px solid var(--glass-border)",padding:"10px 12px 10px 40px",borderRadius:"10px",color:"var(--text-main)",outline:"none",fontSize:"0.9rem"}})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",width:"100%",maxWidth:"200px"},children:[r.jsx(cc,{size:18,color:"var(--text-muted)"}),r.jsxs("select",{value:c,onChange:z=>u(z.target.value),style:{width:"100%",background:"var(--bg-dark)",border:"1px solid var(--glass-border)",color:"var(--text-main)",padding:"10px 16px",borderRadius:"10px",outline:"none",cursor:"pointer",fontSize:"0.9rem"},children:[r.jsx("option",{children:"All Roles"}),r.jsx("option",{children:"Admin"}),r.jsx("option",{children:"Board Member"}),r.jsx("option",{children:"Viewer"}),r.jsx("option",{children:"Guest"})]})]})]}),r.jsxs("div",{className:"glass-card",style:{overflow:"hidden"},children:[r.jsx("div",{style:{padding:"20px 24px",borderBottom:"1px solid var(--glass-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:r.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"User Directory"})}),r.jsx("div",{className:"responsive-table",children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[r.jsx("thead",{style:{background:"rgba(255,255,255,0.01)"},children:r.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid var(--glass-border)"},children:[r.jsx("th",{style:{padding:"16px 24px",color:"var(--text-muted)",fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Member Profile"}),r.jsx("th",{style:{padding:"16px 24px",color:"var(--text-muted)",fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase"},children:"Dept / Unit"}),r.jsx("th",{style:{padding:"16px 24px",color:"var(--text-muted)",fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase"},children:"Security Role"}),r.jsx("th",{style:{padding:"16px 24px",color:"var(--text-muted)",fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase"},children:"Activity"}),r.jsx("th",{style:{padding:"16px 24px",color:"var(--text-muted)",fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase"},children:"Status"}),r.jsx("th",{style:{padding:"16px 24px"}})]})}),r.jsxs("tbody",{children:[E.map(z=>r.jsxs("tr",{className:"user-row",style:{borderBottom:"1px solid var(--glass-border)",transition:"background 0.2s"},children:[r.jsx("td",{style:{padding:"16px 24px"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[z.avatar_url?r.jsx("img",{src:z.avatar_url,alt:z.full_name,style:{width:"42px",height:"42px",borderRadius:"50%",objectFit:"cover",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"}}):r.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"50%",background:"linear-gradient(135deg, var(--umat-navy), var(--umat-green))",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1rem",fontWeight:800,color:"var(--umat-gold)",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:(z.full_name||"U").split(" ").pop()?.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{style:{margin:0,fontWeight:700,fontSize:"0.95rem"},children:z.full_name}),r.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--text-muted)"},children:z.email})]})]})}),r.jsx("td",{style:{padding:"16px 24px",fontSize:"0.9rem",color:"var(--text-main)",opacity:.9},children:z.department}),r.jsx("td",{style:{padding:"16px 24px"},children:r.jsx("span",{style:{padding:"4px 12px",borderRadius:"20px",fontSize:"0.7rem",fontWeight:800,textTransform:"uppercase",letterSpacing:"0.5px",background:z.role==="Admin"?"rgba(0, 104, 55, 0.1)":"rgba(0, 45, 98, 0.1)",color:z.role==="Admin"?"var(--umat-green)":"var(--umat-navy)",border:`1px solid ${z.role==="Admin"?"var(--umat-green)":"var(--umat-navy)"}30`},children:z.role})}),r.jsx("td",{style:{padding:"16px 24px",fontSize:"0.85rem",color:"var(--umat-gold)",fontWeight:500},children:C(z.last_active)}),r.jsx("td",{style:{padding:"16px 24px"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.85rem"},children:[r.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:z.status==="Active"?"#10b981":z.status==="Pending"||z.status==="Invited"?"#fbbf24":"#ef4444"}}),r.jsx("span",{style:{color:z.status==="Active"?"#10b981":z.status==="Pending"||z.status==="Invited"?"#fbbf24":"#ef4444",fontWeight:600},children:z.status})]})}),r.jsx("td",{style:{padding:"16px 24px"},children:r.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[z.status==="Pending"&&r.jsx("button",{onClick:()=>F(z.id,z.full_name),style:{background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.2)",color:"#10b981",cursor:"pointer",padding:"6px",borderRadius:"6px"},className:"action-btn",title:"Approve User",children:r.jsx(On,{size:18})}),r.jsx("button",{onClick:()=>L(z),style:{background:"none",border:"none",color:"var(--text-muted)",cursor:"pointer",padding:"6px",borderRadius:"6px"},className:"action-btn",title:"Edit Profile",children:r.jsx(vS,{size:18})}),r.jsx("button",{onClick:()=>q(z.id,z.full_name),style:{background:"none",border:"none",color:"var(--text-muted)",cursor:"pointer",padding:"6px",borderRadius:"6px"},className:"action-btn",title:"Revoke Access",children:r.jsx(ys,{size:18})})]})})]},z.id)),v?r.jsx("tr",{children:r.jsx("td",{colSpan:6,style:{padding:"60px",textAlign:"center"},children:r.jsx(dt,{className:"animate-spin",size:32,color:"var(--umat-gold)"})})}):E.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,style:{padding:"60px",textAlign:"center"},children:r.jsxs("div",{style:{color:"var(--text-muted)",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[r.jsx(Sn,{size:40,opacity:.3}),"No members matching your search parameters were found in the institutional directory."]})})})]})]})})]}),r.jsx(PE,{isOpen:d,onClose:()=>p(!1),onSubmit:X,initialData:m}),r.jsx(fn,{isOpen:j.isOpen,onClose:()=>_(z=>({...z,isOpen:!1})),onConfirm:j.onConfirm,title:j.title,description:j.description,type:j.type,confirmText:j.confirmText,confirmOnly:j.confirmOnly}),r.jsx("style",{children:`
                    .user-row:hover {
                        background: rgba(255, 255, 255, 0.02);
                    }
                    .action-btn:hover {
                        background: var(--glass-border);
                        color: var(--text-main) !important;
                    }
                    @media (max-width: 768px) {
                        .header-flex {
                            flex-direction: column;
                            align-items: flex-start !important;
                        }
                        .header-flex .btn-primary {
                            width: 100%;
                            justify-content: center;
                        }
                        .search-filter-row {
                            flex-direction: column;
                            align-items: stretch !important;
                        }
                        .search-filter-row > div {
                            max-width: 100% !important;
                        }
                        .stats-grid {
                            grid-template-columns: 1fr !important;
                        }
                    }
                `})]})},$E=()=>{const{notifications:i,markAllAsRead:t,markAsRead:s,refreshNotifications:o,loading:c}=ii(),u=i.map(g=>({id:g.id,title:g.title,desc:g.message,time:new Date(g.created_at).toLocaleString(),icon:g.type==="file"?r.jsx(un,{size:18,color:"var(--umat-green)"}):g.type==="meeting"?r.jsx(Zn,{size:18,color:"var(--umat-gold)"}):g.type==="comment"?r.jsx(nf,{size:18,color:"#3b82f6"}):g.type==="success"?r.jsx(ja,{size:18,color:"#10b981"}):g.type==="warning"?r.jsx(ja,{size:18,color:"var(--umat-gold)"}):r.jsx(ja,{size:18,color:"#10b981"}),read:g.is_read})),d=async()=>{await t()},p=async g=>{await s(g)},m=()=>{o()};return r.jsxs("div",{className:"main-content",children:[r.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[r.jsxs("div",{children:[r.jsxs("h1",{style:{fontSize:"2rem",marginBottom:"8px"},children:["Notifications ",c&&r.jsx(dt,{className:"animate-spin inline-block ml-2",size:20})]}),r.jsx("p",{style:{color:"var(--text-muted)"},children:"Stay updated with board activities and file sharing alerts."})]}),r.jsxs("div",{style:{display:"flex",gap:"12px"},children:[r.jsx("button",{className:"btn-outline",onClick:d,children:"Mark all as read"}),r.jsxs("button",{className:"btn-primary",onClick:m,children:[r.jsx(cc,{size:18,style:{marginRight:"8px"}}),"Filter"]})]})]}),r.jsx("div",{style:{maxWidth:"800px"},children:r.jsxs("div",{className:"glass-card",style:{padding:"0"},children:[u.map((g,y)=>r.jsxs("div",{onClick:()=>!g.read&&p(g.id),style:{padding:"24px",borderBottom:y<u.length-1?"1px solid var(--glass-border)":"none",display:"flex",gap:"20px",background:g.read?"transparent":"rgba(0, 104, 55, 0.05)",position:"relative",transition:"background 0.3s",cursor:g.read?"default":"pointer"},children:[!g.read&&r.jsx("div",{style:{position:"absolute",left:"0",top:"0",bottom:"0",width:"4px",background:"var(--umat-green)"}}),r.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"var(--glass)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:g.icon}),r.jsxs("div",{style:{flex:1},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[r.jsx("h3",{style:{fontSize:"1rem",fontWeight:g.read?600:700},children:g.title}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"var(--text-muted)",fontSize:"0.8rem"},children:[r.jsx(jn,{size:12}),g.time]})]}),r.jsx("p",{style:{fontSize:"0.9rem",color:g.read?"var(--text-muted)":"var(--text-main)",margin:0,lineHeight:1.5},children:g.desc})]}),r.jsx("div",{style:{alignSelf:"center"},children:r.jsx(Jh,{size:18,color:"var(--text-muted)",style:{cursor:"pointer"}})})]},g.id)),u.length===0&&r.jsx("div",{style:{padding:"40px",textAlign:"center",color:"var(--text-muted)"},children:"No new notifications."})]})})]})},HE=()=>{const{trashItems:i,loading:t,fetchTrashFiles:s,restoreItem:o,emptyTrash:c,deleteItem:u}=js(),[d,p]=T.useState({isOpen:!1,title:"",description:"",onConfirm:()=>{},type:"question",confirmOnly:!1});T.useEffect(()=>{s()},[]);const m=()=>{i.length!==0&&p({isOpen:!0,title:"Empty Trash",description:"Are you sure you want to permanently delete all items in the trash? This action cannot be undone.",type:"danger",confirmText:"Empty Trash",onConfirm:async()=>{await c()}})},g=async v=>{await o(v)},y=v=>{p({isOpen:!0,title:"Delete Permanently",description:"Permanently delete this file? This action cannot be undone.",type:"danger",confirmText:"Delete",onConfirm:async()=>{await u(v,!0)}})},b=v=>{if(!v)return"Unknown";const w=new Date(v),_=Math.floor((new Date().getTime()-w.getTime())/1e3);return _<60?"Just now":_<3600?`${Math.floor(_/60)} mins ago`:_<86400?`${Math.floor(_/3600)} hours ago`:`${Math.floor(_/86400)} days ago`};return r.jsxs("div",{className:"main-content",children:[r.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",flexWrap:"wrap",gap:"20px"},children:[r.jsxs("div",{children:[r.jsxs("h1",{style:{fontSize:"1.5rem",marginBottom:"4px"},children:["Trash ",t&&r.jsx(dt,{className:"animate-spin inline-block ml-2",size:16})]}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Recover deleted documents or empty the trash."})]}),r.jsx("div",{style:{display:"flex",gap:"12px"},children:r.jsxs("button",{className:"btn-outline",style:{color:"#ef4444",borderColor:"rgba(239, 68, 68, 0.2)",opacity:i.length===0?.5:1,cursor:i.length===0?"not-allowed":"pointer",padding:"8px 16px",fontSize:"0.85rem"},onClick:m,disabled:i.length===0,children:[r.jsx(ys,{size:16}),r.jsx("span",{style:{marginLeft:"8px"},children:"Empty Trash"})]})})]}),r.jsxs("div",{className:"glass-card",style:{padding:"20px",marginBottom:"32px",background:"rgba(239, 68, 68, 0.05)",border:"1px dashed rgba(239, 68, 68, 0.2)",display:"flex",alignItems:"center",gap:"12px"},children:[r.jsx(lc,{size:20,color:"#ef4444"}),r.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-main)"},children:["Files in the trash will be permanently deleted after ",r.jsx("span",{style:{fontWeight:700},children:"30 days"}),"."]})]}),r.jsx("div",{className:"glass-card",style:{padding:"0 24px"},children:i.length>0?r.jsx("div",{className:"responsive-table",children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"600px"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid var(--glass-border)"},children:[r.jsx("th",{style:{padding:"16px 0",color:"var(--text-muted)",fontWeight:500,fontSize:"0.85rem"},children:"Name"}),r.jsx("th",{style:{padding:"16px 0",color:"var(--text-muted)",fontWeight:500,fontSize:"0.85rem"},children:"Size"}),r.jsx("th",{style:{padding:"16px 0",color:"var(--text-muted)",fontWeight:500,fontSize:"0.85rem"},children:"Deleted At"}),r.jsx("th",{style:{padding:"16px 0",textAlign:"right"},children:"Actions"})]})}),r.jsx("tbody",{children:i.map(v=>r.jsxs("tr",{style:{borderBottom:"1px solid var(--glass-border)"},children:[r.jsx("td",{style:{padding:"16px 0"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r.jsx(Bi,{name:v.name,size:20}),r.jsxs("div",{children:[r.jsx("p",{style:{margin:0,fontWeight:500},children:v.name}),r.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--text-muted)"},children:v.category})]})]})}),r.jsx("td",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:v.size}),r.jsx("td",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:b(v.deleted_at)}),r.jsx("td",{style:{padding:"16px 0",textAlign:"right"},children:r.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[r.jsx("button",{className:"glass-card",style:{padding:"8px",borderRadius:"8px",background:"rgba(255,255,255,0.05)",cursor:"pointer"},title:"Restore",onClick:()=>g(v.id),children:r.jsx(RS,{size:16,color:"var(--umat-green)"})}),r.jsx("button",{className:"glass-card",style:{padding:"8px",borderRadius:"8px",background:"rgba(255,255,255,0.05)",cursor:"pointer"},title:"Permanently Delete",onClick:()=>y(v.id),children:r.jsx(YS,{size:16,color:"#ef4444"})})]})})]},v.id))})]})}):r.jsxs("div",{style:{padding:"80px 0",textAlign:"center"},children:[r.jsx(ys,{size:48,color:"var(--glass-border)",style:{marginBottom:"16px"}}),r.jsx("h3",{style:{color:"var(--text-muted)"},children:"Trash is empty"})]})}),r.jsx(fn,{isOpen:d.isOpen,onClose:()=>p(v=>({...v,isOpen:!1})),onConfirm:d.onConfirm,title:d.title,description:d.description,type:d.type,confirmText:d.confirmText,confirmOnly:d.confirmOnly})]})},FE=()=>{const{categoryItems:i,fetchFilesByCategory:t,loading:s}=js(),[o,c]=T.useState(null),[u,d]=T.useState("list"),[p,m]=T.useState(""),[g,y]=T.useState(null),b=[{id:"Documents",label:"Documents",icon:r.jsx(un,{size:32,color:"var(--umat-green)"}),color:"rgba(0, 104, 55, 0.1)"},{id:"Images",label:"Images",icon:r.jsx(Wj,{size:32,color:"#3b82f6"}),color:"rgba(59, 130, 246, 0.1)"},{id:"Videos",label:"Videos",icon:r.jsx(rf,{size:32,color:"#ef4444"}),color:"rgba(239, 68, 68, 0.1)"},{id:"Audio",label:"Audio",icon:r.jsx(hh,{size:32,color:"#8b5cf6"}),color:"rgba(139, 92, 246, 0.1)"},{id:"Research",label:"Research",icon:r.jsx(Hw,{size:32,color:"var(--umat-gold)"}),color:"rgba(251, 191, 36, 0.1)"},{id:"Others",label:"Others",icon:r.jsx(Sa,{size:32,color:"var(--text-muted)"}),color:"var(--glass)"}];T.useEffect(()=>{o&&t(o)},[o]);const v=j=>{c(j),m("")},w=i.filter(j=>j.name.toLowerCase().includes(p.toLowerCase()));return g?r.jsx(vc,{file:g,onBack:()=>y(null)}):o?r.jsxs("div",{className:"main-content",children:[r.jsxs("header",{style:{marginBottom:"24px",display:"flex",alignItems:"center",gap:"16px"},children:[r.jsx("button",{onClick:()=>c(null),className:"shadow-hover",style:{background:"var(--glass)",border:"1px solid var(--glass-border)",color:"var(--text-main)",width:"40px",height:"40px",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:r.jsx(io,{size:20})}),r.jsxs("div",{children:[r.jsxs("h1",{style:{fontSize:"1.5rem",marginBottom:"4px"},children:[o,s&&r.jsx(dt,{className:"animate-spin inline-block ml-3",size:20})]}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Browse all files in this category."})]})]}),r.jsx("div",{className:"glass-card",style:{padding:"20px",marginBottom:"24px"},children:r.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[r.jsxs("div",{style:{flex:1,position:"relative"},children:[r.jsx(Sn,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{type:"text",placeholder:`Search in ${o}...`,value:p,onChange:j=>m(j.target.value),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 48px",borderRadius:"12px",color:"var(--text-main)",outline:"none"}})]}),r.jsxs("div",{style:{display:"flex",gap:"8px",background:"var(--glass)",padding:"4px",borderRadius:"10px",border:"1px solid var(--glass-border)"},children:[r.jsx("button",{onClick:()=>d("list"),style:{padding:"8px",borderRadius:"8px",background:u==="list"?"var(--umat-green)":"transparent",color:u==="list"?"white":"var(--text-muted)"},children:r.jsx(tf,{size:18})}),r.jsx("button",{onClick:()=>d("grid"),style:{padding:"8px",borderRadius:"8px",background:u==="grid"?"var(--umat-green)":"transparent",color:u==="grid"?"white":"var(--text-muted)"},children:r.jsx(ef,{size:18})})]})]})}),i.length===0&&!s?r.jsxs("div",{style:{textAlign:"center",padding:"60px 0",color:"var(--text-muted)"},children:[r.jsx(Sa,{size:48,style:{marginBottom:"16px",opacity:.5}}),r.jsxs("p",{children:["No files found in ",o,"."]})]}):u==="list"?r.jsx("div",{className:"glass-card",style:{overflow:"hidden"},children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{borderBottom:"1px solid var(--glass-border)",background:"rgba(255,255,255,0.02)"},children:[r.jsx("th",{style:{padding:"16px 24px",fontSize:"0.85rem",color:"var(--text-muted)"},children:"NAME"}),r.jsx("th",{style:{padding:"16px 24px",fontSize:"0.85rem",color:"var(--text-muted)"},children:"SIZE"}),r.jsx("th",{style:{padding:"16px 24px",fontSize:"0.85rem",color:"var(--text-muted)"},children:"UPLOADED BY"}),r.jsx("th",{style:{padding:"16px 24px",fontSize:"0.85rem",color:"var(--text-muted)"},children:"DATE"}),r.jsx("th",{style:{padding:"16px 24px"}})]})}),r.jsx("tbody",{children:w.map(j=>r.jsxs("tr",{className:"shadow-hover",style:{borderBottom:"1px solid var(--glass-border)",cursor:"pointer"},onClick:()=>y(j),children:[r.jsx("td",{style:{padding:"16px 24px"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r.jsx(Bi,{name:j.name,size:20}),r.jsx("span",{style:{fontWeight:500},children:j.name})]})}),r.jsx("td",{style:{padding:"16px 24px",color:"var(--text-muted)",fontSize:"0.9rem"},children:j.size}),r.jsx("td",{style:{padding:"16px 24px"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},title:j.uploader_name,children:[j.uploader_avatar?r.jsx("img",{src:j.uploader_avatar,alt:j.uploader_name,style:{width:"20px",height:"20px",borderRadius:"50%",objectFit:"cover"}}):r.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:"var(--umat-navy)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.65rem",color:"white"},children:j.uploader_name?.charAt(0)}),r.jsx("span",{style:{fontSize:"0.85rem"},children:j.uploader_name})]})}),r.jsx("td",{style:{padding:"16px 24px",color:"var(--text-muted)",fontSize:"0.9rem"},children:new Date(j.created_at||Date.now()).toLocaleDateString()}),r.jsx("td",{style:{padding:"16px 24px",textAlign:"right"},children:r.jsx(Vx,{size:18,color:"var(--text-muted)"})})]},j.id))})]})}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"20px"},children:w.map(j=>r.jsxs("div",{className:"glass-card shadow-hover",style:{padding:"20px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},onClick:()=>y(j),children:[r.jsx("div",{style:{marginBottom:"12px"},children:r.jsx(Bi,{name:j.name,size:48})}),r.jsx("p",{style:{fontWeight:600,fontSize:"0.9rem",marginBottom:"4px",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:j.name}),r.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"12px"},children:j.size}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"auto"},title:j.uploader_name,children:[j.uploader_avatar?r.jsx("img",{src:j.uploader_avatar,alt:j.uploader_name,style:{width:"16px",height:"16px",borderRadius:"50%",objectFit:"cover"}}):r.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:"var(--umat-navy)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.65rem",color:"white"},children:j.uploader_name?.charAt(0)}),r.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:j.uploader_name})]})]},j.id))})]}):r.jsxs("div",{className:"main-content",children:[r.jsxs("header",{style:{marginBottom:"32px"},children:[r.jsx("h1",{style:{fontSize:"2rem",marginBottom:"8px"},children:"Categories"}),r.jsx("p",{style:{color:"var(--text-muted)"},children:"Organized view of your academic resources."})]}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"24px"},children:b.map(j=>r.jsxs("div",{className:"glass-card shadow-hover",onClick:()=>v(j.id),style:{padding:"32px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"16px",transition:"transform 0.2s"},children:[r.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:j.color,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"8px"},children:j.icon}),r.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:600},children:j.label}),r.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Click to view files"})]},j.id))})]})},GE=()=>{const{sharedItems:i,fetchSharedFiles:t,loading:s}=js(),[o,c]=T.useState("list"),[u,d]=T.useState(""),[p,m]=T.useState(null),[g,y]=T.useState(null),[b,v]=T.useState([{id:null,name:"Root"}]);T.useEffect(()=>{t(g)},[g]);const w=A=>{A.type==="folder"?(y(A.id),v(C=>[...C,{id:A.id,name:A.name}])):m(A)},j=()=>{if(b.length>1){const A=[...b];A.pop();const C=A[A.length-1];y(C.id),v(A)}},_=i.filter(A=>{const C=A.uploader_name||"Unknown";return A.name.toLowerCase().includes(u.toLowerCase())||C.toLowerCase().includes(u.toLowerCase())});return p?r.jsx(vc,{file:p,onBack:()=>m(null)}):r.jsxs("div",{className:"main-content",children:[r.jsxs("header",{style:{marginBottom:"32px",display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[r.jsxs("div",{children:[r.jsxs("h1",{style:{fontSize:"2rem",marginBottom:"8px"},children:["Shared with Me ",s&&r.jsx(dt,{className:"animate-spin inline-block ml-2",size:20})]}),r.jsx("p",{style:{color:"var(--text-muted)"},children:b.length>1?r.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsxs("button",{onClick:j,style:{background:"none",border:"none",color:"var(--umat-gold)",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontWeight:600},children:[r.jsx(Kh,{size:16})," Back"]}),r.jsx("span",{style:{color:"rgba(255,255,255,0.2)"},children:"/"}),r.jsx("span",{style:{color:"var(--text-main)"},children:b[b.length-1].name})]}):"Academic resources and documents shared with you by institutional colleagues."})]}),b.length>1&&r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--text-muted)",fontSize:"0.85rem"},children:[r.jsx(Sa,{size:14})," Shared Workspace"]})]}),r.jsx("div",{className:"glass-card",style:{padding:"24px",marginBottom:"24px"},children:r.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[r.jsxs("div",{style:{flex:1,position:"relative"},children:[r.jsx(Sn,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{type:"text",placeholder:"Search shared files or owners...",value:u,onChange:A=>d(A.target.value),style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"12px 12px 12px 48px",borderRadius:"12px",color:"var(--text-main)",outline:"none"}})]}),r.jsxs("div",{style:{display:"flex",gap:"8px",background:"var(--glass)",padding:"4px",borderRadius:"10px",border:"1px solid var(--glass-border)"},children:[r.jsx("button",{onClick:()=>c("list"),style:{padding:"8px",borderRadius:"8px",background:o==="list"?"var(--umat-green)":"transparent",color:o==="list"?"white":"var(--text-muted)"},children:r.jsx(tf,{size:18})}),r.jsx("button",{onClick:()=>c("grid"),style:{padding:"8px",borderRadius:"8px",background:o==="grid"?"var(--umat-green)":"transparent",color:o==="grid"?"white":"var(--text-muted)"},children:r.jsx(ef,{size:18})})]}),r.jsxs("button",{className:"btn-outline",children:[r.jsx(cc,{size:18}),r.jsx("span",{children:"Filter"})]})]})}),o==="list"?r.jsx("div",{className:"glass-card",style:{overflow:"hidden"},children:r.jsx("div",{className:"responsive-table",children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left",minWidth:"700px"},children:[r.jsx("thead",{className:"shared-table-header",children:r.jsxs("tr",{style:{borderBottom:"1px solid var(--glass-border)",background:"rgba(255,255,255,0.02)"},children:[r.jsx("th",{style:{padding:"16px 24px",fontSize:"0.85rem",color:"var(--text-muted)"},children:"FILE NAME"}),r.jsx("th",{style:{padding:"16px 24px",fontSize:"0.85rem",color:"var(--text-muted)"},children:"SHARED BY"}),r.jsx("th",{style:{padding:"16px 24px",fontSize:"0.85rem",color:"var(--text-muted)"},children:"DATE SHARED"}),r.jsx("th",{style:{padding:"16px 24px",fontSize:"0.85rem",color:"var(--text-muted)"},children:"SIZE"}),r.jsx("th",{style:{padding:"16px 24px"}})]})}),r.jsx("tbody",{children:_.map((A,C)=>r.jsxs("tr",{className:"shadow-hover shared-table-row",style:{borderBottom:"1px solid var(--glass-border)",cursor:"pointer"},onClick:()=>w(A),children:[r.jsx("td",{style:{padding:"16px 24px"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r.jsx("div",{style:{padding:"8px",background:"rgba(0, 104, 55, 0.1)",borderRadius:"8px"},children:r.jsx(Bi,{name:A.name,size:18})}),r.jsx("span",{style:{fontWeight:500},children:A.name})]})}),r.jsx("td",{style:{padding:"16px 24px"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},title:A.uploader_name,children:[r.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"var(--umat-navy)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",color:"white",fontWeight:"bold",border:"1px solid var(--umat-gold)",overflow:"hidden",flexShrink:0},children:A.uploader_avatar?r.jsx("img",{src:A.uploader_avatar,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):(A.uploader_name||"U").charAt(0)}),r.jsx("span",{style:{fontSize:"0.9rem"},children:A.uploader_name||"Unknown User"})]})}),r.jsx("td",{style:{padding:"16px 24px",fontSize:"0.9rem",color:"var(--text-muted)"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(jn,{size:14})," ",new Date(A.created_at).toLocaleDateString()]})}),r.jsx("td",{style:{padding:"16px 24px",fontSize:"0.9rem",color:"var(--text-muted)"},children:A.size}),r.jsx("td",{style:{padding:"16px 24px",textAlign:"right"},children:r.jsx("button",{style:{background:"none",border:"none",color:"var(--text-muted)",cursor:"pointer"},children:r.jsx(Jh,{size:18})})})]},C))})]})})}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:_.map((A,C)=>r.jsxs("div",{className:"glass-card shadow-hover",style:{padding:"24px",cursor:"pointer",position:"relative"},onClick:()=>w(A),children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[r.jsx("div",{style:{padding:"12px",background:"rgba(0, 104, 55, 0.1)",borderRadius:"12px"},children:r.jsx(Bi,{name:A.name,size:24})}),r.jsx(Yl,{size:18,color:"var(--umat-gold)"})]}),r.jsx("h3",{style:{fontSize:"1rem",marginBottom:"8px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:A.name}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},title:A.uploader_name,children:[r.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"var(--umat-navy)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",color:"white",fontWeight:"bold",border:"1px solid var(--umat-gold)",overflow:"hidden",flexShrink:0},children:A.uploader_avatar?r.jsx("img",{src:A.uploader_avatar,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):(A.uploader_name||"U").charAt(0)}),r.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)",fontWeight:500},children:A.uploader_name||"Unknown"})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"16px",borderTop:"1px solid var(--glass-border)"},children:[r.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:A.size}),r.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:new Date(A.created_at).toLocaleDateString()})]})]},C))}),r.jsx("style",{children:`
                @media (max-width: 768px) {
                    .main-content header {
                        flex-direction: column;
                        align-items: flex-start !important;
                        gap: 16px;
                    }
                    .main-content header h1 {
                        font-size: 1.5rem !important;
                    }
                    .shared-table-header th:not(:first-child):not(:last-child) {
                        display: none;
                    }
                    .shared-table-row td:not(:first-child):not(:last-child) {
                        display: none;
                    }
                }
            `})]})},WE=()=>{const i=[{q:"How do I share files with members outside the board?",a:"Sharing is restricted to institutional roles. You can generate a temporary secure link via the File Details panel."},{q:"What is the maximum file size for uploads?",a:"Individual files can be up to 50MB. Bulk uploads are capped at 500MB total per session."},{q:"How do I recover a deleted file?",a:"Navigate to the 'Trash' tab in the sidebar. Files are kept for 30 days before permanent deletion."},{q:"Can I annotate PDFs directly in the browser?",a:"Yes, open any PDF and use the 'Annotate' toolbar at the top of the preview window."}];return r.jsxs("div",{className:"main-content",children:[r.jsxs("header",{style:{marginBottom:"40px",textAlign:"center"},children:[r.jsxs("h1",{style:{fontSize:"2.5rem",marginBottom:"16px"},children:["How can we ",r.jsx("span",{style:{color:"var(--umat-gold)"},children:"help you?"})]}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.1rem",maxWidth:"600px",margin:"0 auto"},children:"Search our knowledge base or contact the UMAT IT support desk for institutional assistance."}),r.jsxs("div",{style:{position:"relative",maxWidth:"600px",margin:"32px auto 0 auto"},children:[r.jsx(Sn,{size:20,style:{position:"absolute",left:"20px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),r.jsx("input",{type:"text",placeholder:"Search for guides, FAQs, or tutorials...",style:{width:"100%",background:"var(--glass)",border:"1px solid var(--glass-border)",padding:"16px 16px 16px 56px",borderRadius:"12px",color:"white",fontSize:"1rem",outline:"none"}})]})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"24px",marginBottom:"48px"},children:[r.jsxs("div",{className:"glass-card",style:{padding:"30px",textAlign:"center"},children:[r.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"12px",background:"rgba(0, 104, 55, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px auto"},children:r.jsx(Gw,{color:"var(--umat-green)",size:24})}),r.jsx("h3",{style:{marginBottom:"12px"},children:"Documentation"}),r.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"20px"},children:"Comprehensive guides on all ShareHub features."}),r.jsx("button",{className:"btn-outline",style:{width:"100%"},children:"Browse Guides"})]}),r.jsxs("div",{className:"glass-card",style:{padding:"30px",textAlign:"center"},children:[r.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"12px",background:"rgba(251, 191, 36, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px auto"},children:r.jsx(rf,{color:"var(--umat-gold)",size:24})}),r.jsx("h3",{style:{marginBottom:"12px"},children:"Video Tutorials"}),r.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"20px"},children:"Short walkthroughs for board members."}),r.jsx("button",{className:"btn-outline",style:{width:"100%"},children:"Watch Now"})]}),r.jsxs("div",{className:"glass-card",style:{padding:"30px",textAlign:"center"},children:[r.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"12px",background:"rgba(0, 45, 98, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px auto"},children:r.jsx(fS,{color:"var(--umat-navy)",size:24})}),r.jsx("h3",{style:{marginBottom:"12px"},children:"Live Support"}),r.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"20px"},children:"Chat with the IT services command center."}),r.jsx("button",{className:"btn-primary",style:{width:"100%",justifyContent:"center"},children:"Start Chat"})]})]}),r.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[r.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"24px"},children:"Frequently Asked Questions"}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:i.map((t,s)=>r.jsxs("div",{className:"glass-card",style:{padding:"24px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},children:[r.jsx("h4",{style:{fontSize:"1.05rem",margin:0},children:t.q}),r.jsx(za,{size:18,color:"var(--text-muted)"})]}),r.jsx("p",{style:{marginTop:"16px",color:"var(--text-muted)",fontSize:"0.95rem",lineHeight:1.6},children:t.a})]},s))})]}),r.jsxs("div",{style:{marginTop:"64px",textAlign:"center",padding:"40px",background:"rgba(255,255,255,0.02)",borderRadius:"24px"},children:[r.jsx("h3",{style:{marginBottom:"8px"},children:"Still need help?"}),r.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"24px"},children:"Our technical team is available Monday - Friday, 8:00 AM - 5:00 PM GMT."}),r.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"center"},children:[r.jsxs("button",{className:"btn-outline",children:[r.jsx(Px,{size:16,style:{marginRight:"8px"}}),"Open Ticket"]}),r.jsx("button",{className:"btn-outline",children:"Email Support"})]})]})]})},Ux={en:{"nav.features":"Features","nav.about":"About","nav.howItWorks":"How It Works","nav.support":"Support","nav.login":"Staff Login","nav.register":"Register","hero.tag":"EST. OFFICE OF THE REGISTRY","hero.title.part1":"The ","hero.title.highlight":"Premier","hero.title.part2":" Academic Board Ecosystem.","hero.subtitle":"Secure, real-time collaboration designed exclusively for institutional governance at the University of Mines and Technology.","hero.cta":"Access Board Portal","hero.stat.members":"Board Members","hero.stat.archives":"Archives","hero.stat.reliability":"Reliability","features.tag":"CORE ARCHITECTURE","features.title":"Institutional Sovereignty.","features.subtitle":"A bespoke digital ecosystem engineered for the specific governance requirements of the UMaT Academic Board.","features.1.title":"Governance Security","features.1.desc":"End-to-end encrypted storage for institutional policies and sensitive board minutes.","features.2.title":"Semantic Discovery","features.2.desc":"Multi-year archive search powered by full-text indexing and smart categorization.","features.3.title":"Board Collaboration","features.3.desc":"Live threaded discussions and private annotations on shared academic documents.","stats.boards":"Academic Boards","stats.papers":"Research Papers","stats.security":"Security Grade","stats.availability":"Availability"},fr:{"nav.features":"Fonctionnalits","nav.about":" propos","nav.howItWorks":"Comment a marche","nav.support":"Support","nav.login":"Connexion Personnel","nav.register":"S'inscrire","hero.tag":"TABLI BUREAU DU REGISTRE","hero.title.part1":"L'cosystme ","hero.title.highlight":"Premier","hero.title.part2":" du conseil acadmique.","hero.subtitle":"Une collaboration scurise en temps rel conue exclusivement pour la gouvernance institutionnelle  l'Universit des Mines et de la Technologie.","hero.cta":"Accder au Portail","hero.stat.members":"Membres du Conseil","hero.stat.archives":"Archives","hero.stat.reliability":"Fiabilit","features.tag":"ARCHITECTURE DE BASE","features.title":"Souverainet Institutionnelle.","features.subtitle":"Un cosystme numrique sur mesure conu pour les exigences spcifiques de gouvernance du conseil acadmique de l'UMaT.","features.1.title":"Scurit de la Gouvernance","features.1.desc":"Stockage crypt de bout en bout pour les politiques institutionnelles et les procs-verbaux sensibles.","features.2.title":"Dcouverte Smantique","features.2.desc":"Recherche d'archives sur plusieurs annes alimente par l'indexation plein texte et la catgorisation intelligente.","features.3.title":"Collaboration du Conseil","features.3.desc":"Discussions en direct et annotations prives sur les documents acadmiques partags.","stats.boards":"Conseils Acadmiques","stats.papers":"Documents de Recherche","stats.security":"Niveau de Scurit","stats.availability":"Disponibilit"},es:{"nav.features":"Caractersticas","nav.about":"Acerca de","nav.howItWorks":"Cmo funciona","nav.support":"Soporte","nav.login":"Inicio del Personal","nav.register":"Registrarse","hero.tag":"EST. OFICINA DEL REGISTRO","hero.title.part1":"El Ecosistema ","hero.title.highlight":"Principal","hero.title.part2":" de la Junta Acadmica.","hero.subtitle":"Colaboracin segura en tiempo real diseada exclusivamente para el gobierno institucional en la Universidad de Minas y Tecnologa.","hero.cta":"Acceder al Portal","hero.stat.members":"Miembros de la Junta","hero.stat.archives":"Archivos","hero.stat.reliability":"Fiabilidad","features.tag":"ARQUITECTURA PRINCIPAL","features.title":"Soberana Institucional.","features.subtitle":"Un ecosistema digital a medida diseado para los requisitos de gobierno especficos de la Junta Acadmica de UMaT.","features.1.title":"Seguridad de Gobierno","features.1.desc":"Almacenamiento cifrado de extremo a extremo para polticas institucionales y actas de la junta sensibles.","features.2.title":"Descubrimiento Semntico","features.2.desc":"Bsqueda de archivos de varios aos impulsada por indexacin de texto completo y categorizacin inteligente.","features.3.title":"Colaboracin de la Junta","features.3.desc":"Discusiones en vivo y anotaciones privadas en documentos acadmicos compartidos.","stats.boards":"Juntas Acadmicas","stats.papers":"Documentos de Investigacin","stats.security":"Nivel de Seguridad","stats.availability":"Disponibilidad"}},sb=T.createContext(void 0),YE=({children:i})=>{const[t,s]=T.useState("en"),o=c=>Ux[t][c]||Ux.en[c]||c;return r.jsx(sb.Provider,{value:{language:t,setLanguage:s,t:o},children:i})},bc=()=>{const i=T.useContext(sb);if(!i)throw new Error("useLanguage must be used within a LanguageProvider");return i},KE=({onLoginClick:i,onRegisterClick:t})=>{const{language:s,setLanguage:o,t:c}=bc(),[u,d]=T.useState(!1),[p,m]=T.useState(!1),[g,y]=T.useState(!1);T.useEffect(()=>{const w=()=>{d(window.scrollY>50)};return window.addEventListener("scroll",w),()=>window.removeEventListener("scroll",w)},[]);const b=[{name:c("nav.features"),href:"#features"},{name:c("nav.about"),href:"#about"},{name:c("nav.howItWorks"),href:"#how-it-works"},{name:c("nav.support"),href:"#support"}],v=[{code:"en",label:"English"},{code:"fr",label:"Franais"},{code:"es",label:"Espaol"}];return r.jsxs("header",{style:{position:"fixed",top:0,left:0,width:"100%",zIndex:1e3,transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",padding:u?"15px 0":"30px 0",background:u?"var(--bg-card)":"transparent",backdropFilter:u?"blur(20px)":"none",borderBottom:u?"1px solid var(--glass-border)":"1px solid transparent"},children:[r.jsxs("div",{className:"main-content",style:{padding:"0 40px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",cursor:"pointer"},children:[r.jsx("img",{src:vs,alt:"UMAT Logo",style:{width:"45px",height:"auto",filter:u?"drop-shadow(0 4px 6px rgba(0,0,0,0.1))":"none"}}),r.jsxs("div",{children:[r.jsxs("h1",{className:"playfair",style:{fontSize:"1.4rem",margin:0,fontWeight:700,letterSpacing:"1px"},children:["UMAT ",r.jsx("span",{style:{color:"var(--umat-gold)"},children:"ShareHub"})]}),r.jsx("p",{className:"mono",style:{fontSize:"0.65rem",margin:0,color:"var(--text-muted)",letterSpacing:"2px",textTransform:"uppercase"},children:"Secure Academic Cloud"})]})]}),r.jsxs("nav",{style:{display:"flex",gap:"40px",alignItems:"center"},children:[r.jsx("div",{style:{display:"none",gap:"30px"},className:"desktop-menu-links",children:b.map(w=>r.jsx("a",{href:w.href,style:{textDecoration:"none",color:"var(--text-main)",fontSize:"0.9rem",fontWeight:500,transition:"color 0.3s ease"},onMouseOver:j=>j.currentTarget.style.color="var(--umat-gold)",onMouseOut:j=>j.currentTarget.style.color="var(--text-main)",children:w.name},w.name))}),r.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[r.jsxs("div",{style:{position:"relative"},children:[r.jsxs("button",{onClick:()=>y(!g),style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid var(--glass-border)",color:"var(--text-main)",padding:"8px 16px",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.85rem",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s ease"},children:[r.jsx(Zh,{size:16}),r.jsx("span",{children:v.find(w=>w.code===s)?.label}),r.jsx(Hr,{size:14,style:{opacity:.6,transform:g?"rotate(180deg)":"none",transition:"transform 0.3s"}})]}),r.jsx(xs,{children:g&&r.jsx(ge.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},style:{position:"absolute",top:"110%",right:0,width:"160px",background:"var(--bg-card)",backdropFilter:"blur(20px)",border:"1px solid var(--glass-border)",borderRadius:"16px",padding:"8px",boxShadow:"0 20px 40px rgba(0,0,0,0.2)",zIndex:1001},children:v.map(w=>r.jsxs("button",{onClick:()=>{o(w.code),y(!1)},style:{width:"100%",padding:"10px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",background:"transparent",border:"none",color:s===w.code?"var(--umat-gold)":"var(--text-main)",fontSize:"0.85rem",fontWeight:s===w.code?600:400,borderRadius:"10px",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:j=>j.currentTarget.style.background="rgba(255,255,255,0.05)",onMouseOut:j=>j.currentTarget.style.background="transparent",children:[w.label,s===w.code&&r.jsx(ms,{size:14})]},w.code))})})]}),r.jsx("div",{style:{width:"1px",height:"24px",background:"var(--glass-border)"}}),r.jsx("button",{className:"btn-outline",style:{padding:"10px 24px",fontSize:"0.9rem"},onClick:i,children:c("nav.login")}),r.jsxs("button",{className:"btn-primary",style:{padding:"10px 24px",fontSize:"0.9rem"},onClick:t,children:[c("nav.register")," ",r.jsx(za,{size:16})]}),r.jsx("button",{className:"mobile-toggle",onClick:()=>m(!p),style:{background:"var(--glass)",border:"none",color:"var(--text-main)",padding:"10px",borderRadius:"10px",display:"flex"},children:p?r.jsx(Xt,{size:24}):r.jsx(dS,{size:24})})]})]})]}),r.jsx(xs,{children:p&&r.jsx(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},style:{background:"var(--bg-dark)",borderTop:"1px solid var(--glass-border)",overflow:"hidden"},children:r.jsxs("div",{style:{padding:"30px 40px",display:"flex",flexDirection:"column",gap:"20px"},children:[b.map(w=>r.jsx("a",{href:w.href,onClick:()=>m(!1),style:{textDecoration:"none",color:"var(--text-main)",fontSize:"1.2rem",fontWeight:600},children:w.name},w.name)),r.jsx("hr",{style:{border:"none",borderTop:"1px solid var(--glass-border)"}}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:v.map(w=>r.jsx("button",{onClick:()=>o(w.code),style:{padding:"8px 16px",borderRadius:"20px",border:"1px solid var(--glass-border)",background:s===w.code?"var(--umat-gold)":"transparent",color:s===w.code?"var(--umat-navy)":"var(--text-main)",fontSize:"0.8rem",fontWeight:600},children:w.label},w.code))}),r.jsx("button",{className:"btn-primary",onClick:t,style:{width:"100%",justifyContent:"center"},children:c("nav.register")})]})})}),r.jsx("style",{children:`
        @media (min-width: 1024px) {
          .desktop-menu-links { display: flex !important; }
          .mobile-toggle { display: none !important; }
        }
      `})]})},ql=({text:i,delay:t=0,speed:s=.03,className:o,style:c})=>{const u=i.split("");return r.jsx(ge.span,{className:o,style:{display:"inline-block",...c},initial:"hidden",animate:"visible",variants:{hidden:{opacity:1},visible:{opacity:1,transition:{delayChildren:t,staggerChildren:s}}},children:u.map((d,p)=>r.jsx(ge.span,{variants:{hidden:{opacity:0,display:"none"},visible:{opacity:1,display:"inline"}},children:d},p))})},XE=({onGetStarted:i,imageSrc:t})=>{const{t:s}=bc();return r.jsxs("section",{className:"hero-section",style:{minHeight:"100vh",display:"flex",alignItems:"center",padding:"120px 20px 80px 20px",position:"relative",overflow:"hidden"},children:[r.jsx(ge.div,{animate:{rotate:360},transition:{duration:50,repeat:1/0,ease:"linear"},style:{position:"absolute",top:"-10%",right:"-5%",width:"600px",height:"600px",background:"radial-gradient(circle, rgba(251, 191, 36, 0.03) 0%, transparent 70%)",zIndex:0}}),r.jsxs("div",{className:"main-content",style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr) 1.3fr",gap:"60px",alignItems:"center",position:"relative",zIndex:1},children:[r.jsxs(ge.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8},children:[r.jsxs("div",{className:"mono",style:{color:"var(--umat-gold)",fontSize:"0.9rem",fontWeight:700,letterSpacing:"6px",textTransform:"uppercase",marginBottom:"24px",display:"flex",alignItems:"center",gap:"16px"},children:[r.jsx(ge.span,{initial:{width:0},animate:{width:"40px"},transition:{duration:.6},style:{height:"2px",background:"var(--umat-gold)"}}),r.jsx(ql,{text:s("hero.tag"),speed:.05})]}),r.jsxs("h1",{className:"text-display",style:{marginBottom:"24px"},children:[r.jsx(ql,{text:s("hero.title.part1"),delay:1,speed:.05}),r.jsx(ge.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1.3,duration:.5},className:"text-gradient",children:s("hero.title.highlight")}),r.jsx(ql,{text:s("hero.title.part2"),delay:1.8,speed:.05})]}),r.jsx("p",{style:{fontSize:"1.25rem",color:"var(--text-muted)",marginBottom:"42px",maxWidth:"600px",lineHeight:1.6},children:r.jsx(ql,{text:s("hero.subtitle"),delay:3.5,speed:.015})}),r.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:5.5,duration:.8},style:{display:"flex",gap:"24px",alignItems:"center",flexWrap:"wrap"},children:[r.jsxs("button",{className:"btn-primary",onClick:i,style:{padding:"20px 40px",fontSize:"1.1rem",borderRadius:"14px",boxShadow:"0 15px 30px -5px rgba(0, 104, 55, 0.3)"},children:[s("hero.cta"),r.jsx(Ca,{size:22})]}),r.jsx("div",{style:{display:"flex",gap:"24px"},children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",color:"var(--text-muted)",fontSize:"0.85rem",fontWeight:600},children:[r.jsx(Yx,{size:20,color:"var(--umat-green)"}),"AES-256 SECURE"]})})]}),r.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:6.5,duration:1},style:{marginTop:"60px",display:"flex",gap:"48px",borderTop:"1px solid var(--glass-border)",paddingTop:"32px"},children:[{label:s("hero.stat.members"),value:"500+"},{label:s("hero.stat.archives"),value:"12k+"},{label:s("hero.stat.reliability"),value:"99.9%"}].map((o,c)=>r.jsxs("div",{children:[r.jsx("h3",{className:"playfair",style:{fontSize:"2.2rem",margin:0,color:"var(--text-main)"},children:o.value}),r.jsx("p",{className:"mono",style:{color:"var(--text-muted)",fontSize:"0.7rem",textTransform:"uppercase",margin:"4px 0 0 0"},children:o.label})]},c))})]}),r.jsxs(ge.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:1,delay:.2},style:{position:"relative"},children:[r.jsx("div",{style:{position:"absolute",inset:"-20px",background:"linear-gradient(135deg, var(--umat-green) 0%, transparent 100%)",opacity:.05,borderRadius:"40px",zIndex:-1}}),r.jsx(ge.div,{whileHover:{rotateY:-5,rotateX:5},transition:{type:"spring",stiffness:100},className:"glass-card",style:{padding:"12px",borderRadius:"32px",background:"rgba(255,255,255,0.05)",boxShadow:"0 40px 80px -20px rgba(0,0,0,0.3)",transformStyle:"preserve-3d",perspective:"1000px"},children:r.jsx("img",{src:t,alt:"ShareHub Dashboard",style:{width:"100%",height:"auto",borderRadius:"24px",display:"block"}})}),r.jsxs(ge.div,{animate:{y:[-15,15,-15]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"glass-card",style:{position:"absolute",bottom:"10%",right:"-30px",padding:"20px 24px",display:"flex",alignItems:"center",gap:"16px",background:"var(--bg-card)",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.2)"},children:[r.jsx("div",{style:{width:"48px",height:"48px",background:"var(--umat-gold)",borderRadius:"14px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--umat-navy)"},children:r.jsx(Qx,{size:24,fill:"currentColor"})}),r.jsxs("div",{children:[r.jsx("p",{style:{fontSize:"0.75rem",fontWeight:700,margin:0,color:"var(--umat-green)"},children:"SYNC STATUS"}),r.jsx("p",{style:{fontSize:"1rem",fontWeight:800,margin:0},children:"Active Global Node"})]})]})]})]})]})},QE=()=>{const{t:i}=bc(),t=[{title:i("features.1.title"),desc:i("features.1.desc"),icon:r.jsx(hn,{size:28}),color:"var(--umat-green)"},{title:i("features.2.title"),desc:i("features.2.desc"),icon:r.jsx(Sn,{size:28}),color:"var(--umat-gold)"},{title:i("features.3.title"),desc:i("features.3.desc"),icon:r.jsx(af,{size:28}),color:"var(--umat-navy)"},{title:"Strategic Calendar",desc:"Unified meeting hub for synchronizing board agendas and repository access.",icon:r.jsx(Zn,{size:28}),color:"var(--umat-copper)"},{title:"Insightful Analytics",desc:"Comprehensive oversight of document engagement and board activity trends.",icon:r.jsx($x,{size:28}),color:"var(--umat-green-light)"},{title:"Institutional Mobility",desc:"Uncompromised security across all devices, ensuring 24/7 governance continuity.",icon:r.jsx(ph,{size:28}),color:"var(--umat-gold-dark)"}];return r.jsxs("section",{id:"features",className:"institutional-grid",style:{padding:"80px 20px",position:"relative"},children:[r.jsx("div",{style:{position:"absolute",inset:0,background:"radial-gradient(circle at center, transparent 0%, var(--bg-dark) 100%)",zIndex:0}}),r.jsxs("div",{className:"main-content",style:{position:"relative",zIndex:1},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:"100px"},children:[r.jsx("div",{className:"mono",style:{color:"var(--umat-gold)",fontSize:"0.9rem",marginBottom:"20px",fontWeight:700,letterSpacing:"8px"},children:i("features.tag")}),r.jsx("h2",{className:"text-display",children:i("features.title")}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.25rem",maxWidth:"750px",margin:"0 auto",lineHeight:1.6},children:i("features.subtitle")})]}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))",gap:"40px"},children:t.map((s,o)=>r.jsxs(ge.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{delay:o*.1,duration:.5},viewport:{once:!0},className:"glass-card",style:{padding:"48px",display:"flex",flexDirection:"column",gap:"24px",borderTop:`4px solid ${s.color}`},children:[r.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"18px",background:`${s.color}15`,display:"flex",alignItems:"center",justifyContent:"center",color:s.color,boxShadow:`0 10px 20px -5px ${s.color}20`},children:s.icon}),r.jsxs("div",{children:[r.jsx("h3",{className:"playfair",style:{fontSize:"1.75rem",marginBottom:"12px",color:"var(--text-main)"},children:s.title}),r.jsx("p",{style:{color:"var(--text-muted)",lineHeight:1.8,fontSize:"1rem"},children:s.desc})]}),r.jsx(ge.div,{initial:{width:0},whileInView:{width:"40px"},style:{height:"2px",background:s.color,marginTop:"auto"}})]},o))})]})]})},JE=()=>{const i=[{feature:"Searchability",whatsapp:"Manual/Linear",sharehub:"Semantic/Instant"},{feature:"Institutional Security",whatsapp:"Basic Encryption",sharehub:"Board-Grade"},{feature:"File Lifecycle",whatsapp:"Fragile/Lost",sharehub:"Versioned/Archived"},{feature:"Access Control",whatsapp:"Public to Group",sharehub:"Role-Based"},{feature:"Accountability",whatsapp:"None",sharehub:"Full Audit Trail"}];return r.jsx("section",{id:"about",style:{padding:"80px 20px",background:"rgba(255,255,255,0.01)",position:"relative"},children:r.jsx("div",{className:"main-content",children:r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr) 1.2fr",gap:"100px",alignItems:"center"},children:[r.jsxs(ge.div,{initial:{opacity:0,x:-40},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[r.jsx("div",{className:"mono",style:{color:"var(--umat-gold)",marginBottom:"24px",fontSize:"0.9rem",fontWeight:800,letterSpacing:"4px"},children:"THE IMPERATIVE"}),r.jsxs("h2",{className:"text-display",children:["A Better Way ",r.jsx("br",{}),r.jsx("span",{className:"text-gradient",children:"to Govern."})]}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.25rem",marginBottom:"48px",lineHeight:1.6},children:"Moving beyond fragmented communication. ShareHub is the centralized, secure authority for the UMaT Academic Board."}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:["Centralized Institutional Repository","Semantic Search & Categorization","Governance Meeting Integration"].map((t,s)=>r.jsxs(ge.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:s*.1},style:{display:"flex",alignItems:"center",gap:"20px"},children:[r.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"var(--umat-green)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 16px -4px rgba(0, 104, 55, 0.4)"},children:r.jsx(ms,{size:16,color:"white"})}),r.jsx("span",{style:{fontSize:"1.2rem",fontWeight:600,color:"var(--text-main)"},children:t})]},s))}),r.jsxs("button",{className:"btn-outline",style:{marginTop:"60px",padding:"16px 32px",borderRadius:"12px"},children:["Read Institutional Policy ",r.jsx(Ca,{size:18,style:{marginLeft:"12px"}})]})]}),r.jsxs(ge.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},className:"glass-card",style:{padding:"0",overflow:"hidden",border:"1px solid var(--glass-border)",boxShadow:"0 40px 80px -20px rgba(0,0,0,0.1)"},children:[r.jsxs("div",{style:{padding:"40px",background:"linear-gradient(135deg, var(--umat-navy) 0%, var(--umat-green) 100%)",color:"white"},children:[r.jsx("h3",{className:"playfair",style:{fontSize:"1.8rem",margin:0},children:"Social Media vs. ShareHub"}),r.jsx("p",{style:{margin:"8px 0 0 0",opacity:.7,fontSize:"0.9rem"},children:"Comparative Risk Assessment"})]}),r.jsx("div",{style:{padding:"40px"},children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{textAlign:"left",borderBottom:"2px solid var(--glass-border)"},children:[r.jsx("th",{style:{padding:"20px 10px",color:"var(--text-muted)",fontWeight:700,fontSize:"0.8rem",textTransform:"uppercase"},children:"Metric"}),r.jsx("th",{style:{padding:"20px 10px",color:"#ff4b4b",fontWeight:700,fontSize:"0.8rem",textTransform:"uppercase"},children:"Legacy Ops"}),r.jsx("th",{style:{padding:"20px 10px",color:"var(--umat-gold)",fontWeight:700,fontSize:"0.8rem",textTransform:"uppercase"},children:"ShareHub"})]})}),r.jsx("tbody",{children:i.map((t,s)=>r.jsxs("tr",{style:{borderBottom:s<i.length-1?"1px solid var(--glass-border)":"none"},children:[r.jsx("td",{style:{padding:"24px 10px",fontWeight:600,fontSize:"1rem"},children:t.feature}),r.jsxs("td",{style:{padding:"24px 10px",color:"var(--text-muted)",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx(Xt,{size:16,color:"#ff4b4b"})," ",t.whatsapp]}),r.jsxs("td",{style:{padding:"24px 10px",color:"var(--umat-green-light)",fontSize:"0.95rem",fontWeight:700},children:[r.jsx(ms,{size:18,style:{marginRight:"8px"}})," ",t.sharehub]})]},s))})]})}),r.jsx("div",{style:{padding:"24px",background:"rgba(0, 104, 55, 0.03)",textAlign:"center",borderTop:"1px solid var(--glass-border)"},children:r.jsx("p",{className:"mono",style:{margin:0,fontSize:"0.7rem",color:"var(--text-muted)",textTransform:"uppercase"},children:"Institutional Audit Reference: UMAT-ISA-2024"})})]})]})})})},ZE=()=>{const i=[{num:"01",title:"Registry Verification",desc:"Institutional identity is cross-referenced with the Registry databases.",color:"var(--umat-green)"},{num:"02",title:"MFA Safeguards",desc:"Accounts are protected via multi-factor authentication protocols.",color:"var(--umat-gold)"},{num:"03",title:"Central Command",desc:"Govern and share documents using the unified board interface.",color:"var(--umat-navy)"},{num:"04",title:"Governance Audit",desc:"Every decision is logged and archived for institutional transparency.",color:"var(--umat-copper)"}];return r.jsxs("section",{id:"how-it-works",style:{padding:"80px 20px",background:"var(--bg-dark)",position:"relative",borderTop:"1px solid var(--glass-border)"},children:[r.jsxs("div",{className:"main-content",children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:"100px"},children:[r.jsx("div",{className:"mono",style:{color:"var(--umat-gold)",marginBottom:"24px",letterSpacing:"8px",fontWeight:800},children:"THE PROTOCOL"}),r.jsx("h2",{className:"text-display",children:"Institutional Flow."})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"60px",position:"relative"},children:[r.jsx("div",{className:"connector-line"}),i.map((t,s)=>r.jsxs(ge.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:s*.2},style:{textAlign:"center",position:"relative",zIndex:1},children:[r.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"32px",background:"var(--bg-card)",border:`2px solid ${t.color}`,margin:"0 auto 40px auto",display:"flex",alignItems:"center",justifyContent:"center",color:t.color,fontSize:"2rem",fontWeight:900,transform:"rotate(45deg)",boxShadow:`0 20px 40px ${t.color}15`},children:r.jsx("div",{style:{transform:"rotate(-45deg)"},children:t.num})}),r.jsx("h3",{className:"playfair",style:{fontSize:"1.75rem",marginBottom:"20px"},children:t.title}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.05rem",lineHeight:1.7},children:t.desc})]},s))]})]}),r.jsx("style",{children:`
        .connector-line {
          position: absolute;
          top: 60px;
          left: 15%;
          right: 15%;
          height: 2px;
          background: linear-gradient(90deg, transparent, var(--umat-gold), transparent);
          opacity: 0.1;
          display: none;
        }
        @media (min-width: 1024px) {
          .connector-line { display: block; }
        }
      `})]})},ez=()=>{const i=[{title:"Technical Desk",desc:"Direct line to our institutional IT command center for access issues.",icon:r.jsx(Jj,{size:28}),contact:"+233 (0) 3321 32456",action:"Call Now",color:"var(--umat-green)"},{title:"Email Support",desc:"Send us detailed inquiries or request for document restoration.",icon:r.jsx(bs,{size:28}),contact:"support@umat.edu.gh",action:"Send Email",color:"var(--umat-gold)"},{title:"Knowledge Base",desc:"Browse our comprehensive guides and board member tutorials.",icon:r.jsx(Qh,{size:28}),contact:"v1.0 Documentation",action:"Read Guides",color:"var(--umat-navy)"}];return r.jsxs("section",{id:"support",style:{padding:"100px 20px",background:"var(--bg-dark)",position:"relative",overflow:"hidden"},children:[r.jsx("div",{style:{position:"absolute",top:"20%",right:"-10%",width:"600px",height:"600px",background:"var(--umat-gold)",filter:"blur(150px)",opacity:.03}}),r.jsxs("div",{className:"main-content",style:{position:"relative",zIndex:1},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:"80px"},children:[r.jsx("div",{className:"mono",style:{color:"var(--umat-gold)",fontSize:"0.96rem",marginBottom:"20px",fontWeight:700,letterSpacing:"8px",textTransform:"uppercase"},children:"Reliability First"}),r.jsxs("h2",{className:"playfair",style:{fontSize:"3.5rem",marginBottom:"24px",lineHeight:1.1},children:["Institutional ",r.jsx("span",{className:"text-gradient",children:"Support"})]}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.2rem",maxWidth:"700px",margin:"0 auto",lineHeight:1.7},children:"Dedicated technical assistance for UMaT Board Members and Administrative Staff. We ensure your governance continuity."})]}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"32px"},children:i.map((t,s)=>r.jsxs(ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},className:"glass-card shadow-hover",style:{padding:"48px",position:"relative"},children:[r.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"16px",background:"var(--bg-dark)",border:"1px solid var(--glass-border)",display:"flex",alignItems:"center",justifyContent:"center",color:t.color,marginBottom:"32px",boxShadow:`0 10px 30px -10px ${t.color}30`},children:t.icon}),r.jsx("h3",{className:"playfair",style:{fontSize:"1.75rem",marginBottom:"16px"},children:t.title}),r.jsx("p",{style:{color:"var(--text-muted)",lineHeight:1.7,marginBottom:"24px",fontSize:"1rem"},children:t.desc}),r.jsxs("div",{style:{marginTop:"auto",paddingTop:"24px",borderTop:"1px solid var(--glass-border)"},children:[r.jsx("p",{style:{fontSize:"1.1rem",fontWeight:700,marginBottom:"20px",color:"var(--text-main)"},children:t.contact}),r.jsxs("button",{className:"btn-outline",style:{borderStyle:"dashed",borderRadius:"12px",width:"100%",justifyContent:"center",gap:"12px"},children:[t.action,r.jsx(Yl,{size:16})]})]})]},s))}),r.jsxs(ge.div,{initial:{opacity:0},whileInView:{opacity:1},style:{marginTop:"60px",padding:"24px 40px",background:"rgba(0, 107, 63, 0.05)",borderRadius:"24px",display:"flex",alignItems:"center",justifyContent:"center",gap:"20px",border:"1px solid rgba(0, 107, 63, 0.1)"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("div",{style:{width:"8px",height:"8px",background:"var(--umat-green)",borderRadius:"50%",boxShadow:"0 0 10px var(--umat-green)"}}),r.jsx("span",{style:{fontSize:"0.9rem",fontWeight:600,color:"var(--umat-green)"},children:"All Systems Operational"})]}),r.jsx("div",{style:{width:"1px",height:"20px",background:"var(--glass-border)"}}),r.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",margin:0},children:"Average response time: < 15 minutes"})]})]})]})},tz=()=>{const i=new Date().getFullYear();return r.jsx("footer",{style:{background:"var(--bg-card)",padding:"100px 20px 40px 20px",borderTop:"1px solid var(--glass-border)"},children:r.jsxs("div",{className:"main-content",children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"60px",marginBottom:"80px"},children:[r.jsxs("div",{style:{gridColumn:"span 2"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"24px"},children:[r.jsx("img",{src:vs,alt:"UMAT Logo",style:{width:"40px",height:"auto"}}),r.jsxs("h2",{className:"playfair",style:{fontSize:"1.5rem",margin:0},children:["UMAT ",r.jsx("span",{style:{color:"var(--umat-gold)"},children:"ShareHub"})]})]}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem",maxWidth:"350px",lineHeight:1.8},children:"Ensuring the integrity, security, and accessibility of institutional documents for the University of Mines and Technology Academic Board."}),r.jsx("div",{style:{display:"flex",gap:"16px",marginTop:"32px"},children:[nS,JS,bj].map((t,s)=>r.jsx("a",{href:"#",className:"glass-card",style:{padding:"10px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",color:"var(--text-muted)",transition:"all 0.3s ease"},children:r.jsx(t,{size:20})},s))})]}),r.jsxs("div",{children:[r.jsx("h4",{style:{fontSize:"1.1rem",marginBottom:"24px"},children:"Platform"}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:["Features","Security","Roadmap","Pricing"].map(t=>r.jsx("a",{href:"#",style:{color:"var(--text-muted)",textDecoration:"none",fontSize:"0.9rem",transition:"color 0.3s"},children:t},t))})]}),r.jsxs("div",{children:[r.jsx("h4",{style:{fontSize:"1.1rem",marginBottom:"24px"},children:"Institutional"}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:["Academic Board","Registry","Library","IT Services"].map(t=>r.jsx("a",{href:"#",style:{color:"var(--text-muted)",textDecoration:"none",fontSize:"0.9rem"},children:t},t))})]}),r.jsxs("div",{children:[r.jsx("h4",{style:{fontSize:"1.1rem",marginBottom:"24px"},children:"Contact IT Desk"}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[r.jsxs("div",{style:{display:"flex",gap:"12px",color:"var(--text-muted)",fontSize:"0.9rem"},children:[r.jsx(bs,{size:18,color:"var(--umat-gold)"}),"it.support@umat.edu.gh"]}),r.jsxs("div",{style:{display:"flex",gap:"12px",color:"var(--text-muted)",fontSize:"0.9rem"},children:[r.jsx(SS,{size:18,color:"var(--umat-gold)"}),"+233 (0) 3123 20324"]}),r.jsxs("div",{style:{display:"flex",gap:"12px",color:"var(--text-muted)",fontSize:"0.9rem"},children:[r.jsx(ka,{size:18,color:"var(--umat-gold)"}),"Tarkwa - Western Region, Ghana"]})]})]})]}),r.jsxs("div",{style:{borderTop:"1px solid var(--glass-border)",paddingTop:"40px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[r.jsxs("p",{className:"mono",style:{fontSize:"0.8rem",color:"var(--text-muted)",margin:0},children:[" ",i," University of Mines and Technology. All Rights Reserved."]}),r.jsxs("div",{style:{display:"flex",gap:"32px"},children:[r.jsx("a",{href:"#",style:{fontSize:"0.8rem",color:"var(--text-muted)",textDecoration:"none"},children:"Privacy Policy"}),r.jsx("a",{href:"#",style:{fontSize:"0.8rem",color:"var(--text-muted)",textDecoration:"none"},children:"Terms of Service"}),r.jsx("a",{href:"#",style:{fontSize:"0.8rem",color:"var(--text-muted)",textDecoration:"none"},children:"Security Audit"})]})]})]})})},ab="/assets/landicon-ZjF47SyL.jpg",nz=({onEnterPortal:i,onLoginClick:t,onRegisterClick:s})=>{const{t:o}=bc(),c=ab;return r.jsxs("div",{className:"landing-page",children:[r.jsx(KE,{onLoginClick:t,onRegisterClick:s}),r.jsx(XE,{onGetStarted:i,imageSrc:c}),r.jsx(QE,{}),r.jsxs("section",{style:{padding:"60px 20px",background:"var(--umat-green)",position:"relative",overflow:"hidden"},children:[r.jsx("div",{style:{position:"absolute",inset:0,opacity:.1,backgroundImage:"radial-gradient(var(--umat-gold) 1px, transparent 1px)",backgroundSize:"30px 30px"}}),r.jsx("div",{className:"main-content",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"40px",textAlign:"center",position:"relative",zIndex:1},children:[{label:o("stats.boards"),value:"150+"},{label:o("stats.papers"),value:"4.2k"},{label:o("stats.security"),value:"A+"},{label:o("stats.availability"),value:"24/7"}].map((u,d)=>r.jsxs(ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:d*.1},children:[r.jsx("h2",{className:"playfair",style:{fontSize:"3.5rem",margin:0,color:"var(--umat-gold)",fontWeight:800},children:u.value}),r.jsx("p",{className:"mono",style:{textTransform:"uppercase",letterSpacing:"3px",fontSize:"0.8rem",marginTop:"12px",color:"rgba(255,255,255,0.7)",fontWeight:600},children:u.label})]},d))})]}),r.jsx(JE,{}),r.jsx("section",{style:{padding:"80px 20px",background:"var(--bg-dark)"},children:r.jsxs("div",{className:"main-content",style:{display:"grid",gridTemplateColumns:"1fr 1.2fr",gap:"80px",alignItems:"center"},children:[r.jsxs("div",{className:"glass-card",style:{padding:"60px",borderRadius:"40px",background:"linear-gradient(135deg, rgba(0, 104, 55, 0.05) 0%, transparent 100%)"},children:[r.jsx("div",{className:"mono",style:{color:"var(--umat-gold)",marginBottom:"24px",fontSize:"0.9rem",fontWeight:800},children:"THE MISSION"}),r.jsx("h2",{className:"playfair",style:{fontSize:"3rem",lineHeight:1.2,marginBottom:"24px"},children:"Preserving the Integrity of Academic Discourse."}),r.jsx("p",{style:{fontSize:"1.1rem",color:"var(--text-muted)",lineHeight:1.8},children:"Our portal serves as the digital backbone of the University of Mines and Technology's governance, ensuring that every decision, policy, and research document is preserved with military-grade security."})]}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[{title:"Transparency",desc:"Full audit logs for every interaction.",icon:r.jsx(hn,{size:24})},{title:"Efficiency",desc:"Sync minutes in seconds across units.",icon:r.jsx(qS,{size:24})},{title:"Continuity",desc:"Decades of archives at your fingertips.",icon:r.jsx(On,{size:24})},{title:"Innovation",desc:"The first of its kind in Ghana.",icon:r.jsx(Ca,{size:24})}].map((u,d)=>r.jsxs(ge.div,{whileHover:{scale:1.05},className:"glass-card",style:{padding:"32px"},children:[r.jsx("div",{style:{color:"var(--umat-gold)",marginBottom:"16px"},children:u.icon}),r.jsx("h4",{style:{fontSize:"1.2rem",marginBottom:"8px"},children:u.title}),r.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",lineHeight:1.5},children:u.desc})]},d))})]})}),r.jsx(ZE,{}),r.jsx(ez,{}),r.jsx("section",{style:{padding:"60px 20px"},children:r.jsx("div",{className:"main-content",children:r.jsxs(ge.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},className:"glass-card",style:{padding:"100px 60px",textAlign:"center",background:"linear-gradient(225deg, var(--umat-navy) 0%, var(--umat-green) 100%)",border:"none",borderRadius:"48px",position:"relative",overflow:"hidden",boxShadow:"0 50px 100px -20px rgba(0, 45, 98, 0.4)"},children:[r.jsx("div",{style:{position:"absolute",top:"-10%",left:"-10%",width:"300px",height:"300px",background:"var(--umat-gold)",filter:"blur(100px)",opacity:.1}}),r.jsx("div",{style:{position:"absolute",bottom:"-10%",right:"-10%",width:"300px",height:"300px",background:"var(--umat-green-light)",filter:"blur(100px)",opacity:.2}}),r.jsx("div",{className:"mono",style:{color:"var(--umat-gold)",marginBottom:"32px",fontSize:"1rem",fontWeight:800,letterSpacing:"4px"},children:"SECURE ACCESS ONLY"}),r.jsxs("h2",{className:"playfair",style:{fontSize:"4rem",marginBottom:"32px",color:"white",lineHeight:1.1},children:["Elevate Your Academic ",r.jsx("br",{}),"Collaboration Today."]}),r.jsx("div",{style:{display:"flex",gap:"24px",justifyContent:"center"},children:r.jsxs("button",{className:"btn-primary",onClick:i,style:{padding:"24px 56px",fontSize:"1.2rem",borderRadius:"18px",background:"var(--umat-gold)",color:"var(--umat-navy)",boxShadow:"0 25px 50px -10px rgba(251, 191, 36, 0.5)",fontWeight:900},children:["Get Started",r.jsx(Ca,{size:24})]})})]})})}),r.jsx(tz,{})]})},iz=({onGoBack:i,onSwitchToRegister:t})=>{const[s,o]=T.useState(""),[c,u]=T.useState(""),[d,p]=T.useState(!1),[m,g]=T.useState(null),[y,b]=T.useState(!1),[v,w]=T.useState({isOpen:!1,title:"",description:"",onConfirm:()=>{},type:"info",confirmOnly:!1}),{signIn:j,resetPassword:_}=kt(),A=E=>{E.preventDefault(),s&&s.includes("@")?C(s):b(!0)},C=async E=>{const{error:U}=await _(E);w(U?{isOpen:!0,title:"Reset Error",description:`Failed to send reset email: ${U.message}`,type:"danger",confirmText:"Close",confirmOnly:!0,onConfirm:()=>{}}:{isOpen:!0,title:"Email Sent",description:"A password reset link has been dispatched to your institutional inbox. Please check your mail.",type:"success",confirmText:"Got it",confirmOnly:!0,onConfirm:()=>{}})},D=async E=>{E.preventDefault(),p(!0),g(null);try{const{error:U}=await j(s,c);if(U)throw U;console.log("Login successful!")}catch(U){console.error(U),g(U.message||"Invalid credentials.")}finally{p(!1)}};return r.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},children:[r.jsx("div",{style:{position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle at center, rgba(0, 104, 55, 0.05) 0%, transparent 60%)",zIndex:0}}),r.jsxs(ge.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"glass-card login-card",style:{width:"95%",maxWidth:"480px",padding:"40px 24px",position:"relative",zIndex:1,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid var(--glass-border)"},children:[r.jsxs("div",{style:{marginBottom:"40px",textAlign:"center"},children:[r.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px"},children:r.jsx("img",{src:vs,alt:"UMAT Logo",style:{width:"80px",height:"auto",filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.1))"}})}),r.jsx("h2",{className:"playfair",style:{fontSize:"2rem",marginBottom:"8px",color:"var(--text-main)"},children:"Welcome Back"}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem"},children:"Secure access for Academic Board Members"})]}),r.jsxs("form",{onSubmit:D,children:[r.jsxs("div",{style:{marginBottom:"24px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.85rem",fontWeight:600,color:"var(--text-main)"},children:"Staff Email ID"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(bs,{size:18,color:"var(--text-muted)",style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)"}}),r.jsx("input",{type:"email",value:s,onChange:E=>o(E.target.value),placeholder:"staff@umat.edu.gh",required:!0,style:{width:"100%",padding:"12px 16px 12px 48px",borderRadius:"12px",border:"1px solid var(--glass-border)",background:"var(--bg-card)",color:"var(--text-main)",fontSize:"0.95rem",outline:"none",transition:"border-color 0.2s"},onFocus:E=>E.target.style.borderColor="var(--umat-green)",onBlur:E=>E.target.style.borderColor="var(--glass-border)"})]})]}),r.jsxs("div",{style:{marginBottom:"32px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[r.jsx("label",{style:{fontSize:"0.85rem",fontWeight:600,color:"var(--text-main)"},children:"Password"}),r.jsx("span",{onClick:A,style:{fontSize:"0.8rem",color:"var(--umat-gold)",textDecoration:"none",cursor:"pointer"},children:"Forgot Password?"})]}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(gs,{size:18,color:"var(--text-muted)",style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)"}}),r.jsx("input",{type:"password",value:c,onChange:E=>u(E.target.value),placeholder:"",required:!0,style:{width:"100%",padding:"12px 16px 12px 48px",borderRadius:"12px",border:"1px solid var(--glass-border)",background:"var(--bg-card)",color:"var(--text-main)",fontSize:"0.95rem",outline:"none",transition:"border-color 0.2s"},onFocus:E=>E.target.style.borderColor="var(--umat-green)",onBlur:E=>E.target.style.borderColor="var(--glass-border)"})]})]}),m&&r.jsx("div",{style:{marginBottom:"20px",padding:"12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"8px",color:"#ef4444",fontSize:"0.85rem",textAlign:"center"},children:m}),r.jsxs("button",{type:"submit",disabled:d,className:"btn-primary",style:{width:"100%",padding:"14px",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",fontSize:"1rem",fontWeight:600,borderRadius:"12px",opacity:d?.7:1,cursor:d?"not-allowed":"pointer"},children:[d?r.jsx(dt,{className:"animate-spin",size:20}):"Secure Login"," ",r.jsx(Ca,{size:20})]})]}),r.jsx("div",{style:{marginTop:"32px",textAlign:"center"},children:r.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:["New to the Academic Board?"," ",r.jsx("button",{onClick:t,style:{background:"none",border:"none",color:"var(--umat-green)",fontWeight:600,cursor:"pointer",textDecoration:"underline"},children:"Apply for Access"})]})}),r.jsx("div",{style:{marginTop:"40px",display:"flex",justifyContent:"center"},children:r.jsxs("button",{onClick:i,style:{display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",color:"var(--text-muted)",fontSize:"0.85rem",cursor:"pointer",opacity:.8,transition:"opacity 0.2s"},children:[r.jsx(io,{size:16})," Return to Home"]})})]}),r.jsx(nb,{isOpen:y,onClose:()=>b(!1),onSubmit:C,title:"Reset Password",description:"Please enter your email address to receive password reset instructions.",placeholder:"staff@umat.edu.gh",confirmText:"Send Reset Link"}),r.jsx(fn,{isOpen:v.isOpen,onClose:()=>w(E=>({...E,isOpen:!1})),onConfirm:v.onConfirm,title:v.title,description:v.description,type:v.type,confirmText:v.confirmText,confirmOnly:v.confirmOnly})]})},sz=({onRegisterSuccess:i,onGoBack:t,onSwitchToLogin:s})=>{const[o,c]=T.useState({title:"Mr.",fullName:"",email:"",department:"",role:"Board Member",password:"",confirmPassword:""}),[u,d]=T.useState(!1),[p,m]=T.useState(!1),[g,y]=T.useState(null),b=(j,_)=>{c(A=>({...A,[j]:_}))},{signUp:v}=kt(),w=async j=>{j.preventDefault(),m(!0),y(null);const{title:_,fullName:A,email:C,department:D,role:E,password:U,confirmPassword:L}=o;if(U!==L){y("Passwords do not match."),m(!1);return}try{const{error:q}=await v(C,U,{full_name:`${_} ${A}`,department:D,role:E});if(q)throw q;i(),d(!0)}catch(q){y(q.message||"An unexpected error occurred.")}finally{m(!1)}};return u?r.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:r.jsxs(ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-card",style:{width:"100%",maxWidth:"450px",padding:"60px 40px",textAlign:"center"},children:[r.jsx("div",{style:{width:"70px",height:"70px",background:"rgba(16, 185, 129, 0.1)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px auto"},children:r.jsx(hn,{size:32,color:"#10b981"})}),r.jsx("h2",{className:"playfair",style:{fontSize:"1.8rem",marginBottom:"16px"},children:"Application Submitted"}),r.jsxs("p",{style:{color:"var(--text-muted)",marginBottom:"32px",lineHeight:"1.6"},children:["Your institutional profile for ",r.jsx("strong",{children:o.email})," is pending administrative approval. You will be able to access the portal once your account is activated."]}),r.jsx("button",{className:"btn-primary",onClick:s,style:{width:"100%"},children:"Proceed to Login"})]})}):r.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",padding:"40px 20px"},children:[r.jsx("div",{style:{position:"absolute",top:"-50%",right:"-50%",width:"180%",height:"180%",background:"radial-gradient(circle at center, rgba(177, 140, 58, 0.05) 0%, transparent 60%)",zIndex:0}}),r.jsxs(ge.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"glass-card",style:{width:"100%",maxWidth:"520px",padding:"50px 40px",position:"relative",zIndex:1,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid var(--glass-border)"},children:[r.jsxs("div",{style:{marginBottom:"32px",textAlign:"center"},children:[r.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:r.jsx("img",{src:vs,alt:"UMAT Logo",style:{width:"70px",height:"auto",filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.1))"}})}),r.jsx("h2",{className:"playfair",style:{fontSize:"1.8rem",marginBottom:"8px",color:"var(--text-main)"},children:"Apply for Access"}),r.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Join the secured UMAT Academic ShareHub"})]}),r.jsxs("form",{onSubmit:w,style:{display:"grid",gap:"20px"},children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"16px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.85rem",fontWeight:600,color:"var(--text-main)"},children:"Title"}),r.jsx("div",{style:{position:"relative"},children:r.jsxs("select",{value:o.title,onChange:j=>b("title",j.target.value),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"1px solid var(--glass-border)",background:"var(--bg-card)",color:"var(--text-main)",fontSize:"0.95rem",outline:"none",appearance:"none",cursor:"pointer"},children:[r.jsx("option",{value:"Prof.",children:"Prof."}),r.jsx("option",{value:"Dr.",children:"Dr."}),r.jsx("option",{value:"Mr.",children:"Mr."}),r.jsx("option",{value:"Mrs.",children:"Mrs."}),r.jsx("option",{value:"Ms.",children:"Ms."}),r.jsx("option",{value:"Ing.",children:"Ing."}),r.jsx("option",{value:"Rev.",children:"Rev."})]})})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.85rem",fontWeight:600,color:"var(--text-main)"},children:"Full Name"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(ws,{size:18,color:"var(--text-muted)",style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)"}}),r.jsx("input",{type:"text",value:o.fullName,onChange:j=>b("fullName",j.target.value),placeholder:"Kwame Mensah",required:!0,style:{width:"100%",padding:"12px 16px 12px 48px",borderRadius:"12px",border:"1px solid var(--glass-border)",background:"var(--bg-card)",color:"var(--text-main)",fontSize:"0.95rem",outline:"none"}})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.85rem",fontWeight:600,color:"var(--text-main)"},children:"Staff Email"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(bs,{size:18,color:"var(--text-muted)",style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)"}}),r.jsx("input",{type:"email",value:o.email,onChange:j=>b("email",j.target.value),placeholder:"k.mensah@umat.edu.gh",required:!0,style:{width:"100%",padding:"12px 16px 12px 48px",borderRadius:"12px",border:"1px solid var(--glass-border)",background:"var(--bg-card)",color:"var(--text-main)",fontSize:"0.95rem",outline:"none"}})]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.85rem",fontWeight:600,color:"var(--text-main)"},children:"Institutional Role"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(hn,{size:18,color:"var(--text-muted)",style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)"}}),r.jsxs("select",{value:o.role,onChange:j=>b("role",j.target.value),required:!0,style:{width:"100%",padding:"12px 16px 12px 48px",borderRadius:"12px",border:"1px solid var(--glass-border)",background:"var(--bg-card)",color:"var(--text-main)",fontSize:"0.95rem",outline:"none",appearance:"none"},children:[r.jsx("option",{value:"Board Member",children:"Board Member"}),r.jsx("option",{value:"Viewer",children:"Viewer"}),r.jsx("option",{value:"Guest",children:"Guest"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.85rem",fontWeight:600,color:"var(--text-main)"},children:"Department/Unit"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(Qw,{size:18,color:"var(--text-muted)",style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)"}}),r.jsxs("select",{value:o.department,onChange:j=>b("department",j.target.value),required:!0,style:{width:"100%",padding:"12px 16px 12px 48px",borderRadius:"12px",border:"1px solid var(--glass-border)",background:"var(--bg-card)",color:"var(--text-main)",fontSize:"0.95rem",outline:"none",appearance:"none"},children:[r.jsx("option",{value:"",children:"Select Department"}),r.jsx("option",{value:"Academic Affairs",children:"Academic Affairs"}),r.jsx("option",{value:"Computer Science",children:"Computer Science & Engineering"}),r.jsx("option",{value:"Mining Engineering",children:"Mining Engineering"}),r.jsx("option",{value:"Registry",children:"Registry"}),r.jsx("option",{value:"Finance",children:"Finance"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.85rem",fontWeight:600,color:"var(--text-main)"},children:"Password"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(gs,{size:18,color:"var(--text-muted)",style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)"}}),r.jsx("input",{type:"password",value:o.password,onChange:j=>b("password",j.target.value),placeholder:"Create a strong password",required:!0,style:{width:"100%",padding:"12px 16px 12px 48px",borderRadius:"12px",border:"1px solid var(--glass-border)",background:"var(--bg-card)",color:"var(--text-main)",fontSize:"0.95rem",outline:"none"}})]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.85rem",fontWeight:600,color:"var(--text-main)"},children:"Confirm Password"}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(gs,{size:18,color:"var(--text-muted)",style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)"}}),r.jsx("input",{type:"password",value:o.confirmPassword,onChange:j=>b("confirmPassword",j.target.value),placeholder:"Retype password",required:!0,style:{width:"100%",padding:"12px 16px 12px 48px",borderRadius:"12px",border:"1px solid var(--glass-border)",background:"var(--bg-card)",color:"var(--text-main)",fontSize:"0.95rem",outline:"none"}})]})]}),g&&r.jsx("div",{style:{padding:"12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"8px",color:"#ef4444",fontSize:"0.85rem",textAlign:"center"},children:g}),r.jsxs("button",{type:"submit",disabled:p,className:"btn-primary",style:{width:"100%",padding:"14px",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",fontSize:"1rem",fontWeight:600,borderRadius:"12px",marginTop:"10px",opacity:p?.7:1,cursor:p?"not-allowed":"pointer"},children:[p?r.jsx(dt,{className:"animate-spin",size:20}):"Submit Application"," ",r.jsx(Ca,{size:20})]})]}),r.jsx("div",{style:{marginTop:"24px",textAlign:"center"},children:r.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:["Already have an account?"," ",r.jsx("button",{onClick:s,style:{background:"none",border:"none",color:"var(--umat-green)",fontWeight:600,cursor:"pointer",textDecoration:"underline"},children:"Staff Login"})]})}),r.jsx("div",{style:{marginTop:"30px",display:"flex",justifyContent:"center"},children:r.jsxs("button",{onClick:t,style:{display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",color:"var(--text-muted)",fontSize:"0.85rem",cursor:"pointer",opacity:.8,transition:"opacity 0.2s"},children:[r.jsx(io,{size:16})," Return to Home"]})})]})]})};function az(){const{user:i,profile:t,signOut:s,loading:o}=kt(),[c,u]=T.useState(!0),[d,p]=T.useState(0),[m,g]=T.useState("Dashboard"),[y,b]=T.useState(!1),[v,w]=T.useState(!1),[j,_]=T.useState(!1),[A,C]=T.useState(0),[D,E]=T.useState("landing"),U=["UMAT was founded as the Tarkwa Technical Institute in 1952.","The university's motto is 'Knowledge, Resilience, and Service'.","UMAT became a fully-fledged university in 2004.","ShareHub uses military-grade 256-bit encryption for all academic files.","Secure collaboration is the heart of UMAT's digital sovereignty."];T.useEffect(()=>{const X=setInterval(()=>{p(te=>te>=100?(clearInterval(X),setTimeout(()=>u(!1),200),100):te+Math.random()*40)},50),z=setInterval(()=>{C(te=>(te+1)%U.length)},1500);return()=>{clearInterval(X),clearInterval(z)}},[U.length]);const L=async()=>{await s(),E("landing")},q=()=>{const X=t?.role==="Admin";switch(m){case"Dashboard":return r.jsx(Pl,{onUploadClick:()=>_(!0),setActiveTab:g});case"All Files":return r.jsx(NE,{});case"Categories":return r.jsx(FE,{});case"Shared with me":return r.jsx(GE,{});case"Meetings":return r.jsx(UE,{});case"Notifications":return r.jsx($E,{});case"Trash":return r.jsx(HE,{});case"User Management":return X?r.jsx(qE,{}):r.jsx(Pl,{onUploadClick:()=>_(!0),setActiveTab:g});case"Analytics":return X?r.jsx(VE,{}):r.jsx(Pl,{onUploadClick:()=>_(!0),setActiveTab:g});case"Account Security":return r.jsx(IE,{});case"Profile Settings":return r.jsx(LE,{});case"Help & Support":return r.jsx(WE,{});default:return r.jsx(Pl,{onUploadClick:()=>_(!0),setActiveTab:g})}},F=!!i&&t?.status==="Active";return T.useEffect(()=>{},[F,o,c]),o||c?r.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#0a0a0a",position:"relative",overflow:"hidden"},children:[r.jsx(ge.div,{initial:{scale:1.1},animate:{scale:1},transition:{duration:10,ease:"easeOut"},style:{position:"absolute",inset:0,backgroundImage:`url(${ab})`,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(2px) brightness(0.25)",zIndex:0}}),r.jsx("div",{style:{position:"absolute",inset:0,background:"radial-gradient(circle at center, rgba(0, 104, 55, 0.4) 0%, rgba(0,0,0,0.8) 100%)",zIndex:1}}),r.jsxs(ge.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{duration:.8},style:{zIndex:2,textAlign:"center",width:"100%",maxWidth:"400px",padding:"0 20px"},children:[r.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"40px",animation:"float 6s ease-in-out infinite"},children:r.jsx("div",{style:{padding:"20px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"50%",border:"1px solid rgba(251, 191, 36, 0.2)",boxShadow:"0 0 50px rgba(0, 107, 63, 0.3)",backdropFilter:"blur(10px)"},children:r.jsx("img",{src:vs,alt:"UMAT Logo",style:{width:"100px",height:"auto",filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.2))"}})})}),r.jsx("h2",{className:"playfair",style:{color:"white",letterSpacing:"4px",fontSize:"1.8rem",marginBottom:"8px",textShadow:"0 2px 10px rgba(0,0,0,0.5)"},children:"UMAT SHAREHUB"}),r.jsx("p",{style:{color:"rgba(255,255,255,0.6)",fontSize:"0.85rem",marginBottom:"40px",letterSpacing:"1px",textTransform:"uppercase"},children:"Secure Board Portal System"}),r.jsxs("div",{style:{width:"100%"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",fontSize:"0.75rem",color:"var(--umat-gold)",fontWeight:600},children:[r.jsx("span",{className:"mono",children:"SYSTEM INITIALIZATION"}),r.jsxs("span",{className:"mono",children:[Math.round(d),"%"]})]}),r.jsx("div",{style:{width:"100%",height:"3px",background:"rgba(255,255,255,0.1)",borderRadius:"10px",overflow:"hidden",position:"relative"},children:r.jsx(ge.div,{style:{height:"100%",background:"linear-gradient(90deg, var(--umat-gold), #fff)",width:`${d}%`,boxShadow:"0 0 10px var(--umat-gold)"},transition:{type:"spring",stiffness:50}})})]}),r.jsx("div",{style:{marginTop:"50px",height:"40px"},children:r.jsx(xs,{mode:"wait",children:r.jsx(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},style:{background:"rgba(0, 70, 30, 0.4)",padding:"8px 16px",borderRadius:"20px",border:"1px solid rgba(255,255,255,0.05)",display:"inline-block"},children:r.jsxs("p",{className:"mono",style:{color:"#aaa",fontSize:"0.75rem",margin:0},children:[r.jsx("span",{style:{color:"var(--umat-gold)",marginRight:"8px"},children:"Did You Know?"}),U[A]]})},A)})})]})]}):r.jsxs("div",{className:"app-container",children:[r.jsxs("div",{className:"bg-blobs",children:[r.jsx("div",{className:"blob blob-1"}),r.jsx("div",{className:"blob blob-2"}),r.jsx("div",{className:"blob blob-3"})]}),F&&r.jsxs("header",{className:"show-mobile",style:{position:"sticky",top:0,zIndex:1e3,background:"var(--bg-card)",backdropFilter:"blur(12px)",padding:"12px 20px",borderBottom:"1px solid var(--glass-border)",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[r.jsx("img",{src:vs,alt:"Logo",style:{width:"30px"}}),r.jsx("h2",{style:{fontSize:"1rem",margin:0,fontWeight:700},children:"ShareHub"})]}),r.jsx("button",{onClick:()=>w(!0),style:{background:"none",border:"none",color:"var(--text-main)",cursor:"pointer"},children:r.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),r.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),r.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),F&&v&&r.jsx("div",{className:"mobile-overlay",onClick:()=>w(!1)}),F?r.jsxs("div",{className:"dashboard-grid",style:{gridTemplateColumns:y?"120px 1fr":"320px 1fr",transition:"grid-template-columns 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:[r.jsx(AE,{activeTab:m,setActiveTab:X=>{g(X),w(!1)},collapsed:y,setCollapsed:b,onUploadClick:()=>{_(!0),w(!1)},onLogout:L,isMobileOpen:v}),r.jsx(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},style:{width:"100%"},children:q()},m),r.jsx(tb,{isOpen:j,onClose:()=>_(!1)})]}):r.jsxs(xs,{mode:"wait",children:[D==="landing"&&r.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsx(nz,{onEnterPortal:()=>E("login"),onLoginClick:()=>E("login"),onRegisterClick:()=>E("register")})},"landing"),D==="login"&&r.jsx(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:r.jsx(iz,{onGoBack:()=>E("landing"),onSwitchToRegister:()=>E("register")})},"login"),D==="register"&&r.jsx(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:r.jsx(sz,{onRegisterSuccess:()=>E("login"),onGoBack:()=>E("landing"),onSwitchToLogin:()=>E("login")})},"register")]})]})}const rz=T.createContext(void 0),oz=({children:i})=>{const{user:t}=kt(),{createNotification:s}=ii(),[o,c]=T.useState([]),[u,d]=T.useState(!1),p=async()=>{if(t){d(!0);try{const{data:v,error:w}=await ee.from("action_items").select(`
                    *,
                    assignee:assignee_id(full_name, avatar_url),
                    creator:created_by(full_name)
                `).order("due_date",{ascending:!0});if(w)throw w;v&&c(v)}catch(v){console.error("Error fetching tasks:",v)}finally{d(!1)}}},m=async v=>{if(t)try{const{data:w,error:j}=await ee.from("action_items").insert([{...v,status:"Pending",created_by:t.id}]).select(`
                    *,
                    assignee:assignee_id(full_name, avatar_url),
                    creator:created_by(full_name)
                `).single();if(j)throw j;c(_=>[w,..._]),v.assignee_id&&v.assignee_id!==t.id&&await s(v.assignee_id,"New Task Assigned",`You have been assigned a new task: "${v.title}"`,"info")}catch(w){throw console.error("Error creating task:",w),w}},g=async(v,w)=>{try{const{error:j}=await ee.from("action_items").update({status:w}).eq("id",v);if(j)throw j;c(_=>_.map(A=>A.id===v?{...A,status:w}:A))}catch(j){console.error("Error updating task status:",j)}},y=async(v,w)=>{try{const{error:j}=await ee.from("action_items").update({assignee_id:w}).eq("id",v);if(j)throw j;p()}catch(j){console.error("Error assigning task:",j)}},b=async v=>{try{const{error:w}=await ee.from("action_items").delete().eq("id",v);if(w)throw w;c(j=>j.filter(_=>_.id!==v))}catch(w){console.error("Error deleting task:",w)}};return T.useEffect(()=>{t?p():c([])},[t]),r.jsx(rz.Provider,{value:{tasks:o,loading:u,fetchTasks:p,createTask:m,updateTaskStatus:g,deleteTask:b,assignTask:y},children:i})};Ow.createRoot(document.getElementById("root")).render(r.jsx(T.StrictMode,{children:r.jsx(SE,{children:r.jsx(_E,{children:r.jsx(kE,{children:r.jsx(TE,{children:r.jsx(oz,{children:r.jsx(YE,{children:r.jsx(OE,{children:r.jsx(az,{})})})})})})})})}));
